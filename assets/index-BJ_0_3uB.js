var fG=Object.defineProperty;var gG=(e,t,r)=>t in e?fG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mG=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ge=(e,t,r)=>gG(e,typeof t!="symbol"?t+"":t,r);var ese=mG((ose,rp)=>{function vG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},hu={},Om={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function CG(){if(U0)return He;U0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=f&&O[f]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function S(O,N,J){this.props=O,this.context=N,this.refs=y,this.updater=J||v}S.prototype.isReactComponent={},S.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function b(){}b.prototype=S.prototype;function E(O,N,J){this.props=O,this.context=N,this.refs=y,this.updater=J||v}var P=E.prototype=new b;P.constructor=E,w(P,S.prototype),P.isPureReactComponent=!0;var F=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(O,N,J){var K,ie={},de=null,Re=null;if(N!=null)for(K in N.ref!==void 0&&(Re=N.ref),N.key!==void 0&&(de=""+N.key),N)k.call(N,K)&&!T.hasOwnProperty(K)&&(ie[K]=N[K]);var ye=arguments.length-2;if(ye===1)ie.children=J;else if(1<ye){for(var be=Array(ye),Le=0;Le<ye;Le++)be[Le]=arguments[Le+2];ie.children=be}if(O&&O.defaultProps)for(K in ye=O.defaultProps,ye)ie[K]===void 0&&(ie[K]=ye[K]);return{$$typeof:e,type:O,key:de,ref:Re,props:ie,_owner:A.current}}function L(O,N){return{$$typeof:e,type:O.type,key:N,ref:O.ref,props:O.props,_owner:O._owner}}function H(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function G(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(J){return N[J]})}var V=/\/+/g;function $(O,N){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):N.toString(36)}function te(O,N,J,K,ie){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(de){case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case e:case t:Re=!0}}if(Re)return Re=O,ie=ie(Re),O=K===""?"."+$(Re,0):K,F(ie)?(J="",O!=null&&(J=O.replace(V,"$&/")+"/"),te(ie,N,J,"",function(Le){return Le})):ie!=null&&(H(ie)&&(ie=L(ie,J+(!ie.key||Re&&Re.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+O)),N.push(ie)),1;if(Re=0,K=K===""?".":K+":",F(O))for(var ye=0;ye<O.length;ye++){de=O[ye];var be=K+$(de,ye);Re+=te(de,N,J,be,ie)}else if(be=g(O),typeof be=="function")for(O=be.call(O),ye=0;!(de=O.next()).done;)de=de.value,be=K+$(de,ye++),Re+=te(de,N,J,be,ie);else if(de==="object")throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Re}function se(O,N,J){if(O==null)return O;var K=[],ie=0;return te(O,K,"","",function(de){return N.call(J,de,ie++)}),K}function X(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(J){(O._status===0||O._status===-1)&&(O._status=1,O._result=J)},function(J){(O._status===0||O._status===-1)&&(O._status=2,O._result=J)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var Z={current:null},z={transition:null},ne={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:z,ReactCurrentOwner:A};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:se,forEach:function(O,N,J){se(O,function(){N.apply(this,arguments)},J)},count:function(O){var N=0;return se(O,function(){N++}),N},toArray:function(O){return se(O,function(N){return N})||[]},only:function(O){if(!H(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=S,He.Fragment=r,He.Profiler=i,He.PureComponent=E,He.StrictMode=n,He.Suspense=u,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=re,He.cloneElement=function(O,N,J){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var K=w({},O.props),ie=O.key,de=O.ref,Re=O._owner;if(N!=null){if(N.ref!==void 0&&(de=N.ref,Re=A.current),N.key!==void 0&&(ie=""+N.key),O.type&&O.type.defaultProps)var ye=O.type.defaultProps;for(be in N)k.call(N,be)&&!T.hasOwnProperty(be)&&(K[be]=N[be]===void 0&&ye!==void 0?ye[be]:N[be])}var be=arguments.length-2;if(be===1)K.children=J;else if(1<be){ye=Array(be);for(var Le=0;Le<be;Le++)ye[Le]=arguments[Le+2];K.children=ye}return{$$typeof:e,type:O.type,key:ie,ref:de,props:K,_owner:Re}},He.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},He.createElement=I,He.createFactory=function(O){var N=I.bind(null,O);return N.type=O,N},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:a,render:O}},He.isValidElement=H,He.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:X}},He.memo=function(O,N){return{$$typeof:d,type:O,compare:N===void 0?null:N}},He.startTransition=function(O){var N=z.transition;z.transition={};try{O()}finally{z.transition=N}},He.unstable_act=re,He.useCallback=function(O,N){return Z.current.useCallback(O,N)},He.useContext=function(O){return Z.current.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O){return Z.current.useDeferredValue(O)},He.useEffect=function(O,N){return Z.current.useEffect(O,N)},He.useId=function(){return Z.current.useId()},He.useImperativeHandle=function(O,N,J){return Z.current.useImperativeHandle(O,N,J)},He.useInsertionEffect=function(O,N){return Z.current.useInsertionEffect(O,N)},He.useLayoutEffect=function(O,N){return Z.current.useLayoutEffect(O,N)},He.useMemo=function(O,N){return Z.current.useMemo(O,N)},He.useReducer=function(O,N,J){return Z.current.useReducer(O,N,J)},He.useRef=function(O){return Z.current.useRef(O)},He.useState=function(O){return Z.current.useState(O)},He.useSyncExternalStore=function(O,N,J){return Z.current.useSyncExternalStore(O,N,J)},He.useTransition=function(){return Z.current.useTransition()},He.version="18.3.1",He}var $0;function jS(){return $0||($0=1,Om.exports=CG()),Om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function wG(){if(Y0)return hu;Y0=1;var e=jS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,d){var p,f={},g=null,v=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)n.call(u,p)&&!s.hasOwnProperty(p)&&(f[p]=u[p]);if(a&&a.defaultProps)for(p in u=a.defaultProps,u)f[p]===void 0&&(f[p]=u[p]);return{$$typeof:t,type:a,key:g,ref:v,props:f,_owner:i.current}}return hu.Fragment=r,hu.jsx=o,hu.jsxs=o,hu}var q0;function yG(){return q0||(q0=1,Am.exports=wG()),Am.exports}var xe=yG(),D=jS();const x=Tr(D),SG=vG({__proto__:null,default:x},[D]);var ih={},Im={exports:{}},_r={},Lm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function RG(){return j0||(j0=1,function(e){function t(z,ne){var re=z.length;z.push(ne);e:for(;0<re;){var O=re-1>>>1,N=z[O];if(0<i(N,ne))z[O]=ne,z[re]=N,re=O;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var ne=z[0],re=z.pop();if(re!==ne){z[0]=re;e:for(var O=0,N=z.length,J=N>>>1;O<J;){var K=2*(O+1)-1,ie=z[K],de=K+1,Re=z[de];if(0>i(ie,re))de<N&&0>i(Re,ie)?(z[O]=Re,z[de]=re,O=de):(z[O]=ie,z[K]=re,O=K);else if(de<N&&0>i(Re,re))z[O]=Re,z[de]=re,O=de;else break e}}return ne}function i(z,ne){var re=z.sortIndex-ne.sortIndex;return re!==0?re:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],d=[],p=1,f=null,g=3,v=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(z){for(var ne=r(d);ne!==null;){if(ne.callback===null)n(d);else if(ne.startTime<=z)n(d),ne.sortIndex=ne.expirationTime,t(u,ne);else break;ne=r(d)}}function F(z){if(y=!1,P(z),!w)if(r(u)!==null)w=!0,X(k);else{var ne=r(d);ne!==null&&Z(F,ne.startTime-z)}}function k(z,ne){w=!1,y&&(y=!1,b(I),I=-1),v=!0;var re=g;try{for(P(ne),f=r(u);f!==null&&(!(f.expirationTime>ne)||z&&!G());){var O=f.callback;if(typeof O=="function"){f.callback=null,g=f.priorityLevel;var N=O(f.expirationTime<=ne);ne=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(u)&&n(u),P(ne)}else n(u);f=r(u)}if(f!==null)var J=!0;else{var K=r(d);K!==null&&Z(F,K.startTime-ne),J=!1}return J}finally{f=null,g=re,v=!1}}var A=!1,T=null,I=-1,L=5,H=-1;function G(){return!(e.unstable_now()-H<L)}function V(){if(T!==null){var z=e.unstable_now();H=z;var ne=!0;try{ne=T(!0,z)}finally{ne?$():(A=!1,T=null)}}else A=!1}var $;if(typeof E=="function")$=function(){E(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=V,$=function(){se.postMessage(null)}}else $=function(){S(V,0)};function X(z){T=z,A||(A=!0,$())}function Z(z,ne){I=S(function(){z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,X(k))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var re=g;g=ne;try{return z()}finally{g=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=g;g=z;try{return ne()}finally{g=re}},e.unstable_scheduleCallback=function(z,ne,re){var O=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?O+re:O):re=O,z){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=re+N,z={id:p++,callback:ne,priorityLevel:z,startTime:re,expirationTime:N,sortIndex:-1},re>O?(z.sortIndex=re,t(d,z),r(u)===null&&z===r(d)&&(y?(b(I),I=-1):y=!0,Z(F,re-O))):(z.sortIndex=N,t(u,z),w||v||(w=!0,X(k))),z},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(z){var ne=g;return function(){var re=g;g=ne;try{return z.apply(this,arguments)}finally{g=re}}}}(_m)),_m}var K0;function bG(){return K0||(K0=1,Lm.exports=RG()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function DG(){if(Q0)return _r;Q0=1;var e=jS(),t=bG();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(i[l]=c,l=0;l<c.length;l++)n.add(c[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(l){return u.call(f,l)?!0:u.call(p,l)?!1:d.test(l)?f[l]=!0:(p[l]=!0,!1)}function v(l,c,h,m){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,c,h,m){if(c===null||typeof c>"u"||v(l,c,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(l,c,h,m,C,R,M){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=m,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=l,this.type=c,this.sanitizeURL=R,this.removeEmptyString=M}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){S[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];S[c]=new y(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){S[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){S[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){S[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){S[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){S[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){S[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){S[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(b,E);S[c]=new y(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(b,E);S[c]=new y(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(b,E);S[c]=new y(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){S[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),S.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){S[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function P(l,c,h,m){var C=S.hasOwnProperty(c)?S[c]:null;(C!==null?C.type!==0:m||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,C,m)&&(h=null),m||C===null?g(c)&&(h===null?l.removeAttribute(c):l.setAttribute(c,""+h)):C.mustUseProperty?l[C.propertyName]=h===null?C.type===3?!1:"":h:(c=C.attributeName,m=C.attributeNamespace,h===null?l.removeAttribute(c):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,m?l.setAttributeNS(m,c,h):l.setAttribute(c,h))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),G=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(l){return l===null||typeof l!="object"?null:(l=z&&l[z]||l["@@iterator"],typeof l=="function"?l:null)}var re=Object.assign,O;function N(l){if(O===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);O=c&&c[1]||""}return`
`+O+l}var J=!1;function K(l,c){if(!l||J)return"";J=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(j){var m=j}Reflect.construct(l,[],c)}else{try{c.call()}catch(j){m=j}l.call(c.prototype)}else{try{throw Error()}catch(j){m=j}l()}}catch(j){if(j&&m&&typeof j.stack=="string"){for(var C=j.stack.split(`
`),R=m.stack.split(`
`),M=C.length-1,_=R.length-1;1<=M&&0<=_&&C[M]!==R[_];)_--;for(;1<=M&&0<=_;M--,_--)if(C[M]!==R[_]){if(M!==1||_!==1)do if(M--,_--,0>_||C[M]!==R[_]){var W=`
`+C[M].replace(" at new "," at ");return l.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",l.displayName)),W}while(1<=M&&0<=_);break}}}finally{J=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?N(l):""}function ie(l){switch(l.tag){case 5:return N(l.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return l=K(l.type,!1),l;case 11:return l=K(l.type.render,!1),l;case 1:return l=K(l.type,!0),l;default:return""}}function de(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case A:return"Portal";case L:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case G:return(l.displayName||"Context")+".Consumer";case H:return(l._context.displayName||"Context")+".Provider";case V:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case se:return c=l.displayName||null,c!==null?c:de(l.type)||"Memo";case X:c=l._payload,l=l._init;try{return de(l(c))}catch{}}return null}function Re(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(c);case 8:return c===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ye(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function be(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Le(l){var c=be(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),m=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,R=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return C.call(this)},set:function(M){m=""+M,R.call(this,M)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function et(l){l._valueTracker||(l._valueTracker=Le(l))}function Ge(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return l&&(m=be(l)?l.checked?"true":"false":l.value),l=m,l!==h?(c.setValue(l),!0):!1}function je(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ct(l,c){var h=c.checked;return re({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function Me(l,c){var h=c.defaultValue==null?"":c.defaultValue,m=c.checked!=null?c.checked:c.defaultChecked;h=ye(c.value!=null?c.value:h),l._wrapperState={initialChecked:m,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ut(l,c){c=c.checked,c!=null&&P(l,"checked",c,!1)}function Ne(l,c){Ut(l,c);var h=ye(c.value),m=c.type;if(h!=null)m==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(m==="submit"||m==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Xt(l,c.type,h):c.hasOwnProperty("defaultValue")&&Xt(l,c.type,ye(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function zr(l,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var m=c.type;if(!(m!=="submit"&&m!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,h||c===l.value||(l.value=c),l.defaultValue=c}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function Xt(l,c,h){(c!=="number"||je(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var dt=Array.isArray;function _t(l,c,h,m){if(l=l.options,c){c={};for(var C=0;C<h.length;C++)c["$"+h[C]]=!0;for(h=0;h<l.length;h++)C=c.hasOwnProperty("$"+l[h].value),l[h].selected!==C&&(l[h].selected=C),C&&m&&(l[h].defaultSelected=!0)}else{for(h=""+ye(h),c=null,C=0;C<l.length;C++){if(l[C].value===h){l[C].selected=!0,m&&(l[C].defaultSelected=!0);return}c!==null||l[C].disabled||(c=l[C])}c!==null&&(c.selected=!0)}}function $t(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ht(l,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(dt(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}l._wrapperState={initialValue:ye(h)}}function Ur(l,c){var h=ye(c.value),m=ye(c.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),c.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),m!=null&&(l.defaultValue=""+m)}function $r(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function rt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?rt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ar,Ml=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,m,C){MSApp.execUnsafeLocalFunction(function(){return l(c,h,m,C)})}:l}(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ar.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function cs(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kc=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(l){Kc.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),to[c]=to[l]})});function Pn(l,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||to.hasOwnProperty(l)&&to[l]?(""+c).trim():c+"px"}function $n(l,c){l=l.style;for(var h in c)if(c.hasOwnProperty(h)){var m=h.indexOf("--")===0,C=Pn(h,c[h],m);h==="float"&&(h="cssFloat"),m?l.setProperty(h,C):l[h]=C}}var w1=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(l,c){if(c){if(w1[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function $f(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function qf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var jf=null,oa=null,aa=null;function aD(l){if(l=Xl(l)){if(typeof jf!="function")throw Error(r(280));var c=l.stateNode;c&&(c=Cd(c),jf(l.stateNode,l.type,c))}}function lD(l){oa?aa?aa.push(l):aa=[l]:oa=l}function uD(){if(oa){var l=oa,c=aa;if(aa=oa=null,aD(l),c)for(l=0;l<c.length;l++)aD(c[l])}}function cD(l,c){return l(c)}function dD(){}var Kf=!1;function hD(l,c,h){if(Kf)return l(c,h);Kf=!0;try{return cD(l,c,h)}finally{Kf=!1,(oa!==null||aa!==null)&&(dD(),uD())}}function Tl(l,c){var h=l.stateNode;if(h===null)return null;var m=Cd(h);if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(l=l.type,m=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!m;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Qf=!1;if(a)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Qf=!1}function y1(l,c,h,m,C,R,M,_,W){var j=Array.prototype.slice.call(arguments,3);try{c.apply(h,j)}catch(le){this.onError(le)}}var Al=!1,Qc=null,Xc=!1,Xf=null,S1={onError:function(l){Al=!0,Qc=l}};function R1(l,c,h,m,C,R,M,_,W){Al=!1,Qc=null,y1.apply(S1,arguments)}function b1(l,c,h,m,C,R,M,_,W){if(R1.apply(this,arguments),Al){if(Al){var j=Qc;Al=!1,Qc=null}else throw Error(r(198));Xc||(Xc=!0,Xf=j)}}function ro(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function pD(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function fD(l){if(ro(l)!==l)throw Error(r(188))}function D1(l){var c=l.alternate;if(!c){if(c=ro(l),c===null)throw Error(r(188));return c!==l?null:l}for(var h=l,m=c;;){var C=h.return;if(C===null)break;var R=C.alternate;if(R===null){if(m=C.return,m!==null){h=m;continue}break}if(C.child===R.child){for(R=C.child;R;){if(R===h)return fD(C),l;if(R===m)return fD(C),c;R=R.sibling}throw Error(r(188))}if(h.return!==m.return)h=C,m=R;else{for(var M=!1,_=C.child;_;){if(_===h){M=!0,h=C,m=R;break}if(_===m){M=!0,m=C,h=R;break}_=_.sibling}if(!M){for(_=R.child;_;){if(_===h){M=!0,h=R,m=C;break}if(_===m){M=!0,m=R,h=C;break}_=_.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:c}function gD(l){return l=D1(l),l!==null?mD(l):null}function mD(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=mD(l);if(c!==null)return c;l=l.sibling}return null}var vD=t.unstable_scheduleCallback,CD=t.unstable_cancelCallback,E1=t.unstable_shouldYield,P1=t.unstable_requestPaint,Nt=t.unstable_now,F1=t.unstable_getCurrentPriorityLevel,Jf=t.unstable_ImmediatePriority,wD=t.unstable_UserBlockingPriority,Jc=t.unstable_NormalPriority,x1=t.unstable_LowPriority,yD=t.unstable_IdlePriority,Zc=null,Yn=null;function M1(l){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Zc,l,void 0,(l.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:A1,T1=Math.log,k1=Math.LN2;function A1(l){return l>>>=0,l===0?32:31-(T1(l)/k1|0)|0}var ed=64,td=4194304;function Ol(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function rd(l,c){var h=l.pendingLanes;if(h===0)return 0;var m=0,C=l.suspendedLanes,R=l.pingedLanes,M=h&268435455;if(M!==0){var _=M&~C;_!==0?m=Ol(_):(R&=M,R!==0&&(m=Ol(R)))}else M=h&~C,M!==0?m=Ol(M):R!==0&&(m=Ol(R));if(m===0)return 0;if(c!==0&&c!==m&&!(c&C)&&(C=m&-m,R=c&-c,C>=R||C===16&&(R&4194240)!==0))return c;if(m&4&&(m|=h&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=m;0<c;)h=31-Fn(c),C=1<<h,m|=l[h],c&=~C;return m}function O1(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I1(l,c){for(var h=l.suspendedLanes,m=l.pingedLanes,C=l.expirationTimes,R=l.pendingLanes;0<R;){var M=31-Fn(R),_=1<<M,W=C[M];W===-1?(!(_&h)||_&m)&&(C[M]=O1(_,c)):W<=c&&(l.expiredLanes|=_),R&=~_}}function Zf(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function SD(){var l=ed;return ed<<=1,!(ed&4194240)&&(ed=64),l}function eg(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Il(l,c,h){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Fn(c),l[c]=h}function L1(l,c){var h=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var m=l.eventTimes;for(l=l.expirationTimes;0<h;){var C=31-Fn(h),R=1<<C;c[C]=0,m[C]=-1,l[C]=-1,h&=~R}}function tg(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var m=31-Fn(h),C=1<<m;C&c|l[m]&c&&(l[m]|=c),h&=~C}}var nt=0;function RD(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var bD,rg,DD,ED,PD,ng=!1,nd=[],ds=null,hs=null,ps=null,Ll=new Map,_l=new Map,fs=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FD(l,c){switch(l){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Ll.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(c.pointerId)}}function Nl(l,c,h,m,C,R){return l===null||l.nativeEvent!==R?(l={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:R,targetContainers:[C]},c!==null&&(c=Xl(c),c!==null&&rg(c)),l):(l.eventSystemFlags|=m,c=l.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),l)}function N1(l,c,h,m,C){switch(c){case"focusin":return ds=Nl(ds,l,c,h,m,C),!0;case"dragenter":return hs=Nl(hs,l,c,h,m,C),!0;case"mouseover":return ps=Nl(ps,l,c,h,m,C),!0;case"pointerover":var R=C.pointerId;return Ll.set(R,Nl(Ll.get(R)||null,l,c,h,m,C)),!0;case"gotpointercapture":return R=C.pointerId,_l.set(R,Nl(_l.get(R)||null,l,c,h,m,C)),!0}return!1}function xD(l){var c=no(l.target);if(c!==null){var h=ro(c);if(h!==null){if(c=h.tag,c===13){if(c=pD(h),c!==null){l.blockedOn=c,PD(l.priority,function(){DD(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function id(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=sg(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var m=new h.constructor(h.type,h);Yf=m,h.target.dispatchEvent(m),Yf=null}else return c=Xl(h),c!==null&&rg(c),l.blockedOn=h,!1;c.shift()}return!0}function MD(l,c,h){id(l)&&h.delete(c)}function G1(){ng=!1,ds!==null&&id(ds)&&(ds=null),hs!==null&&id(hs)&&(hs=null),ps!==null&&id(ps)&&(ps=null),Ll.forEach(MD),_l.forEach(MD)}function Gl(l,c){l.blockedOn===c&&(l.blockedOn=null,ng||(ng=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G1)))}function Hl(l){function c(C){return Gl(C,l)}if(0<nd.length){Gl(nd[0],l);for(var h=1;h<nd.length;h++){var m=nd[h];m.blockedOn===l&&(m.blockedOn=null)}}for(ds!==null&&Gl(ds,l),hs!==null&&Gl(hs,l),ps!==null&&Gl(ps,l),Ll.forEach(c),_l.forEach(c),h=0;h<fs.length;h++)m=fs[h],m.blockedOn===l&&(m.blockedOn=null);for(;0<fs.length&&(h=fs[0],h.blockedOn===null);)xD(h),h.blockedOn===null&&fs.shift()}var la=F.ReactCurrentBatchConfig,sd=!0;function H1(l,c,h,m){var C=nt,R=la.transition;la.transition=null;try{nt=1,ig(l,c,h,m)}finally{nt=C,la.transition=R}}function W1(l,c,h,m){var C=nt,R=la.transition;la.transition=null;try{nt=4,ig(l,c,h,m)}finally{nt=C,la.transition=R}}function ig(l,c,h,m){if(sd){var C=sg(l,c,h,m);if(C===null)Rg(l,c,m,od,h),FD(l,m);else if(N1(C,l,c,h,m))m.stopPropagation();else if(FD(l,m),c&4&&-1<_1.indexOf(l)){for(;C!==null;){var R=Xl(C);if(R!==null&&bD(R),R=sg(l,c,h,m),R===null&&Rg(l,c,m,od,h),R===C)break;C=R}C!==null&&m.stopPropagation()}else Rg(l,c,m,null,h)}}var od=null;function sg(l,c,h,m){if(od=null,l=qf(m),l=no(l),l!==null)if(c=ro(l),c===null)l=null;else if(h=c.tag,h===13){if(l=pD(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return od=l,null}function TD(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case Jf:return 1;case wD:return 4;case Jc:case x1:return 16;case yD:return 536870912;default:return 16}default:return 16}}var gs=null,og=null,ad=null;function kD(){if(ad)return ad;var l,c=og,h=c.length,m,C="value"in gs?gs.value:gs.textContent,R=C.length;for(l=0;l<h&&c[l]===C[l];l++);var M=h-l;for(m=1;m<=M&&c[h-m]===C[R-m];m++);return ad=C.slice(l,1<m?1-m:void 0)}function ld(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function ud(){return!0}function AD(){return!1}function Yr(l){function c(h,m,C,R,M){this._reactName=h,this._targetInst=C,this.type=m,this.nativeEvent=R,this.target=M,this.currentTarget=null;for(var _ in l)l.hasOwnProperty(_)&&(h=l[_],this[_]=h?h(R):R[_]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?ud:AD,this.isPropagationStopped=AD,this}return re(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),c}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=Yr(ua),Wl=re({},ua,{view:0,detail:0}),B1=Yr(Wl),lg,ug,Bl,cd=re({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Bl&&(Bl&&l.type==="mousemove"?(lg=l.screenX-Bl.screenX,ug=l.screenY-Bl.screenY):ug=lg=0,Bl=l),lg)},movementY:function(l){return"movementY"in l?l.movementY:ug}}),OD=Yr(cd),V1=re({},cd,{dataTransfer:0}),z1=Yr(V1),U1=re({},Wl,{relatedTarget:0}),cg=Yr(U1),$1=re({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=Yr($1),q1=re({},ua,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),j1=Yr(q1),K1=re({},ua,{data:0}),ID=Yr(K1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z1(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=J1[l])?!!c[l]:!1}function dg(){return Z1}var eN=re({},Wl,{key:function(l){if(l.key){var c=Q1[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=ld(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?X1[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(l){return l.type==="keypress"?ld(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ld(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),tN=Yr(eN),rN=re({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LD=Yr(rN),nN=re({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),iN=Yr(nN),sN=re({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Yr(sN),aN=re({},cd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=Yr(aN),uN=[9,13,27,32],hg=a&&"CompositionEvent"in window,Vl=null;a&&"documentMode"in document&&(Vl=document.documentMode);var cN=a&&"TextEvent"in window&&!Vl,_D=a&&(!hg||Vl&&8<Vl&&11>=Vl),ND=" ",GD=!1;function HD(l,c){switch(l){case"keyup":return uN.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WD(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ca=!1;function dN(l,c){switch(l){case"compositionend":return WD(c);case"keypress":return c.which!==32?null:(GD=!0,ND);case"textInput":return l=c.data,l===ND&&GD?null:l;default:return null}}function hN(l,c){if(ca)return l==="compositionend"||!hg&&HD(l,c)?(l=kD(),ad=og=gs=null,ca=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return _D&&c.locale!=="ko"?null:c.data;default:return null}}var pN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!pN[l.type]:c==="textarea"}function VD(l,c,h,m){lD(m),c=gd(c,"onChange"),0<c.length&&(h=new ag("onChange","change",null,h,m),l.push({event:h,listeners:c}))}var zl=null,Ul=null;function fN(l){oE(l,0)}function dd(l){var c=ga(l);if(Ge(c))return l}function gN(l,c){if(l==="change")return c}var zD=!1;if(a){var pg;if(a){var fg="oninput"in document;if(!fg){var UD=document.createElement("div");UD.setAttribute("oninput","return;"),fg=typeof UD.oninput=="function"}pg=fg}else pg=!1;zD=pg&&(!document.documentMode||9<document.documentMode)}function $D(){zl&&(zl.detachEvent("onpropertychange",YD),Ul=zl=null)}function YD(l){if(l.propertyName==="value"&&dd(Ul)){var c=[];VD(c,Ul,l,qf(l)),hD(fN,c)}}function mN(l,c,h){l==="focusin"?($D(),zl=c,Ul=h,zl.attachEvent("onpropertychange",YD)):l==="focusout"&&$D()}function vN(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return dd(Ul)}function CN(l,c){if(l==="click")return dd(c)}function wN(l,c){if(l==="input"||l==="change")return dd(c)}function yN(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var xn=typeof Object.is=="function"?Object.is:yN;function $l(l,c){if(xn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var C=h[m];if(!u.call(c,C)||!xn(l[C],c[C]))return!1}return!0}function qD(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function jD(l,c){var h=qD(l);l=0;for(var m;h;){if(h.nodeType===3){if(m=l+h.textContent.length,l<=c&&m>=c)return{node:h,offset:c-l};l=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=qD(h)}}function KD(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?KD(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function QD(){for(var l=window,c=je();c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=je(l.document)}return c}function gg(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function SN(l){var c=QD(),h=l.focusedElem,m=l.selectionRange;if(c!==h&&h&&h.ownerDocument&&KD(h.ownerDocument.documentElement,h)){if(m!==null&&gg(h)){if(c=m.start,l=m.end,l===void 0&&(l=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(l,h.value.length);else if(l=(c=h.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var C=h.textContent.length,R=Math.min(m.start,C);m=m.end===void 0?R:Math.min(m.end,C),!l.extend&&R>m&&(C=m,m=R,R=C),C=jD(h,R);var M=jD(h,m);C&&M&&(l.rangeCount!==1||l.anchorNode!==C.node||l.anchorOffset!==C.offset||l.focusNode!==M.node||l.focusOffset!==M.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),l.removeAllRanges(),R>m?(l.addRange(c),l.extend(M.node,M.offset)):(c.setEnd(M.node,M.offset),l.addRange(c)))}}for(c=[],l=h;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)l=c[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var RN=a&&"documentMode"in document&&11>=document.documentMode,da=null,mg=null,Yl=null,vg=!1;function XD(l,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vg||da==null||da!==je(m)||(m=da,"selectionStart"in m&&gg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Yl&&$l(Yl,m)||(Yl=m,m=gd(mg,"onSelect"),0<m.length&&(c=new ag("onSelect","select",null,c,h),l.push({event:c,listeners:m}),c.target=da)))}function hd(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var ha={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Cg={},JD={};a&&(JD=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function pd(l){if(Cg[l])return Cg[l];if(!ha[l])return l;var c=ha[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in JD)return Cg[l]=c[h];return l}var ZD=pd("animationend"),eE=pd("animationiteration"),tE=pd("animationstart"),rE=pd("transitionend"),nE=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(l,c){nE.set(l,c),s(c,[l])}for(var wg=0;wg<iE.length;wg++){var yg=iE[wg],bN=yg.toLowerCase(),DN=yg[0].toUpperCase()+yg.slice(1);ms(bN,"on"+DN)}ms(ZD,"onAnimationEnd"),ms(eE,"onAnimationIteration"),ms(tE,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(rE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function sE(l,c,h){var m=l.type||"unknown-event";l.currentTarget=h,b1(m,c,void 0,l),l.currentTarget=null}function oE(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var m=l[h],C=m.event;m=m.listeners;e:{var R=void 0;if(c)for(var M=m.length-1;0<=M;M--){var _=m[M],W=_.instance,j=_.currentTarget;if(_=_.listener,W!==R&&C.isPropagationStopped())break e;sE(C,_,j),R=W}else for(M=0;M<m.length;M++){if(_=m[M],W=_.instance,j=_.currentTarget,_=_.listener,W!==R&&C.isPropagationStopped())break e;sE(C,_,j),R=W}}}if(Xc)throw l=Xf,Xc=!1,Xf=null,l}function ft(l,c){var h=c[xg];h===void 0&&(h=c[xg]=new Set);var m=l+"__bubble";h.has(m)||(aE(c,l,2,!1),h.add(m))}function Sg(l,c,h){var m=0;c&&(m|=4),aE(h,l,m,c)}var fd="_reactListening"+Math.random().toString(36).slice(2);function jl(l){if(!l[fd]){l[fd]=!0,n.forEach(function(h){h!=="selectionchange"&&(EN.has(h)||Sg(h,!1,l),Sg(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[fd]||(c[fd]=!0,Sg("selectionchange",!1,c))}}function aE(l,c,h,m){switch(TD(c)){case 1:var C=H1;break;case 4:C=W1;break;default:C=ig}h=C.bind(null,c,h,l),C=void 0,!Qf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),m?C!==void 0?l.addEventListener(c,h,{capture:!0,passive:C}):l.addEventListener(c,h,!0):C!==void 0?l.addEventListener(c,h,{passive:C}):l.addEventListener(c,h,!1)}function Rg(l,c,h,m,C){var R=m;if(!(c&1)&&!(c&2)&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var _=m.stateNode.containerInfo;if(_===C||_.nodeType===8&&_.parentNode===C)break;if(M===4)for(M=m.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===C||W.nodeType===8&&W.parentNode===C))return;M=M.return}for(;_!==null;){if(M=no(_),M===null)return;if(W=M.tag,W===5||W===6){m=R=M;continue e}_=_.parentNode}}m=m.return}hD(function(){var j=R,le=qf(h),ue=[];e:{var oe=nE.get(l);if(oe!==void 0){var ve=ag,De=l;switch(l){case"keypress":if(ld(h)===0)break e;case"keydown":case"keyup":ve=tN;break;case"focusin":De="focus",ve=cg;break;case"focusout":De="blur",ve=cg;break;case"beforeblur":case"afterblur":ve=cg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=OD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=iN;break;case ZD:case eE:case tE:ve=Y1;break;case rE:ve=oN;break;case"scroll":ve=B1;break;case"wheel":ve=lN;break;case"copy":case"cut":case"paste":ve=j1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=LD}var Ee=(c&4)!==0,Gt=!Ee&&l==="scroll",U=Ee?oe!==null?oe+"Capture":null:oe;Ee=[];for(var B=j,Y;B!==null;){Y=B;var pe=Y.stateNode;if(Y.tag===5&&pe!==null&&(Y=pe,U!==null&&(pe=Tl(B,U),pe!=null&&Ee.push(Kl(B,pe,Y)))),Gt)break;B=B.return}0<Ee.length&&(oe=new ve(oe,De,null,h,le),ue.push({event:oe,listeners:Ee}))}}if(!(c&7)){e:{if(oe=l==="mouseover"||l==="pointerover",ve=l==="mouseout"||l==="pointerout",oe&&h!==Yf&&(De=h.relatedTarget||h.fromElement)&&(no(De)||De[Fi]))break e;if((ve||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(De=h.relatedTarget||h.toElement,ve=j,De=De?no(De):null,De!==null&&(Gt=ro(De),De!==Gt||De.tag!==5&&De.tag!==6)&&(De=null)):(ve=null,De=j),ve!==De)){if(Ee=OD,pe="onMouseLeave",U="onMouseEnter",B="mouse",(l==="pointerout"||l==="pointerover")&&(Ee=LD,pe="onPointerLeave",U="onPointerEnter",B="pointer"),Gt=ve==null?oe:ga(ve),Y=De==null?oe:ga(De),oe=new Ee(pe,B+"leave",ve,h,le),oe.target=Gt,oe.relatedTarget=Y,pe=null,no(le)===j&&(Ee=new Ee(U,B+"enter",De,h,le),Ee.target=Y,Ee.relatedTarget=Gt,pe=Ee),Gt=pe,ve&&De)t:{for(Ee=ve,U=De,B=0,Y=Ee;Y;Y=pa(Y))B++;for(Y=0,pe=U;pe;pe=pa(pe))Y++;for(;0<B-Y;)Ee=pa(Ee),B--;for(;0<Y-B;)U=pa(U),Y--;for(;B--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=pa(Ee),U=pa(U)}Ee=null}else Ee=null;ve!==null&&lE(ue,oe,ve,Ee,!1),De!==null&&Gt!==null&&lE(ue,Gt,De,Ee,!0)}}e:{if(oe=j?ga(j):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Pe=gN;else if(BD(oe))if(zD)Pe=wN;else{Pe=vN;var ke=mN}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=CN);if(Pe&&(Pe=Pe(l,j))){VD(ue,Pe,h,le);break e}ke&&ke(l,oe,j),l==="focusout"&&(ke=oe._wrapperState)&&ke.controlled&&oe.type==="number"&&Xt(oe,"number",oe.value)}switch(ke=j?ga(j):window,l){case"focusin":(BD(ke)||ke.contentEditable==="true")&&(da=ke,mg=j,Yl=null);break;case"focusout":Yl=mg=da=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,XD(ue,h,le);break;case"selectionchange":if(RN)break;case"keydown":case"keyup":XD(ue,h,le)}var Ae;if(hg)e:{switch(l){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ca?HD(l,h)&&(Ie="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Ie="onCompositionStart");Ie&&(_D&&h.locale!=="ko"&&(ca||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ca&&(Ae=kD()):(gs=le,og="value"in gs?gs.value:gs.textContent,ca=!0)),ke=gd(j,Ie),0<ke.length&&(Ie=new ID(Ie,l,null,h,le),ue.push({event:Ie,listeners:ke}),Ae?Ie.data=Ae:(Ae=WD(h),Ae!==null&&(Ie.data=Ae)))),(Ae=cN?dN(l,h):hN(l,h))&&(j=gd(j,"onBeforeInput"),0<j.length&&(le=new ID("onBeforeInput","beforeinput",null,h,le),ue.push({event:le,listeners:j}),le.data=Ae))}oE(ue,c)})}function Kl(l,c,h){return{instance:l,listener:c,currentTarget:h}}function gd(l,c){for(var h=c+"Capture",m=[];l!==null;){var C=l,R=C.stateNode;C.tag===5&&R!==null&&(C=R,R=Tl(l,h),R!=null&&m.unshift(Kl(l,R,C)),R=Tl(l,c),R!=null&&m.push(Kl(l,R,C))),l=l.return}return m}function pa(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function lE(l,c,h,m,C){for(var R=c._reactName,M=[];h!==null&&h!==m;){var _=h,W=_.alternate,j=_.stateNode;if(W!==null&&W===m)break;_.tag===5&&j!==null&&(_=j,C?(W=Tl(h,R),W!=null&&M.unshift(Kl(h,W,_))):C||(W=Tl(h,R),W!=null&&M.push(Kl(h,W,_)))),h=h.return}M.length!==0&&l.push({event:c,listeners:M})}var PN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function uE(l){return(typeof l=="string"?l:""+l).replace(PN,`
`).replace(FN,"")}function md(l,c,h){if(c=uE(c),uE(l)!==c&&h)throw Error(r(425))}function vd(){}var bg=null,Dg=null;function Eg(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,MN=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(l){return cE.resolve(null).then(l).catch(TN)}:Pg;function TN(l){setTimeout(function(){throw l})}function Fg(l,c){var h=c,m=0;do{var C=h.nextSibling;if(l.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(m===0){l.removeChild(C),Hl(c);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=C}while(h);Hl(c)}function vs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function dE(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}var fa=Math.random().toString(36).slice(2),qn="__reactFiber$"+fa,Ql="__reactProps$"+fa,Fi="__reactContainer$"+fa,xg="__reactEvents$"+fa,kN="__reactListeners$"+fa,AN="__reactHandles$"+fa;function no(l){var c=l[qn];if(c)return c;for(var h=l.parentNode;h;){if(c=h[Fi]||h[qn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=dE(l);l!==null;){if(h=l[qn])return h;l=dE(l)}return c}l=h,h=l.parentNode}return null}function Xl(l){return l=l[qn]||l[Fi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ga(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Cd(l){return l[Ql]||null}var Mg=[],ma=-1;function Cs(l){return{current:l}}function gt(l){0>ma||(l.current=Mg[ma],Mg[ma]=null,ma--)}function pt(l,c){ma++,Mg[ma]=l.current,l.current=c}var ws={},lr=Cs(ws),kr=Cs(!1),io=ws;function va(l,c){var h=l.type.contextTypes;if(!h)return ws;var m=l.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===c)return m.__reactInternalMemoizedMaskedChildContext;var C={},R;for(R in h)C[R]=c[R];return m&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=C),C}function Ar(l){return l=l.childContextTypes,l!=null}function wd(){gt(kr),gt(lr)}function hE(l,c,h){if(lr.current!==ws)throw Error(r(168));pt(lr,c),pt(kr,h)}function pE(l,c,h){var m=l.stateNode;if(c=c.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var C in m)if(!(C in c))throw Error(r(108,Re(l)||"Unknown",C));return re({},h,m)}function yd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ws,io=lr.current,pt(lr,l),pt(kr,kr.current),!0}function fE(l,c,h){var m=l.stateNode;if(!m)throw Error(r(169));h?(l=pE(l,c,io),m.__reactInternalMemoizedMergedChildContext=l,gt(kr),gt(lr),pt(lr,l)):gt(kr),pt(kr,h)}var xi=null,Sd=!1,Tg=!1;function gE(l){xi===null?xi=[l]:xi.push(l)}function ON(l){Sd=!0,gE(l)}function ys(){if(!Tg&&xi!==null){Tg=!0;var l=0,c=nt;try{var h=xi;for(nt=1;l<h.length;l++){var m=h[l];do m=m(!0);while(m!==null)}xi=null,Sd=!1}catch(C){throw xi!==null&&(xi=xi.slice(l+1)),vD(Jf,ys),C}finally{nt=c,Tg=!1}}return null}var Ca=[],wa=0,Rd=null,bd=0,sn=[],on=0,so=null,Mi=1,Ti="";function oo(l,c){Ca[wa++]=bd,Ca[wa++]=Rd,Rd=l,bd=c}function mE(l,c,h){sn[on++]=Mi,sn[on++]=Ti,sn[on++]=so,so=l;var m=Mi;l=Ti;var C=32-Fn(m)-1;m&=~(1<<C),h+=1;var R=32-Fn(c)+C;if(30<R){var M=C-C%5;R=(m&(1<<M)-1).toString(32),m>>=M,C-=M,Mi=1<<32-Fn(c)+C|h<<C|m,Ti=R+l}else Mi=1<<R|h<<C|m,Ti=l}function kg(l){l.return!==null&&(oo(l,1),mE(l,1,0))}function Ag(l){for(;l===Rd;)Rd=Ca[--wa],Ca[wa]=null,bd=Ca[--wa],Ca[wa]=null;for(;l===so;)so=sn[--on],sn[on]=null,Ti=sn[--on],sn[on]=null,Mi=sn[--on],sn[on]=null}var qr=null,jr=null,St=!1,Mn=null;function vE(l,c){var h=cn(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=l,c=l.deletions,c===null?(l.deletions=[h],l.flags|=16):c.push(h)}function CE(l,c){switch(l.tag){case 5:var h=l.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,qr=l,jr=vs(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,qr=l,jr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=so!==null?{id:Mi,overflow:Ti}:null,l.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=cn(18,null,null,0),h.stateNode=c,h.return=l,l.child=h,qr=l,jr=null,!0):!1;default:return!1}}function Og(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Ig(l){if(St){var c=jr;if(c){var h=c;if(!CE(l,c)){if(Og(l))throw Error(r(418));c=vs(h.nextSibling);var m=qr;c&&CE(l,c)?vE(m,h):(l.flags=l.flags&-4097|2,St=!1,qr=l)}}else{if(Og(l))throw Error(r(418));l.flags=l.flags&-4097|2,St=!1,qr=l}}}function wE(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;qr=l}function Dd(l){if(l!==qr)return!1;if(!St)return wE(l),St=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!Eg(l.type,l.memoizedProps)),c&&(c=jr)){if(Og(l))throw yE(),Error(r(418));for(;c;)vE(l,c),c=vs(c.nextSibling)}if(wE(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(c===0){jr=vs(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}l=l.nextSibling}jr=null}}else jr=qr?vs(l.stateNode.nextSibling):null;return!0}function yE(){for(var l=jr;l;)l=vs(l.nextSibling)}function ya(){jr=qr=null,St=!1}function Lg(l){Mn===null?Mn=[l]:Mn.push(l)}var IN=F.ReactCurrentBatchConfig;function Jl(l,c,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var m=h.stateNode}if(!m)throw Error(r(147,l));var C=m,R=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===R?c.ref:(c=function(M){var _=C.refs;M===null?delete _[R]:_[R]=M},c._stringRef=R,c)}if(typeof l!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,l))}return l}function Ed(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function SE(l){var c=l._init;return c(l._payload)}function RE(l){function c(U,B){if(l){var Y=U.deletions;Y===null?(U.deletions=[B],U.flags|=16):Y.push(B)}}function h(U,B){if(!l)return null;for(;B!==null;)c(U,B),B=B.sibling;return null}function m(U,B){for(U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function C(U,B){return U=xs(U,B),U.index=0,U.sibling=null,U}function R(U,B,Y){return U.index=Y,l?(Y=U.alternate,Y!==null?(Y=Y.index,Y<B?(U.flags|=2,B):Y):(U.flags|=2,B)):(U.flags|=1048576,B)}function M(U){return l&&U.alternate===null&&(U.flags|=2),U}function _(U,B,Y,pe){return B===null||B.tag!==6?(B=Pm(Y,U.mode,pe),B.return=U,B):(B=C(B,Y),B.return=U,B)}function W(U,B,Y,pe){var Pe=Y.type;return Pe===T?le(U,B,Y.props.children,pe,Y.key):B!==null&&(B.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===X&&SE(Pe)===B.type)?(pe=C(B,Y.props),pe.ref=Jl(U,B,Y),pe.return=U,pe):(pe=Kd(Y.type,Y.key,Y.props,null,U.mode,pe),pe.ref=Jl(U,B,Y),pe.return=U,pe)}function j(U,B,Y,pe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Fm(Y,U.mode,pe),B.return=U,B):(B=C(B,Y.children||[]),B.return=U,B)}function le(U,B,Y,pe,Pe){return B===null||B.tag!==7?(B=go(Y,U.mode,pe,Pe),B.return=U,B):(B=C(B,Y),B.return=U,B)}function ue(U,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Pm(""+B,U.mode,Y),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return Y=Kd(B.type,B.key,B.props,null,U.mode,Y),Y.ref=Jl(U,null,B),Y.return=U,Y;case A:return B=Fm(B,U.mode,Y),B.return=U,B;case X:var pe=B._init;return ue(U,pe(B._payload),Y)}if(dt(B)||ne(B))return B=go(B,U.mode,Y,null),B.return=U,B;Ed(U,B)}return null}function oe(U,B,Y,pe){var Pe=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Pe!==null?null:_(U,B,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return Y.key===Pe?W(U,B,Y,pe):null;case A:return Y.key===Pe?j(U,B,Y,pe):null;case X:return Pe=Y._init,oe(U,B,Pe(Y._payload),pe)}if(dt(Y)||ne(Y))return Pe!==null?null:le(U,B,Y,pe,null);Ed(U,Y)}return null}function ve(U,B,Y,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return U=U.get(Y)||null,_(B,U,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case k:return U=U.get(pe.key===null?Y:pe.key)||null,W(B,U,pe,Pe);case A:return U=U.get(pe.key===null?Y:pe.key)||null,j(B,U,pe,Pe);case X:var ke=pe._init;return ve(U,B,Y,ke(pe._payload),Pe)}if(dt(pe)||ne(pe))return U=U.get(Y)||null,le(B,U,pe,Pe,null);Ed(B,pe)}return null}function De(U,B,Y,pe){for(var Pe=null,ke=null,Ae=B,Ie=B=0,er=null;Ae!==null&&Ie<Y.length;Ie++){Ae.index>Ie?(er=Ae,Ae=null):er=Ae.sibling;var Ke=oe(U,Ae,Y[Ie],pe);if(Ke===null){Ae===null&&(Ae=er);break}l&&Ae&&Ke.alternate===null&&c(U,Ae),B=R(Ke,B,Ie),ke===null?Pe=Ke:ke.sibling=Ke,ke=Ke,Ae=er}if(Ie===Y.length)return h(U,Ae),St&&oo(U,Ie),Pe;if(Ae===null){for(;Ie<Y.length;Ie++)Ae=ue(U,Y[Ie],pe),Ae!==null&&(B=R(Ae,B,Ie),ke===null?Pe=Ae:ke.sibling=Ae,ke=Ae);return St&&oo(U,Ie),Pe}for(Ae=m(U,Ae);Ie<Y.length;Ie++)er=ve(Ae,U,Ie,Y[Ie],pe),er!==null&&(l&&er.alternate!==null&&Ae.delete(er.key===null?Ie:er.key),B=R(er,B,Ie),ke===null?Pe=er:ke.sibling=er,ke=er);return l&&Ae.forEach(function(Ms){return c(U,Ms)}),St&&oo(U,Ie),Pe}function Ee(U,B,Y,pe){var Pe=ne(Y);if(typeof Pe!="function")throw Error(r(150));if(Y=Pe.call(Y),Y==null)throw Error(r(151));for(var ke=Pe=null,Ae=B,Ie=B=0,er=null,Ke=Y.next();Ae!==null&&!Ke.done;Ie++,Ke=Y.next()){Ae.index>Ie?(er=Ae,Ae=null):er=Ae.sibling;var Ms=oe(U,Ae,Ke.value,pe);if(Ms===null){Ae===null&&(Ae=er);break}l&&Ae&&Ms.alternate===null&&c(U,Ae),B=R(Ms,B,Ie),ke===null?Pe=Ms:ke.sibling=Ms,ke=Ms,Ae=er}if(Ke.done)return h(U,Ae),St&&oo(U,Ie),Pe;if(Ae===null){for(;!Ke.done;Ie++,Ke=Y.next())Ke=ue(U,Ke.value,pe),Ke!==null&&(B=R(Ke,B,Ie),ke===null?Pe=Ke:ke.sibling=Ke,ke=Ke);return St&&oo(U,Ie),Pe}for(Ae=m(U,Ae);!Ke.done;Ie++,Ke=Y.next())Ke=ve(Ae,U,Ie,Ke.value,pe),Ke!==null&&(l&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Ie:Ke.key),B=R(Ke,B,Ie),ke===null?Pe=Ke:ke.sibling=Ke,ke=Ke);return l&&Ae.forEach(function(pG){return c(U,pG)}),St&&oo(U,Ie),Pe}function Gt(U,B,Y,pe){if(typeof Y=="object"&&Y!==null&&Y.type===T&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:e:{for(var Pe=Y.key,ke=B;ke!==null;){if(ke.key===Pe){if(Pe=Y.type,Pe===T){if(ke.tag===7){h(U,ke.sibling),B=C(ke,Y.props.children),B.return=U,U=B;break e}}else if(ke.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===X&&SE(Pe)===ke.type){h(U,ke.sibling),B=C(ke,Y.props),B.ref=Jl(U,ke,Y),B.return=U,U=B;break e}h(U,ke);break}else c(U,ke);ke=ke.sibling}Y.type===T?(B=go(Y.props.children,U.mode,pe,Y.key),B.return=U,U=B):(pe=Kd(Y.type,Y.key,Y.props,null,U.mode,pe),pe.ref=Jl(U,B,Y),pe.return=U,U=pe)}return M(U);case A:e:{for(ke=Y.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){h(U,B.sibling),B=C(B,Y.children||[]),B.return=U,U=B;break e}else{h(U,B);break}else c(U,B);B=B.sibling}B=Fm(Y,U.mode,pe),B.return=U,U=B}return M(U);case X:return ke=Y._init,Gt(U,B,ke(Y._payload),pe)}if(dt(Y))return De(U,B,Y,pe);if(ne(Y))return Ee(U,B,Y,pe);Ed(U,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,B!==null&&B.tag===6?(h(U,B.sibling),B=C(B,Y),B.return=U,U=B):(h(U,B),B=Pm(Y,U.mode,pe),B.return=U,U=B),M(U)):h(U,B)}return Gt}var Sa=RE(!0),bE=RE(!1),Pd=Cs(null),Fd=null,Ra=null,_g=null;function Ng(){_g=Ra=Fd=null}function Gg(l){var c=Pd.current;gt(Pd),l._currentValue=c}function Hg(l,c,h){for(;l!==null;){var m=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),l===h)break;l=l.return}}function ba(l,c){Fd=l,_g=Ra=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&c&&(Or=!0),l.firstContext=null)}function an(l){var c=l._currentValue;if(_g!==l)if(l={context:l,memoizedValue:c,next:null},Ra===null){if(Fd===null)throw Error(r(308));Ra=l,Fd.dependencies={lanes:0,firstContext:l}}else Ra=Ra.next=l;return c}var ao=null;function Wg(l){ao===null?ao=[l]:ao.push(l)}function DE(l,c,h,m){var C=c.interleaved;return C===null?(h.next=h,Wg(c)):(h.next=C.next,C.next=h),c.interleaved=h,ki(l,m)}function ki(l,c){l.lanes|=c;var h=l.alternate;for(h!==null&&(h.lanes|=c),h=l,l=l.return;l!==null;)l.childLanes|=c,h=l.alternate,h!==null&&(h.childLanes|=c),h=l,l=l.return;return h.tag===3?h.stateNode:null}var Ss=!1;function Bg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EE(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ai(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Rs(l,c,h){var m=l.updateQueue;if(m===null)return null;if(m=m.shared,Ye&2){var C=m.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),m.pending=c,ki(l,h)}return C=m.interleaved,C===null?(c.next=c,Wg(m)):(c.next=C.next,C.next=c),m.interleaved=c,ki(l,h)}function xd(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var m=c.lanes;m&=l.pendingLanes,h|=m,c.lanes=h,tg(l,h)}}function PE(l,c){var h=l.updateQueue,m=l.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var C=null,R=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};R===null?C=R=M:R=R.next=M,h=h.next}while(h!==null);R===null?C=R=c:R=R.next=c}else C=R=c;h={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:R,shared:m.shared,effects:m.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}function Md(l,c,h,m){var C=l.updateQueue;Ss=!1;var R=C.firstBaseUpdate,M=C.lastBaseUpdate,_=C.shared.pending;if(_!==null){C.shared.pending=null;var W=_,j=W.next;W.next=null,M===null?R=j:M.next=j,M=W;var le=l.alternate;le!==null&&(le=le.updateQueue,_=le.lastBaseUpdate,_!==M&&(_===null?le.firstBaseUpdate=j:_.next=j,le.lastBaseUpdate=W))}if(R!==null){var ue=C.baseState;M=0,le=j=W=null,_=R;do{var oe=_.lane,ve=_.eventTime;if((m&oe)===oe){le!==null&&(le=le.next={eventTime:ve,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var De=l,Ee=_;switch(oe=c,ve=h,Ee.tag){case 1:if(De=Ee.payload,typeof De=="function"){ue=De.call(ve,ue,oe);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ee.payload,oe=typeof De=="function"?De.call(ve,ue,oe):De,oe==null)break e;ue=re({},ue,oe);break e;case 2:Ss=!0}}_.callback!==null&&_.lane!==0&&(l.flags|=64,oe=C.effects,oe===null?C.effects=[_]:oe.push(_))}else ve={eventTime:ve,lane:oe,tag:_.tag,payload:_.payload,callback:_.callback,next:null},le===null?(j=le=ve,W=ue):le=le.next=ve,M|=oe;if(_=_.next,_===null){if(_=C.shared.pending,_===null)break;oe=_,_=oe.next,oe.next=null,C.lastBaseUpdate=oe,C.shared.pending=null}}while(!0);if(le===null&&(W=ue),C.baseState=W,C.firstBaseUpdate=j,C.lastBaseUpdate=le,c=C.shared.interleaved,c!==null){C=c;do M|=C.lane,C=C.next;while(C!==c)}else R===null&&(C.shared.lanes=0);co|=M,l.lanes=M,l.memoizedState=ue}}function FE(l,c,h){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var m=l[c],C=m.callback;if(C!==null){if(m.callback=null,m=h,typeof C!="function")throw Error(r(191,C));C.call(m)}}}var Zl={},jn=Cs(Zl),eu=Cs(Zl),tu=Cs(Zl);function lo(l){if(l===Zl)throw Error(r(174));return l}function Vg(l,c){switch(pt(tu,c),pt(eu,l),pt(jn,Zl),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:bt(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=bt(c,l)}gt(jn),pt(jn,c)}function Da(){gt(jn),gt(eu),gt(tu)}function xE(l){lo(tu.current);var c=lo(jn.current),h=bt(c,l.type);c!==h&&(pt(eu,l),pt(jn,h))}function zg(l){eu.current===l&&(gt(jn),gt(eu))}var Dt=Cs(0);function Td(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ug=[];function $g(){for(var l=0;l<Ug.length;l++)Ug[l]._workInProgressVersionPrimary=null;Ug.length=0}var kd=F.ReactCurrentDispatcher,Yg=F.ReactCurrentBatchConfig,uo=0,Et=null,Yt=null,Jt=null,Ad=!1,ru=!1,nu=0,LN=0;function ur(){throw Error(r(321))}function qg(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!xn(l[h],c[h]))return!1;return!0}function jg(l,c,h,m,C,R){if(uo=R,Et=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,kd.current=l===null||l.memoizedState===null?HN:WN,l=h(m,C),ru){R=0;do{if(ru=!1,nu=0,25<=R)throw Error(r(301));R+=1,Jt=Yt=null,c.updateQueue=null,kd.current=BN,l=h(m,C)}while(ru)}if(kd.current=Ld,c=Yt!==null&&Yt.next!==null,uo=0,Jt=Yt=Et=null,Ad=!1,c)throw Error(r(300));return l}function Kg(){var l=nu!==0;return nu=0,l}function Kn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Et.memoizedState=Jt=l:Jt=Jt.next=l,Jt}function ln(){if(Yt===null){var l=Et.alternate;l=l!==null?l.memoizedState:null}else l=Yt.next;var c=Jt===null?Et.memoizedState:Jt.next;if(c!==null)Jt=c,Yt=l;else{if(l===null)throw Error(r(310));Yt=l,l={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Jt===null?Et.memoizedState=Jt=l:Jt=Jt.next=l}return Jt}function iu(l,c){return typeof c=="function"?c(l):c}function Qg(l){var c=ln(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var m=Yt,C=m.baseQueue,R=h.pending;if(R!==null){if(C!==null){var M=C.next;C.next=R.next,R.next=M}m.baseQueue=C=R,h.pending=null}if(C!==null){R=C.next,m=m.baseState;var _=M=null,W=null,j=R;do{var le=j.lane;if((uo&le)===le)W!==null&&(W=W.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),m=j.hasEagerState?j.eagerState:l(m,j.action);else{var ue={lane:le,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};W===null?(_=W=ue,M=m):W=W.next=ue,Et.lanes|=le,co|=le}j=j.next}while(j!==null&&j!==R);W===null?M=m:W.next=_,xn(m,c.memoizedState)||(Or=!0),c.memoizedState=m,c.baseState=M,c.baseQueue=W,h.lastRenderedState=m}if(l=h.interleaved,l!==null){C=l;do R=C.lane,Et.lanes|=R,co|=R,C=C.next;while(C!==l)}else C===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Xg(l){var c=ln(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var m=h.dispatch,C=h.pending,R=c.memoizedState;if(C!==null){h.pending=null;var M=C=C.next;do R=l(R,M.action),M=M.next;while(M!==C);xn(R,c.memoizedState)||(Or=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),h.lastRenderedState=R}return[R,m]}function ME(){}function TE(l,c){var h=Et,m=ln(),C=c(),R=!xn(m.memoizedState,C);if(R&&(m.memoizedState=C,Or=!0),m=m.queue,Jg(OE.bind(null,h,m,l),[l]),m.getSnapshot!==c||R||Jt!==null&&Jt.memoizedState.tag&1){if(h.flags|=2048,su(9,AE.bind(null,h,m,C,c),void 0,null),Zt===null)throw Error(r(349));uo&30||kE(h,c,C)}return C}function kE(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=Et.updateQueue,c===null?(c={lastEffect:null,stores:null},Et.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function AE(l,c,h,m){c.value=h,c.getSnapshot=m,IE(c)&&LE(l)}function OE(l,c,h){return h(function(){IE(c)&&LE(l)})}function IE(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!xn(l,h)}catch{return!0}}function LE(l){var c=ki(l,1);c!==null&&On(c,l,1,-1)}function _E(l){var c=Kn();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:l},c.queue=l,l=l.dispatch=GN.bind(null,Et,l),[c.memoizedState,l]}function su(l,c,h,m){return l={tag:l,create:c,destroy:h,deps:m,next:null},c=Et.updateQueue,c===null?(c={lastEffect:null,stores:null},Et.updateQueue=c,c.lastEffect=l.next=l):(h=c.lastEffect,h===null?c.lastEffect=l.next=l:(m=h.next,h.next=l,l.next=m,c.lastEffect=l)),l}function NE(){return ln().memoizedState}function Od(l,c,h,m){var C=Kn();Et.flags|=l,C.memoizedState=su(1|c,h,void 0,m===void 0?null:m)}function Id(l,c,h,m){var C=ln();m=m===void 0?null:m;var R=void 0;if(Yt!==null){var M=Yt.memoizedState;if(R=M.destroy,m!==null&&qg(m,M.deps)){C.memoizedState=su(c,h,R,m);return}}Et.flags|=l,C.memoizedState=su(1|c,h,R,m)}function GE(l,c){return Od(8390656,8,l,c)}function Jg(l,c){return Id(2048,8,l,c)}function HE(l,c){return Id(4,2,l,c)}function WE(l,c){return Id(4,4,l,c)}function BE(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function VE(l,c,h){return h=h!=null?h.concat([l]):null,Id(4,4,BE.bind(null,c,l),h)}function Zg(){}function zE(l,c){var h=ln();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&qg(c,m[1])?m[0]:(h.memoizedState=[l,c],l)}function UE(l,c){var h=ln();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&qg(c,m[1])?m[0]:(l=l(),h.memoizedState=[l,c],l)}function $E(l,c,h){return uo&21?(xn(h,c)||(h=SD(),Et.lanes|=h,co|=h,l.baseState=!0),c):(l.baseState&&(l.baseState=!1,Or=!0),l.memoizedState=h)}function _N(l,c){var h=nt;nt=h!==0&&4>h?h:4,l(!0);var m=Yg.transition;Yg.transition={};try{l(!1),c()}finally{nt=h,Yg.transition=m}}function YE(){return ln().memoizedState}function NN(l,c,h){var m=Ps(l);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},qE(l))jE(c,h);else if(h=DE(l,c,h,m),h!==null){var C=wr();On(h,l,m,C),KE(h,c,m)}}function GN(l,c,h){var m=Ps(l),C={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(qE(l))jE(c,C);else{var R=l.alternate;if(l.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var M=c.lastRenderedState,_=R(M,h);if(C.hasEagerState=!0,C.eagerState=_,xn(_,M)){var W=c.interleaved;W===null?(C.next=C,Wg(c)):(C.next=W.next,W.next=C),c.interleaved=C;return}}catch{}finally{}h=DE(l,c,C,m),h!==null&&(C=wr(),On(h,l,m,C),KE(h,c,m))}}function qE(l){var c=l.alternate;return l===Et||c!==null&&c===Et}function jE(l,c){ru=Ad=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function KE(l,c,h){if(h&4194240){var m=c.lanes;m&=l.pendingLanes,h|=m,c.lanes=h,tg(l,h)}}var Ld={readContext:an,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},HN={readContext:an,useCallback:function(l,c){return Kn().memoizedState=[l,c===void 0?null:c],l},useContext:an,useEffect:GE,useImperativeHandle:function(l,c,h){return h=h!=null?h.concat([l]):null,Od(4194308,4,BE.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Od(4194308,4,l,c)},useInsertionEffect:function(l,c){return Od(4,2,l,c)},useMemo:function(l,c){var h=Kn();return c=c===void 0?null:c,l=l(),h.memoizedState=[l,c],l},useReducer:function(l,c,h){var m=Kn();return c=h!==void 0?h(c):c,m.memoizedState=m.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},m.queue=l,l=l.dispatch=NN.bind(null,Et,l),[m.memoizedState,l]},useRef:function(l){var c=Kn();return l={current:l},c.memoizedState=l},useState:_E,useDebugValue:Zg,useDeferredValue:function(l){return Kn().memoizedState=l},useTransition:function(){var l=_E(!1),c=l[0];return l=_N.bind(null,l[1]),Kn().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,h){var m=Et,C=Kn();if(St){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Zt===null)throw Error(r(349));uo&30||kE(m,c,h)}C.memoizedState=h;var R={value:h,getSnapshot:c};return C.queue=R,GE(OE.bind(null,m,R,l),[l]),m.flags|=2048,su(9,AE.bind(null,m,R,h,c),void 0,null),h},useId:function(){var l=Kn(),c=Zt.identifierPrefix;if(St){var h=Ti,m=Mi;h=(m&~(1<<32-Fn(m)-1)).toString(32)+h,c=":"+c+"R"+h,h=nu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=LN++,c=":"+c+"r"+h.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},WN={readContext:an,useCallback:zE,useContext:an,useEffect:Jg,useImperativeHandle:VE,useInsertionEffect:HE,useLayoutEffect:WE,useMemo:UE,useReducer:Qg,useRef:NE,useState:function(){return Qg(iu)},useDebugValue:Zg,useDeferredValue:function(l){var c=ln();return $E(c,Yt.memoizedState,l)},useTransition:function(){var l=Qg(iu)[0],c=ln().memoizedState;return[l,c]},useMutableSource:ME,useSyncExternalStore:TE,useId:YE,unstable_isNewReconciler:!1},BN={readContext:an,useCallback:zE,useContext:an,useEffect:Jg,useImperativeHandle:VE,useInsertionEffect:HE,useLayoutEffect:WE,useMemo:UE,useReducer:Xg,useRef:NE,useState:function(){return Xg(iu)},useDebugValue:Zg,useDeferredValue:function(l){var c=ln();return Yt===null?c.memoizedState=l:$E(c,Yt.memoizedState,l)},useTransition:function(){var l=Xg(iu)[0],c=ln().memoizedState;return[l,c]},useMutableSource:ME,useSyncExternalStore:TE,useId:YE,unstable_isNewReconciler:!1};function Tn(l,c){if(l&&l.defaultProps){c=re({},c),l=l.defaultProps;for(var h in l)c[h]===void 0&&(c[h]=l[h]);return c}return c}function em(l,c,h,m){c=l.memoizedState,h=h(m,c),h=h==null?c:re({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var _d={isMounted:function(l){return(l=l._reactInternals)?ro(l)===l:!1},enqueueSetState:function(l,c,h){l=l._reactInternals;var m=wr(),C=Ps(l),R=Ai(m,C);R.payload=c,h!=null&&(R.callback=h),c=Rs(l,R,C),c!==null&&(On(c,l,C,m),xd(c,l,C))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var m=wr(),C=Ps(l),R=Ai(m,C);R.tag=1,R.payload=c,h!=null&&(R.callback=h),c=Rs(l,R,C),c!==null&&(On(c,l,C,m),xd(c,l,C))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=wr(),m=Ps(l),C=Ai(h,m);C.tag=2,c!=null&&(C.callback=c),c=Rs(l,C,m),c!==null&&(On(c,l,m,h),xd(c,l,m))}};function QE(l,c,h,m,C,R,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(m,R,M):c.prototype&&c.prototype.isPureReactComponent?!$l(h,m)||!$l(C,R):!0}function XE(l,c,h){var m=!1,C=ws,R=c.contextType;return typeof R=="object"&&R!==null?R=an(R):(C=Ar(c)?io:lr.current,m=c.contextTypes,R=(m=m!=null)?va(l,C):ws),c=new c(h,R),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=_d,l.stateNode=c,c._reactInternals=l,m&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=C,l.__reactInternalMemoizedMaskedChildContext=R),c}function JE(l,c,h,m){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==l&&_d.enqueueReplaceState(c,c.state,null)}function tm(l,c,h,m){var C=l.stateNode;C.props=h,C.state=l.memoizedState,C.refs={},Bg(l);var R=c.contextType;typeof R=="object"&&R!==null?C.context=an(R):(R=Ar(c)?io:lr.current,C.context=va(l,R)),C.state=l.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(em(l,c,R,h),C.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&_d.enqueueReplaceState(C,C.state,null),Md(l,h,C,m),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308)}function Ea(l,c){try{var h="",m=c;do h+=ie(m),m=m.return;while(m);var C=h}catch(R){C=`
Error generating stack: `+R.message+`
`+R.stack}return{value:l,source:c,stack:C,digest:null}}function rm(l,c,h){return{value:l,source:null,stack:h??null,digest:c??null}}function nm(l,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var VN=typeof WeakMap=="function"?WeakMap:Map;function ZE(l,c,h){h=Ai(-1,h),h.tag=3,h.payload={element:null};var m=c.value;return h.callback=function(){zd||(zd=!0,Cm=m),nm(l,c)},h}function e0(l,c,h){h=Ai(-1,h),h.tag=3;var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var C=c.value;h.payload=function(){return m(C)},h.callback=function(){nm(l,c)}}var R=l.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(h.callback=function(){nm(l,c),typeof m!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})}),h}function t0(l,c,h){var m=l.pingCache;if(m===null){m=l.pingCache=new VN;var C=new Set;m.set(c,C)}else C=m.get(c),C===void 0&&(C=new Set,m.set(c,C));C.has(h)||(C.add(h),l=rG.bind(null,l,c,h),c.then(l,l))}function r0(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function n0(l,c,h,m,C){return l.mode&1?(l.flags|=65536,l.lanes=C,l):(l===c?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ai(-1,1),c.tag=2,Rs(h,c,1))),h.lanes|=1),l)}var zN=F.ReactCurrentOwner,Or=!1;function Cr(l,c,h,m){c.child=l===null?bE(c,null,h,m):Sa(c,l.child,h,m)}function i0(l,c,h,m,C){h=h.render;var R=c.ref;return ba(c,C),m=jg(l,c,h,m,R,C),h=Kg(),l!==null&&!Or?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~C,Oi(l,c,C)):(St&&h&&kg(c),c.flags|=1,Cr(l,c,m,C),c.child)}function s0(l,c,h,m,C){if(l===null){var R=h.type;return typeof R=="function"&&!Em(R)&&R.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=R,o0(l,c,R,m,C)):(l=Kd(h.type,null,m,c,c.mode,C),l.ref=c.ref,l.return=c,c.child=l)}if(R=l.child,!(l.lanes&C)){var M=R.memoizedProps;if(h=h.compare,h=h!==null?h:$l,h(M,m)&&l.ref===c.ref)return Oi(l,c,C)}return c.flags|=1,l=xs(R,m),l.ref=c.ref,l.return=c,c.child=l}function o0(l,c,h,m,C){if(l!==null){var R=l.memoizedProps;if($l(R,m)&&l.ref===c.ref)if(Or=!1,c.pendingProps=m=R,(l.lanes&C)!==0)l.flags&131072&&(Or=!0);else return c.lanes=l.lanes,Oi(l,c,C)}return im(l,c,h,m,C)}function a0(l,c,h){var m=c.pendingProps,C=m.children,R=l!==null?l.memoizedState:null;if(m.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Fa,Kr),Kr|=h;else{if(!(h&1073741824))return l=R!==null?R.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,pt(Fa,Kr),Kr|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=R!==null?R.baseLanes:h,pt(Fa,Kr),Kr|=m}else R!==null?(m=R.baseLanes|h,c.memoizedState=null):m=h,pt(Fa,Kr),Kr|=m;return Cr(l,c,C,h),c.child}function l0(l,c){var h=c.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function im(l,c,h,m,C){var R=Ar(h)?io:lr.current;return R=va(c,R),ba(c,C),h=jg(l,c,h,m,R,C),m=Kg(),l!==null&&!Or?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~C,Oi(l,c,C)):(St&&m&&kg(c),c.flags|=1,Cr(l,c,h,C),c.child)}function u0(l,c,h,m,C){if(Ar(h)){var R=!0;yd(c)}else R=!1;if(ba(c,C),c.stateNode===null)Gd(l,c),XE(c,h,m),tm(c,h,m,C),m=!0;else if(l===null){var M=c.stateNode,_=c.memoizedProps;M.props=_;var W=M.context,j=h.contextType;typeof j=="object"&&j!==null?j=an(j):(j=Ar(h)?io:lr.current,j=va(c,j));var le=h.getDerivedStateFromProps,ue=typeof le=="function"||typeof M.getSnapshotBeforeUpdate=="function";ue||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(_!==m||W!==j)&&JE(c,M,m,j),Ss=!1;var oe=c.memoizedState;M.state=oe,Md(c,m,M,C),W=c.memoizedState,_!==m||oe!==W||kr.current||Ss?(typeof le=="function"&&(em(c,h,le,m),W=c.memoizedState),(_=Ss||QE(c,h,_,m,oe,W,j))?(ue||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=W),M.props=m,M.state=W,M.context=j,m=_):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{M=c.stateNode,EE(l,c),_=c.memoizedProps,j=c.type===c.elementType?_:Tn(c.type,_),M.props=j,ue=c.pendingProps,oe=M.context,W=h.contextType,typeof W=="object"&&W!==null?W=an(W):(W=Ar(h)?io:lr.current,W=va(c,W));var ve=h.getDerivedStateFromProps;(le=typeof ve=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(_!==ue||oe!==W)&&JE(c,M,m,W),Ss=!1,oe=c.memoizedState,M.state=oe,Md(c,m,M,C);var De=c.memoizedState;_!==ue||oe!==De||kr.current||Ss?(typeof ve=="function"&&(em(c,h,ve,m),De=c.memoizedState),(j=Ss||QE(c,h,j,m,oe,De,W)||!1)?(le||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,De,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,De,W)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||_===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||_===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=De),M.props=m,M.state=De,M.context=W,m=j):(typeof M.componentDidUpdate!="function"||_===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||_===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),m=!1)}return sm(l,c,h,m,R,C)}function sm(l,c,h,m,C,R){l0(l,c);var M=(c.flags&128)!==0;if(!m&&!M)return C&&fE(c,h,!1),Oi(l,c,R);m=c.stateNode,zN.current=c;var _=M&&typeof h.getDerivedStateFromError!="function"?null:m.render();return c.flags|=1,l!==null&&M?(c.child=Sa(c,l.child,null,R),c.child=Sa(c,null,_,R)):Cr(l,c,_,R),c.memoizedState=m.state,C&&fE(c,h,!0),c.child}function c0(l){var c=l.stateNode;c.pendingContext?hE(l,c.pendingContext,c.pendingContext!==c.context):c.context&&hE(l,c.context,!1),Vg(l,c.containerInfo)}function d0(l,c,h,m,C){return ya(),Lg(C),c.flags|=256,Cr(l,c,h,m),c.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(l){return{baseLanes:l,cachePool:null,transitions:null}}function h0(l,c,h){var m=c.pendingProps,C=Dt.current,R=!1,M=(c.flags&128)!==0,_;if((_=M)||(_=l!==null&&l.memoizedState===null?!1:(C&2)!==0),_?(R=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(C|=1),pt(Dt,C&1),l===null)return Ig(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(c.mode&1?l.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(M=m.children,l=m.fallback,R?(m=c.mode,R=c.child,M={mode:"hidden",children:M},!(m&1)&&R!==null?(R.childLanes=0,R.pendingProps=M):R=Qd(M,m,0,null),l=go(l,m,h,null),R.return=c,l.return=c,R.sibling=l,c.child=R,c.child.memoizedState=am(h),c.memoizedState=om,l):lm(c,M));if(C=l.memoizedState,C!==null&&(_=C.dehydrated,_!==null))return UN(l,c,M,m,_,C,h);if(R){R=m.fallback,M=c.mode,C=l.child,_=C.sibling;var W={mode:"hidden",children:m.children};return!(M&1)&&c.child!==C?(m=c.child,m.childLanes=0,m.pendingProps=W,c.deletions=null):(m=xs(C,W),m.subtreeFlags=C.subtreeFlags&14680064),_!==null?R=xs(_,R):(R=go(R,M,h,null),R.flags|=2),R.return=c,m.return=c,m.sibling=R,c.child=m,m=R,R=c.child,M=l.child.memoizedState,M=M===null?am(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},R.memoizedState=M,R.childLanes=l.childLanes&~h,c.memoizedState=om,m}return R=l.child,l=R.sibling,m=xs(R,{mode:"visible",children:m.children}),!(c.mode&1)&&(m.lanes=h),m.return=c,m.sibling=null,l!==null&&(h=c.deletions,h===null?(c.deletions=[l],c.flags|=16):h.push(l)),c.child=m,c.memoizedState=null,m}function lm(l,c){return c=Qd({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Nd(l,c,h,m){return m!==null&&Lg(m),Sa(c,l.child,null,h),l=lm(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function UN(l,c,h,m,C,R,M){if(h)return c.flags&256?(c.flags&=-257,m=rm(Error(r(422))),Nd(l,c,M,m)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(R=m.fallback,C=c.mode,m=Qd({mode:"visible",children:m.children},C,0,null),R=go(R,C,M,null),R.flags|=2,m.return=c,R.return=c,m.sibling=R,c.child=m,c.mode&1&&Sa(c,l.child,null,M),c.child.memoizedState=am(M),c.memoizedState=om,R);if(!(c.mode&1))return Nd(l,c,M,null);if(C.data==="$!"){if(m=C.nextSibling&&C.nextSibling.dataset,m)var _=m.dgst;return m=_,R=Error(r(419)),m=rm(R,m,void 0),Nd(l,c,M,m)}if(_=(M&l.childLanes)!==0,Or||_){if(m=Zt,m!==null){switch(M&-M){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(m.suspendedLanes|M)?0:C,C!==0&&C!==R.retryLane&&(R.retryLane=C,ki(l,C),On(m,l,C,-1))}return Dm(),m=rm(Error(r(421))),Nd(l,c,M,m)}return C.data==="$?"?(c.flags|=128,c.child=l.child,c=nG.bind(null,l),C._reactRetry=c,null):(l=R.treeContext,jr=vs(C.nextSibling),qr=c,St=!0,Mn=null,l!==null&&(sn[on++]=Mi,sn[on++]=Ti,sn[on++]=so,Mi=l.id,Ti=l.overflow,so=c),c=lm(c,m.children),c.flags|=4096,c)}function p0(l,c,h){l.lanes|=c;var m=l.alternate;m!==null&&(m.lanes|=c),Hg(l.return,c,h)}function um(l,c,h,m,C){var R=l.memoizedState;R===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:C}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=h,R.tailMode=C)}function f0(l,c,h){var m=c.pendingProps,C=m.revealOrder,R=m.tail;if(Cr(l,c,m.children,h),m=Dt.current,m&2)m=m&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&p0(l,h,c);else if(l.tag===19)p0(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}m&=1}if(pt(Dt,m),!(c.mode&1))c.memoizedState=null;else switch(C){case"forwards":for(h=c.child,C=null;h!==null;)l=h.alternate,l!==null&&Td(l)===null&&(C=h),h=h.sibling;h=C,h===null?(C=c.child,c.child=null):(C=h.sibling,h.sibling=null),um(c,!1,C,h,R);break;case"backwards":for(h=null,C=c.child,c.child=null;C!==null;){if(l=C.alternate,l!==null&&Td(l)===null){c.child=C;break}l=C.sibling,C.sibling=h,h=C,C=l}um(c,!0,h,null,R);break;case"together":um(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Gd(l,c){!(c.mode&1)&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Oi(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),co|=c.lanes,!(h&c.childLanes))return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,h=xs(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=xs(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function $N(l,c,h){switch(c.tag){case 3:c0(c),ya();break;case 5:xE(c);break;case 1:Ar(c.type)&&yd(c);break;case 4:Vg(c,c.stateNode.containerInfo);break;case 10:var m=c.type._context,C=c.memoizedProps.value;pt(Pd,m._currentValue),m._currentValue=C;break;case 13:if(m=c.memoizedState,m!==null)return m.dehydrated!==null?(pt(Dt,Dt.current&1),c.flags|=128,null):h&c.child.childLanes?h0(l,c,h):(pt(Dt,Dt.current&1),l=Oi(l,c,h),l!==null?l.sibling:null);pt(Dt,Dt.current&1);break;case 19:if(m=(h&c.childLanes)!==0,l.flags&128){if(m)return f0(l,c,h);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),pt(Dt,Dt.current),m)break;return null;case 22:case 23:return c.lanes=0,a0(l,c,h)}return Oi(l,c,h)}var g0,cm,m0,v0;g0=function(l,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},cm=function(){},m0=function(l,c,h,m){var C=l.memoizedProps;if(C!==m){l=c.stateNode,lo(jn.current);var R=null;switch(h){case"input":C=ct(l,C),m=ct(l,m),R=[];break;case"select":C=re({},C,{value:void 0}),m=re({},m,{value:void 0}),R=[];break;case"textarea":C=$t(l,C),m=$t(l,m),R=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(l.onclick=vd)}Uf(h,m);var M;h=null;for(j in C)if(!m.hasOwnProperty(j)&&C.hasOwnProperty(j)&&C[j]!=null)if(j==="style"){var _=C[j];for(M in _)_.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?R||(R=[]):(R=R||[]).push(j,null));for(j in m){var W=m[j];if(_=C!=null?C[j]:void 0,m.hasOwnProperty(j)&&W!==_&&(W!=null||_!=null))if(j==="style")if(_){for(M in _)!_.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in W)W.hasOwnProperty(M)&&_[M]!==W[M]&&(h||(h={}),h[M]=W[M])}else h||(R||(R=[]),R.push(j,h)),h=W;else j==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,_=_?_.__html:void 0,W!=null&&_!==W&&(R=R||[]).push(j,W)):j==="children"?typeof W!="string"&&typeof W!="number"||(R=R||[]).push(j,""+W):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(i.hasOwnProperty(j)?(W!=null&&j==="onScroll"&&ft("scroll",l),R||_===W||(R=[])):(R=R||[]).push(j,W))}h&&(R=R||[]).push("style",h);var j=R;(c.updateQueue=j)&&(c.flags|=4)}},v0=function(l,c,h,m){h!==m&&(c.flags|=4)};function ou(l,c){if(!St)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:m.sibling=null}}function cr(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,m=0;if(c)for(var C=l.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags&14680064,m|=C.flags&14680064,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=m,l.childLanes=h,c}function YN(l,c,h){var m=c.pendingProps;switch(Ag(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(c),null;case 1:return Ar(c.type)&&wd(),cr(c),null;case 3:return m=c.stateNode,Da(),gt(kr),gt(lr),$g(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(Dd(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Mn!==null&&(Sm(Mn),Mn=null))),cm(l,c),cr(c),null;case 5:zg(c);var C=lo(tu.current);if(h=c.type,l!==null&&c.stateNode!=null)m0(l,c,h,m,C),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!m){if(c.stateNode===null)throw Error(r(166));return cr(c),null}if(l=lo(jn.current),Dd(c)){m=c.stateNode,h=c.type;var R=c.memoizedProps;switch(m[qn]=c,m[Ql]=R,l=(c.mode&1)!==0,h){case"dialog":ft("cancel",m),ft("close",m);break;case"iframe":case"object":case"embed":ft("load",m);break;case"video":case"audio":for(C=0;C<ql.length;C++)ft(ql[C],m);break;case"source":ft("error",m);break;case"img":case"image":case"link":ft("error",m),ft("load",m);break;case"details":ft("toggle",m);break;case"input":Me(m,R),ft("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!R.multiple},ft("invalid",m);break;case"textarea":ht(m,R),ft("invalid",m)}Uf(h,R),C=null;for(var M in R)if(R.hasOwnProperty(M)){var _=R[M];M==="children"?typeof _=="string"?m.textContent!==_&&(R.suppressHydrationWarning!==!0&&md(m.textContent,_,l),C=["children",_]):typeof _=="number"&&m.textContent!==""+_&&(R.suppressHydrationWarning!==!0&&md(m.textContent,_,l),C=["children",""+_]):i.hasOwnProperty(M)&&_!=null&&M==="onScroll"&&ft("scroll",m)}switch(h){case"input":et(m),zr(m,R,!0);break;case"textarea":et(m),$r(m);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(m.onclick=vd)}m=C,c.updateQueue=m,m!==null&&(c.flags|=4)}else{M=C.nodeType===9?C:C.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=rt(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof m.is=="string"?l=M.createElement(h,{is:m.is}):(l=M.createElement(h),h==="select"&&(M=l,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):l=M.createElementNS(l,h),l[qn]=c,l[Ql]=m,g0(l,c,!1,!1),c.stateNode=l;e:{switch(M=$f(h,m),h){case"dialog":ft("cancel",l),ft("close",l),C=m;break;case"iframe":case"object":case"embed":ft("load",l),C=m;break;case"video":case"audio":for(C=0;C<ql.length;C++)ft(ql[C],l);C=m;break;case"source":ft("error",l),C=m;break;case"img":case"image":case"link":ft("error",l),ft("load",l),C=m;break;case"details":ft("toggle",l),C=m;break;case"input":Me(l,m),C=ct(l,m),ft("invalid",l);break;case"option":C=m;break;case"select":l._wrapperState={wasMultiple:!!m.multiple},C=re({},m,{value:void 0}),ft("invalid",l);break;case"textarea":ht(l,m),C=$t(l,m),ft("invalid",l);break;default:C=m}Uf(h,C),_=C;for(R in _)if(_.hasOwnProperty(R)){var W=_[R];R==="style"?$n(l,W):R==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ml(l,W)):R==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&cs(l,W):typeof W=="number"&&cs(l,""+W):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?W!=null&&R==="onScroll"&&ft("scroll",l):W!=null&&P(l,R,W,M))}switch(h){case"input":et(l),zr(l,m,!1);break;case"textarea":et(l),$r(l);break;case"option":m.value!=null&&l.setAttribute("value",""+ye(m.value));break;case"select":l.multiple=!!m.multiple,R=m.value,R!=null?_t(l,!!m.multiple,R,!1):m.defaultValue!=null&&_t(l,!!m.multiple,m.defaultValue,!0);break;default:typeof C.onClick=="function"&&(l.onclick=vd)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return cr(c),null;case 6:if(l&&c.stateNode!=null)v0(l,c,l.memoizedProps,m);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(h=lo(tu.current),lo(jn.current),Dd(c)){if(m=c.stateNode,h=c.memoizedProps,m[qn]=c,(R=m.nodeValue!==h)&&(l=qr,l!==null))switch(l.tag){case 3:md(m.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&md(m.nodeValue,h,(l.mode&1)!==0)}R&&(c.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[qn]=c,c.stateNode=m}return cr(c),null;case 13:if(gt(Dt),m=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(St&&jr!==null&&c.mode&1&&!(c.flags&128))yE(),ya(),c.flags|=98560,R=!1;else if(R=Dd(c),m!==null&&m.dehydrated!==null){if(l===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[qn]=c}else ya(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;cr(c),R=!1}else Mn!==null&&(Sm(Mn),Mn=null),R=!0;if(!R)return c.flags&65536?c:null}return c.flags&128?(c.lanes=h,c):(m=m!==null,m!==(l!==null&&l.memoizedState!==null)&&m&&(c.child.flags|=8192,c.mode&1&&(l===null||Dt.current&1?qt===0&&(qt=3):Dm())),c.updateQueue!==null&&(c.flags|=4),cr(c),null);case 4:return Da(),cm(l,c),l===null&&jl(c.stateNode.containerInfo),cr(c),null;case 10:return Gg(c.type._context),cr(c),null;case 17:return Ar(c.type)&&wd(),cr(c),null;case 19:if(gt(Dt),R=c.memoizedState,R===null)return cr(c),null;if(m=(c.flags&128)!==0,M=R.rendering,M===null)if(m)ou(R,!1);else{if(qt!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(M=Td(l),M!==null){for(c.flags|=128,ou(R,!1),m=M.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),c.subtreeFlags=0,m=h,h=c.child;h!==null;)R=h,l=m,R.flags&=14680066,M=R.alternate,M===null?(R.childLanes=0,R.lanes=l,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=M.childLanes,R.lanes=M.lanes,R.child=M.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=M.memoizedProps,R.memoizedState=M.memoizedState,R.updateQueue=M.updateQueue,R.type=M.type,l=M.dependencies,R.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return pt(Dt,Dt.current&1|2),c.child}l=l.sibling}R.tail!==null&&Nt()>xa&&(c.flags|=128,m=!0,ou(R,!1),c.lanes=4194304)}else{if(!m)if(l=Td(M),l!==null){if(c.flags|=128,m=!0,h=l.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),ou(R,!0),R.tail===null&&R.tailMode==="hidden"&&!M.alternate&&!St)return cr(c),null}else 2*Nt()-R.renderingStartTime>xa&&h!==1073741824&&(c.flags|=128,m=!0,ou(R,!1),c.lanes=4194304);R.isBackwards?(M.sibling=c.child,c.child=M):(h=R.last,h!==null?h.sibling=M:c.child=M,R.last=M)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=Nt(),c.sibling=null,h=Dt.current,pt(Dt,m?h&1|2:h&1),c):(cr(c),null);case 22:case 23:return bm(),m=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(c.flags|=8192),m&&c.mode&1?Kr&1073741824&&(cr(c),c.subtreeFlags&6&&(c.flags|=8192)):cr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function qN(l,c){switch(Ag(c),c.tag){case 1:return Ar(c.type)&&wd(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Da(),gt(kr),gt(lr),$g(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 5:return zg(c),null;case 13:if(gt(Dt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ya()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return gt(Dt),null;case 4:return Da(),null;case 10:return Gg(c.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Hd=!1,dr=!1,jN=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Pa(l,c){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Tt(l,c,m)}else h.current=null}function dm(l,c,h){try{h()}catch(m){Tt(l,c,m)}}var C0=!1;function KN(l,c){if(bg=sd,l=QD(),gg(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var C=m.anchorOffset,R=m.focusNode;m=m.focusOffset;try{h.nodeType,R.nodeType}catch{h=null;break e}var M=0,_=-1,W=-1,j=0,le=0,ue=l,oe=null;t:for(;;){for(var ve;ue!==h||C!==0&&ue.nodeType!==3||(_=M+C),ue!==R||m!==0&&ue.nodeType!==3||(W=M+m),ue.nodeType===3&&(M+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)oe=ue,ue=ve;for(;;){if(ue===l)break t;if(oe===h&&++j===C&&(_=M),oe===R&&++le===m&&(W=M),(ve=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=ve}h=_===-1||W===-1?null:{start:_,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dg={focusedElem:l,selectionRange:h},sd=!1,Se=c;Se!==null;)if(c=Se,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Se=l;else for(;Se!==null;){c=Se;try{var De=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Ee=De.memoizedProps,Gt=De.memoizedState,U=c.stateNode,B=U.getSnapshotBeforeUpdate(c.elementType===c.type?Ee:Tn(c.type,Ee),Gt);U.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Y=c.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){Tt(c,c.return,pe)}if(l=c.sibling,l!==null){l.return=c.return,Se=l;break}Se=c.return}return De=C0,C0=!1,De}function au(l,c,h){var m=c.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&l)===l){var R=C.destroy;C.destroy=void 0,R!==void 0&&dm(c,h,R)}C=C.next}while(C!==m)}}function Wd(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&l)===l){var m=h.create;h.destroy=m()}h=h.next}while(h!==c)}}function hm(l){var c=l.ref;if(c!==null){var h=l.stateNode;switch(l.tag){case 5:l=h;break;default:l=h}typeof c=="function"?c(l):c.current=l}}function w0(l){var c=l.alternate;c!==null&&(l.alternate=null,w0(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[qn],delete c[Ql],delete c[xg],delete c[kN],delete c[AN])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function y0(l){return l.tag===5||l.tag===3||l.tag===4}function S0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||y0(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function pm(l,c,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(l,c):h.insertBefore(l,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(l,h)):(c=h,c.appendChild(l)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=vd));else if(m!==4&&(l=l.child,l!==null))for(pm(l,c,h),l=l.sibling;l!==null;)pm(l,c,h),l=l.sibling}function fm(l,c,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(m!==4&&(l=l.child,l!==null))for(fm(l,c,h),l=l.sibling;l!==null;)fm(l,c,h),l=l.sibling}var nr=null,kn=!1;function bs(l,c,h){for(h=h.child;h!==null;)R0(l,c,h),h=h.sibling}function R0(l,c,h){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Zc,h)}catch{}switch(h.tag){case 5:dr||Pa(h,c);case 6:var m=nr,C=kn;nr=null,bs(l,c,h),nr=m,kn=C,nr!==null&&(kn?(l=nr,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):nr.removeChild(h.stateNode));break;case 18:nr!==null&&(kn?(l=nr,h=h.stateNode,l.nodeType===8?Fg(l.parentNode,h):l.nodeType===1&&Fg(l,h),Hl(l)):Fg(nr,h.stateNode));break;case 4:m=nr,C=kn,nr=h.stateNode.containerInfo,kn=!0,bs(l,c,h),nr=m,kn=C;break;case 0:case 11:case 14:case 15:if(!dr&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){C=m=m.next;do{var R=C,M=R.destroy;R=R.tag,M!==void 0&&(R&2||R&4)&&dm(h,c,M),C=C.next}while(C!==m)}bs(l,c,h);break;case 1:if(!dr&&(Pa(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(_){Tt(h,c,_)}bs(l,c,h);break;case 21:bs(l,c,h);break;case 22:h.mode&1?(dr=(m=dr)||h.memoizedState!==null,bs(l,c,h),dr=m):bs(l,c,h);break;default:bs(l,c,h)}}function b0(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new jN),c.forEach(function(m){var C=iG.bind(null,l,m);h.has(m)||(h.add(m),m.then(C,C))})}}function An(l,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var C=h[m];try{var R=l,M=c,_=M;e:for(;_!==null;){switch(_.tag){case 5:nr=_.stateNode,kn=!1;break e;case 3:nr=_.stateNode.containerInfo,kn=!0;break e;case 4:nr=_.stateNode.containerInfo,kn=!0;break e}_=_.return}if(nr===null)throw Error(r(160));R0(R,M,C),nr=null,kn=!1;var W=C.alternate;W!==null&&(W.return=null),C.return=null}catch(j){Tt(C,c,j)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)D0(c,l),c=c.sibling}function D0(l,c){var h=l.alternate,m=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(An(c,l),Qn(l),m&4){try{au(3,l,l.return),Wd(3,l)}catch(Ee){Tt(l,l.return,Ee)}try{au(5,l,l.return)}catch(Ee){Tt(l,l.return,Ee)}}break;case 1:An(c,l),Qn(l),m&512&&h!==null&&Pa(h,h.return);break;case 5:if(An(c,l),Qn(l),m&512&&h!==null&&Pa(h,h.return),l.flags&32){var C=l.stateNode;try{cs(C,"")}catch(Ee){Tt(l,l.return,Ee)}}if(m&4&&(C=l.stateNode,C!=null)){var R=l.memoizedProps,M=h!==null?h.memoizedProps:R,_=l.type,W=l.updateQueue;if(l.updateQueue=null,W!==null)try{_==="input"&&R.type==="radio"&&R.name!=null&&Ut(C,R),$f(_,M);var j=$f(_,R);for(M=0;M<W.length;M+=2){var le=W[M],ue=W[M+1];le==="style"?$n(C,ue):le==="dangerouslySetInnerHTML"?Ml(C,ue):le==="children"?cs(C,ue):P(C,le,ue,j)}switch(_){case"input":Ne(C,R);break;case"textarea":Ur(C,R);break;case"select":var oe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!R.multiple;var ve=R.value;ve!=null?_t(C,!!R.multiple,ve,!1):oe!==!!R.multiple&&(R.defaultValue!=null?_t(C,!!R.multiple,R.defaultValue,!0):_t(C,!!R.multiple,R.multiple?[]:"",!1))}C[Ql]=R}catch(Ee){Tt(l,l.return,Ee)}}break;case 6:if(An(c,l),Qn(l),m&4){if(l.stateNode===null)throw Error(r(162));C=l.stateNode,R=l.memoizedProps;try{C.nodeValue=R}catch(Ee){Tt(l,l.return,Ee)}}break;case 3:if(An(c,l),Qn(l),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Hl(c.containerInfo)}catch(Ee){Tt(l,l.return,Ee)}break;case 4:An(c,l),Qn(l);break;case 13:An(c,l),Qn(l),C=l.child,C.flags&8192&&(R=C.memoizedState!==null,C.stateNode.isHidden=R,!R||C.alternate!==null&&C.alternate.memoizedState!==null||(vm=Nt())),m&4&&b0(l);break;case 22:if(le=h!==null&&h.memoizedState!==null,l.mode&1?(dr=(j=dr)||le,An(c,l),dr=j):An(c,l),Qn(l),m&8192){if(j=l.memoizedState!==null,(l.stateNode.isHidden=j)&&!le&&l.mode&1)for(Se=l,le=l.child;le!==null;){for(ue=Se=le;Se!==null;){switch(oe=Se,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:au(4,oe,oe.return);break;case 1:Pa(oe,oe.return);var De=oe.stateNode;if(typeof De.componentWillUnmount=="function"){m=oe,h=oe.return;try{c=m,De.props=c.memoizedProps,De.state=c.memoizedState,De.componentWillUnmount()}catch(Ee){Tt(m,h,Ee)}}break;case 5:Pa(oe,oe.return);break;case 22:if(oe.memoizedState!==null){F0(ue);continue}}ve!==null?(ve.return=oe,Se=ve):F0(ue)}le=le.sibling}e:for(le=null,ue=l;;){if(ue.tag===5){if(le===null){le=ue;try{C=ue.stateNode,j?(R=C.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(_=ue.stateNode,W=ue.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,_.style.display=Pn("display",M))}catch(Ee){Tt(l,l.return,Ee)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=j?"":ue.memoizedProps}catch(Ee){Tt(l,l.return,Ee)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===l)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===l)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===l)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:An(c,l),Qn(l),m&4&&b0(l);break;case 21:break;default:An(c,l),Qn(l)}}function Qn(l){var c=l.flags;if(c&2){try{e:{for(var h=l.return;h!==null;){if(y0(h)){var m=h;break e}h=h.return}throw Error(r(160))}switch(m.tag){case 5:var C=m.stateNode;m.flags&32&&(cs(C,""),m.flags&=-33);var R=S0(l);fm(l,R,C);break;case 3:case 4:var M=m.stateNode.containerInfo,_=S0(l);pm(l,_,M);break;default:throw Error(r(161))}}catch(W){Tt(l,l.return,W)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function QN(l,c,h){Se=l,E0(l)}function E0(l,c,h){for(var m=(l.mode&1)!==0;Se!==null;){var C=Se,R=C.child;if(C.tag===22&&m){var M=C.memoizedState!==null||Hd;if(!M){var _=C.alternate,W=_!==null&&_.memoizedState!==null||dr;_=Hd;var j=dr;if(Hd=M,(dr=W)&&!j)for(Se=C;Se!==null;)M=Se,W=M.child,M.tag===22&&M.memoizedState!==null?x0(C):W!==null?(W.return=M,Se=W):x0(C);for(;R!==null;)Se=R,E0(R),R=R.sibling;Se=C,Hd=_,dr=j}P0(l)}else C.subtreeFlags&8772&&R!==null?(R.return=C,Se=R):P0(l)}}function P0(l){for(;Se!==null;){var c=Se;if(c.flags&8772){var h=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:dr||Wd(5,c);break;case 1:var m=c.stateNode;if(c.flags&4&&!dr)if(h===null)m.componentDidMount();else{var C=c.elementType===c.type?h.memoizedProps:Tn(c.type,h.memoizedProps);m.componentDidUpdate(C,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var R=c.updateQueue;R!==null&&FE(c,R,m);break;case 3:var M=c.updateQueue;if(M!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}FE(c,M,h)}break;case 5:var _=c.stateNode;if(h===null&&c.flags&4){h=_;var W=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var j=c.alternate;if(j!==null){var le=j.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Hl(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}dr||c.flags&512&&hm(c)}catch(oe){Tt(c,c.return,oe)}}if(c===l){Se=null;break}if(h=c.sibling,h!==null){h.return=c.return,Se=h;break}Se=c.return}}function F0(l){for(;Se!==null;){var c=Se;if(c===l){Se=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Se=h;break}Se=c.return}}function x0(l){for(;Se!==null;){var c=Se;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Wd(4,c)}catch(W){Tt(c,h,W)}break;case 1:var m=c.stateNode;if(typeof m.componentDidMount=="function"){var C=c.return;try{m.componentDidMount()}catch(W){Tt(c,C,W)}}var R=c.return;try{hm(c)}catch(W){Tt(c,R,W)}break;case 5:var M=c.return;try{hm(c)}catch(W){Tt(c,M,W)}}}catch(W){Tt(c,c.return,W)}if(c===l){Se=null;break}var _=c.sibling;if(_!==null){_.return=c.return,Se=_;break}Se=c.return}}var XN=Math.ceil,Bd=F.ReactCurrentDispatcher,gm=F.ReactCurrentOwner,un=F.ReactCurrentBatchConfig,Ye=0,Zt=null,zt=null,ir=0,Kr=0,Fa=Cs(0),qt=0,lu=null,co=0,Vd=0,mm=0,uu=null,Ir=null,vm=0,xa=1/0,Ii=null,zd=!1,Cm=null,Ds=null,Ud=!1,Es=null,$d=0,cu=0,wm=null,Yd=-1,qd=0;function wr(){return Ye&6?Nt():Yd!==-1?Yd:Yd=Nt()}function Ps(l){return l.mode&1?Ye&2&&ir!==0?ir&-ir:IN.transition!==null?(qd===0&&(qd=SD()),qd):(l=nt,l!==0||(l=window.event,l=l===void 0?16:TD(l.type)),l):1}function On(l,c,h,m){if(50<cu)throw cu=0,wm=null,Error(r(185));Il(l,h,m),(!(Ye&2)||l!==Zt)&&(l===Zt&&(!(Ye&2)&&(Vd|=h),qt===4&&Fs(l,ir)),Lr(l,m),h===1&&Ye===0&&!(c.mode&1)&&(xa=Nt()+500,Sd&&ys()))}function Lr(l,c){var h=l.callbackNode;I1(l,c);var m=rd(l,l===Zt?ir:0);if(m===0)h!==null&&CD(h),l.callbackNode=null,l.callbackPriority=0;else if(c=m&-m,l.callbackPriority!==c){if(h!=null&&CD(h),c===1)l.tag===0?ON(T0.bind(null,l)):gE(T0.bind(null,l)),MN(function(){!(Ye&6)&&ys()}),h=null;else{switch(RD(m)){case 1:h=Jf;break;case 4:h=wD;break;case 16:h=Jc;break;case 536870912:h=yD;break;default:h=Jc}h=G0(h,M0.bind(null,l))}l.callbackPriority=c,l.callbackNode=h}}function M0(l,c){if(Yd=-1,qd=0,Ye&6)throw Error(r(327));var h=l.callbackNode;if(Ma()&&l.callbackNode!==h)return null;var m=rd(l,l===Zt?ir:0);if(m===0)return null;if(m&30||m&l.expiredLanes||c)c=jd(l,m);else{c=m;var C=Ye;Ye|=2;var R=A0();(Zt!==l||ir!==c)&&(Ii=null,xa=Nt()+500,po(l,c));do try{eG();break}catch(_){k0(l,_)}while(!0);Ng(),Bd.current=R,Ye=C,zt!==null?c=0:(Zt=null,ir=0,c=qt)}if(c!==0){if(c===2&&(C=Zf(l),C!==0&&(m=C,c=ym(l,C))),c===1)throw h=lu,po(l,0),Fs(l,m),Lr(l,Nt()),h;if(c===6)Fs(l,m);else{if(C=l.current.alternate,!(m&30)&&!JN(C)&&(c=jd(l,m),c===2&&(R=Zf(l),R!==0&&(m=R,c=ym(l,R))),c===1))throw h=lu,po(l,0),Fs(l,m),Lr(l,Nt()),h;switch(l.finishedWork=C,l.finishedLanes=m,c){case 0:case 1:throw Error(r(345));case 2:fo(l,Ir,Ii);break;case 3:if(Fs(l,m),(m&130023424)===m&&(c=vm+500-Nt(),10<c)){if(rd(l,0)!==0)break;if(C=l.suspendedLanes,(C&m)!==m){wr(),l.pingedLanes|=l.suspendedLanes&C;break}l.timeoutHandle=Pg(fo.bind(null,l,Ir,Ii),c);break}fo(l,Ir,Ii);break;case 4:if(Fs(l,m),(m&4194240)===m)break;for(c=l.eventTimes,C=-1;0<m;){var M=31-Fn(m);R=1<<M,M=c[M],M>C&&(C=M),m&=~R}if(m=C,m=Nt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*XN(m/1960))-m,10<m){l.timeoutHandle=Pg(fo.bind(null,l,Ir,Ii),m);break}fo(l,Ir,Ii);break;case 5:fo(l,Ir,Ii);break;default:throw Error(r(329))}}}return Lr(l,Nt()),l.callbackNode===h?M0.bind(null,l):null}function ym(l,c){var h=uu;return l.current.memoizedState.isDehydrated&&(po(l,c).flags|=256),l=jd(l,c),l!==2&&(c=Ir,Ir=h,c!==null&&Sm(c)),l}function Sm(l){Ir===null?Ir=l:Ir.push.apply(Ir,l)}function JN(l){for(var c=l;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var C=h[m],R=C.getSnapshot;C=C.value;try{if(!xn(R(),C))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Fs(l,c){for(c&=~mm,c&=~Vd,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var h=31-Fn(c),m=1<<h;l[h]=-1,c&=~m}}function T0(l){if(Ye&6)throw Error(r(327));Ma();var c=rd(l,0);if(!(c&1))return Lr(l,Nt()),null;var h=jd(l,c);if(l.tag!==0&&h===2){var m=Zf(l);m!==0&&(c=m,h=ym(l,m))}if(h===1)throw h=lu,po(l,0),Fs(l,c),Lr(l,Nt()),h;if(h===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,fo(l,Ir,Ii),Lr(l,Nt()),null}function Rm(l,c){var h=Ye;Ye|=1;try{return l(c)}finally{Ye=h,Ye===0&&(xa=Nt()+500,Sd&&ys())}}function ho(l){Es!==null&&Es.tag===0&&!(Ye&6)&&Ma();var c=Ye;Ye|=1;var h=un.transition,m=nt;try{if(un.transition=null,nt=1,l)return l()}finally{nt=m,un.transition=h,Ye=c,!(Ye&6)&&ys()}}function bm(){Kr=Fa.current,gt(Fa)}function po(l,c){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,xN(h)),zt!==null)for(h=zt.return;h!==null;){var m=h;switch(Ag(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&wd();break;case 3:Da(),gt(kr),gt(lr),$g();break;case 5:zg(m);break;case 4:Da();break;case 13:gt(Dt);break;case 19:gt(Dt);break;case 10:Gg(m.type._context);break;case 22:case 23:bm()}h=h.return}if(Zt=l,zt=l=xs(l.current,null),ir=Kr=c,qt=0,lu=null,mm=Vd=co=0,Ir=uu=null,ao!==null){for(c=0;c<ao.length;c++)if(h=ao[c],m=h.interleaved,m!==null){h.interleaved=null;var C=m.next,R=h.pending;if(R!==null){var M=R.next;R.next=C,m.next=M}h.pending=m}ao=null}return l}function k0(l,c){do{var h=zt;try{if(Ng(),kd.current=Ld,Ad){for(var m=Et.memoizedState;m!==null;){var C=m.queue;C!==null&&(C.pending=null),m=m.next}Ad=!1}if(uo=0,Jt=Yt=Et=null,ru=!1,nu=0,gm.current=null,h===null||h.return===null){qt=1,lu=c,zt=null;break}e:{var R=l,M=h.return,_=h,W=c;if(c=ir,_.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var j=W,le=_,ue=le.tag;if(!(le.mode&1)&&(ue===0||ue===11||ue===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ve=r0(M);if(ve!==null){ve.flags&=-257,n0(ve,M,_,R,c),ve.mode&1&&t0(R,j,c),c=ve,W=j;var De=c.updateQueue;if(De===null){var Ee=new Set;Ee.add(W),c.updateQueue=Ee}else De.add(W);break e}else{if(!(c&1)){t0(R,j,c),Dm();break e}W=Error(r(426))}}else if(St&&_.mode&1){var Gt=r0(M);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),n0(Gt,M,_,R,c),Lg(Ea(W,_));break e}}R=W=Ea(W,_),qt!==4&&(qt=2),uu===null?uu=[R]:uu.push(R),R=M;do{switch(R.tag){case 3:R.flags|=65536,c&=-c,R.lanes|=c;var U=ZE(R,W,c);PE(R,U);break e;case 1:_=W;var B=R.type,Y=R.stateNode;if(!(R.flags&128)&&(typeof B.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ds===null||!Ds.has(Y)))){R.flags|=65536,c&=-c,R.lanes|=c;var pe=e0(R,_,c);PE(R,pe);break e}}R=R.return}while(R!==null)}I0(h)}catch(Pe){c=Pe,zt===h&&h!==null&&(zt=h=h.return);continue}break}while(!0)}function A0(){var l=Bd.current;return Bd.current=Ld,l===null?Ld:l}function Dm(){(qt===0||qt===3||qt===2)&&(qt=4),Zt===null||!(co&268435455)&&!(Vd&268435455)||Fs(Zt,ir)}function jd(l,c){var h=Ye;Ye|=2;var m=A0();(Zt!==l||ir!==c)&&(Ii=null,po(l,c));do try{ZN();break}catch(C){k0(l,C)}while(!0);if(Ng(),Ye=h,Bd.current=m,zt!==null)throw Error(r(261));return Zt=null,ir=0,qt}function ZN(){for(;zt!==null;)O0(zt)}function eG(){for(;zt!==null&&!E1();)O0(zt)}function O0(l){var c=N0(l.alternate,l,Kr);l.memoizedProps=l.pendingProps,c===null?I0(l):zt=c,gm.current=null}function I0(l){var c=l;do{var h=c.alternate;if(l=c.return,c.flags&32768){if(h=qN(h,c),h!==null){h.flags&=32767,zt=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{qt=6,zt=null;return}}else if(h=YN(h,c,Kr),h!==null){zt=h;return}if(c=c.sibling,c!==null){zt=c;return}zt=c=l}while(c!==null);qt===0&&(qt=5)}function fo(l,c,h){var m=nt,C=un.transition;try{un.transition=null,nt=1,tG(l,c,h,m)}finally{un.transition=C,nt=m}return null}function tG(l,c,h,m){do Ma();while(Es!==null);if(Ye&6)throw Error(r(327));h=l.finishedWork;var C=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var R=h.lanes|h.childLanes;if(L1(l,R),l===Zt&&(zt=Zt=null,ir=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Ud||(Ud=!0,G0(Jc,function(){return Ma(),null})),R=(h.flags&15990)!==0,h.subtreeFlags&15990||R){R=un.transition,un.transition=null;var M=nt;nt=1;var _=Ye;Ye|=4,gm.current=null,KN(l,h),D0(h,l),SN(Dg),sd=!!bg,Dg=bg=null,l.current=h,QN(h),P1(),Ye=_,nt=M,un.transition=R}else l.current=h;if(Ud&&(Ud=!1,Es=l,$d=C),R=l.pendingLanes,R===0&&(Ds=null),M1(h.stateNode),Lr(l,Nt()),c!==null)for(m=l.onRecoverableError,h=0;h<c.length;h++)C=c[h],m(C.value,{componentStack:C.stack,digest:C.digest});if(zd)throw zd=!1,l=Cm,Cm=null,l;return $d&1&&l.tag!==0&&Ma(),R=l.pendingLanes,R&1?l===wm?cu++:(cu=0,wm=l):cu=0,ys(),null}function Ma(){if(Es!==null){var l=RD($d),c=un.transition,h=nt;try{if(un.transition=null,nt=16>l?16:l,Es===null)var m=!1;else{if(l=Es,Es=null,$d=0,Ye&6)throw Error(r(331));var C=Ye;for(Ye|=4,Se=l.current;Se!==null;){var R=Se,M=R.child;if(Se.flags&16){var _=R.deletions;if(_!==null){for(var W=0;W<_.length;W++){var j=_[W];for(Se=j;Se!==null;){var le=Se;switch(le.tag){case 0:case 11:case 15:au(8,le,R)}var ue=le.child;if(ue!==null)ue.return=le,Se=ue;else for(;Se!==null;){le=Se;var oe=le.sibling,ve=le.return;if(w0(le),le===j){Se=null;break}if(oe!==null){oe.return=ve,Se=oe;break}Se=ve}}}var De=R.alternate;if(De!==null){var Ee=De.child;if(Ee!==null){De.child=null;do{var Gt=Ee.sibling;Ee.sibling=null,Ee=Gt}while(Ee!==null)}}Se=R}}if(R.subtreeFlags&2064&&M!==null)M.return=R,Se=M;else e:for(;Se!==null;){if(R=Se,R.flags&2048)switch(R.tag){case 0:case 11:case 15:au(9,R,R.return)}var U=R.sibling;if(U!==null){U.return=R.return,Se=U;break e}Se=R.return}}var B=l.current;for(Se=B;Se!==null;){M=Se;var Y=M.child;if(M.subtreeFlags&2064&&Y!==null)Y.return=M,Se=Y;else e:for(M=B;Se!==null;){if(_=Se,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Wd(9,_)}}catch(Pe){Tt(_,_.return,Pe)}if(_===M){Se=null;break e}var pe=_.sibling;if(pe!==null){pe.return=_.return,Se=pe;break e}Se=_.return}}if(Ye=C,ys(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Zc,l)}catch{}m=!0}return m}finally{nt=h,un.transition=c}}return!1}function L0(l,c,h){c=Ea(h,c),c=ZE(l,c,1),l=Rs(l,c,1),c=wr(),l!==null&&(Il(l,1,c),Lr(l,c))}function Tt(l,c,h){if(l.tag===3)L0(l,l,h);else for(;c!==null;){if(c.tag===3){L0(c,l,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ds===null||!Ds.has(m))){l=Ea(h,l),l=e0(c,l,1),c=Rs(c,l,1),l=wr(),c!==null&&(Il(c,1,l),Lr(c,l));break}}c=c.return}}function rG(l,c,h){var m=l.pingCache;m!==null&&m.delete(c),c=wr(),l.pingedLanes|=l.suspendedLanes&h,Zt===l&&(ir&h)===h&&(qt===4||qt===3&&(ir&130023424)===ir&&500>Nt()-vm?po(l,0):mm|=h),Lr(l,c)}function _0(l,c){c===0&&(l.mode&1?(c=td,td<<=1,!(td&130023424)&&(td=4194304)):c=1);var h=wr();l=ki(l,c),l!==null&&(Il(l,c,h),Lr(l,h))}function nG(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),_0(l,h)}function iG(l,c){var h=0;switch(l.tag){case 13:var m=l.stateNode,C=l.memoizedState;C!==null&&(h=C.retryLane);break;case 19:m=l.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(c),_0(l,h)}var N0;N0=function(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps||kr.current)Or=!0;else{if(!(l.lanes&h)&&!(c.flags&128))return Or=!1,$N(l,c,h);Or=!!(l.flags&131072)}else Or=!1,St&&c.flags&1048576&&mE(c,bd,c.index);switch(c.lanes=0,c.tag){case 2:var m=c.type;Gd(l,c),l=c.pendingProps;var C=va(c,lr.current);ba(c,h),C=jg(null,c,m,l,C,h);var R=Kg();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ar(m)?(R=!0,yd(c)):R=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Bg(c),C.updater=_d,c.stateNode=C,C._reactInternals=c,tm(c,m,l,h),c=sm(null,c,m,!0,R,h)):(c.tag=0,St&&R&&kg(c),Cr(null,c,C,h),c=c.child),c;case 16:m=c.elementType;e:{switch(Gd(l,c),l=c.pendingProps,C=m._init,m=C(m._payload),c.type=m,C=c.tag=oG(m),l=Tn(m,l),C){case 0:c=im(null,c,m,l,h);break e;case 1:c=u0(null,c,m,l,h);break e;case 11:c=i0(null,c,m,l,h);break e;case 14:c=s0(null,c,m,Tn(m.type,l),h);break e}throw Error(r(306,m,""))}return c;case 0:return m=c.type,C=c.pendingProps,C=c.elementType===m?C:Tn(m,C),im(l,c,m,C,h);case 1:return m=c.type,C=c.pendingProps,C=c.elementType===m?C:Tn(m,C),u0(l,c,m,C,h);case 3:e:{if(c0(c),l===null)throw Error(r(387));m=c.pendingProps,R=c.memoizedState,C=R.element,EE(l,c),Md(c,m,null,h);var M=c.memoizedState;if(m=M.element,R.isDehydrated)if(R={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){C=Ea(Error(r(423)),c),c=d0(l,c,m,h,C);break e}else if(m!==C){C=Ea(Error(r(424)),c),c=d0(l,c,m,h,C);break e}else for(jr=vs(c.stateNode.containerInfo.firstChild),qr=c,St=!0,Mn=null,h=bE(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ya(),m===C){c=Oi(l,c,h);break e}Cr(l,c,m,h)}c=c.child}return c;case 5:return xE(c),l===null&&Ig(c),m=c.type,C=c.pendingProps,R=l!==null?l.memoizedProps:null,M=C.children,Eg(m,C)?M=null:R!==null&&Eg(m,R)&&(c.flags|=32),l0(l,c),Cr(l,c,M,h),c.child;case 6:return l===null&&Ig(c),null;case 13:return h0(l,c,h);case 4:return Vg(c,c.stateNode.containerInfo),m=c.pendingProps,l===null?c.child=Sa(c,null,m,h):Cr(l,c,m,h),c.child;case 11:return m=c.type,C=c.pendingProps,C=c.elementType===m?C:Tn(m,C),i0(l,c,m,C,h);case 7:return Cr(l,c,c.pendingProps,h),c.child;case 8:return Cr(l,c,c.pendingProps.children,h),c.child;case 12:return Cr(l,c,c.pendingProps.children,h),c.child;case 10:e:{if(m=c.type._context,C=c.pendingProps,R=c.memoizedProps,M=C.value,pt(Pd,m._currentValue),m._currentValue=M,R!==null)if(xn(R.value,M)){if(R.children===C.children&&!kr.current){c=Oi(l,c,h);break e}}else for(R=c.child,R!==null&&(R.return=c);R!==null;){var _=R.dependencies;if(_!==null){M=R.child;for(var W=_.firstContext;W!==null;){if(W.context===m){if(R.tag===1){W=Ai(-1,h&-h),W.tag=2;var j=R.updateQueue;if(j!==null){j=j.shared;var le=j.pending;le===null?W.next=W:(W.next=le.next,le.next=W),j.pending=W}}R.lanes|=h,W=R.alternate,W!==null&&(W.lanes|=h),Hg(R.return,h,c),_.lanes|=h;break}W=W.next}}else if(R.tag===10)M=R.type===c.type?null:R.child;else if(R.tag===18){if(M=R.return,M===null)throw Error(r(341));M.lanes|=h,_=M.alternate,_!==null&&(_.lanes|=h),Hg(M,h,c),M=R.sibling}else M=R.child;if(M!==null)M.return=R;else for(M=R;M!==null;){if(M===c){M=null;break}if(R=M.sibling,R!==null){R.return=M.return,M=R;break}M=M.return}R=M}Cr(l,c,C.children,h),c=c.child}return c;case 9:return C=c.type,m=c.pendingProps.children,ba(c,h),C=an(C),m=m(C),c.flags|=1,Cr(l,c,m,h),c.child;case 14:return m=c.type,C=Tn(m,c.pendingProps),C=Tn(m.type,C),s0(l,c,m,C,h);case 15:return o0(l,c,c.type,c.pendingProps,h);case 17:return m=c.type,C=c.pendingProps,C=c.elementType===m?C:Tn(m,C),Gd(l,c),c.tag=1,Ar(m)?(l=!0,yd(c)):l=!1,ba(c,h),XE(c,m,C),tm(c,m,C,h),sm(null,c,m,!0,l,h);case 19:return f0(l,c,h);case 22:return a0(l,c,h)}throw Error(r(156,c.tag))};function G0(l,c){return vD(l,c)}function sG(l,c,h,m){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(l,c,h,m){return new sG(l,c,h,m)}function Em(l){return l=l.prototype,!(!l||!l.isReactComponent)}function oG(l){if(typeof l=="function")return Em(l)?1:0;if(l!=null){if(l=l.$$typeof,l===V)return 11;if(l===se)return 14}return 2}function xs(l,c){var h=l.alternate;return h===null?(h=cn(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function Kd(l,c,h,m,C,R){var M=2;if(m=l,typeof l=="function")Em(l)&&(M=1);else if(typeof l=="string")M=5;else e:switch(l){case T:return go(h.children,C,R,c);case I:M=8,C|=8;break;case L:return l=cn(12,h,c,C|2),l.elementType=L,l.lanes=R,l;case $:return l=cn(13,h,c,C),l.elementType=$,l.lanes=R,l;case te:return l=cn(19,h,c,C),l.elementType=te,l.lanes=R,l;case Z:return Qd(h,C,R,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case H:M=10;break e;case G:M=9;break e;case V:M=11;break e;case se:M=14;break e;case X:M=16,m=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=cn(M,h,c,C),c.elementType=l,c.type=m,c.lanes=R,c}function go(l,c,h,m){return l=cn(7,l,m,c),l.lanes=h,l}function Qd(l,c,h,m){return l=cn(22,l,m,c),l.elementType=Z,l.lanes=h,l.stateNode={isHidden:!1},l}function Pm(l,c,h){return l=cn(6,l,null,c),l.lanes=h,l}function Fm(l,c,h){return c=cn(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function aG(l,c,h,m,C){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=m,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function xm(l,c,h,m,C,R,M,_,W){return l=new aG(l,c,h,_,W),c===1?(c=1,R===!0&&(c|=8)):c=0,R=cn(3,null,null,c),l.current=R,R.stateNode=l,R.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bg(R),l}function lG(l,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:l,containerInfo:c,implementation:h}}function H0(l){if(!l)return ws;l=l._reactInternals;e:{if(ro(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ar(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var h=l.type;if(Ar(h))return pE(l,h,c)}return c}function W0(l,c,h,m,C,R,M,_,W){return l=xm(h,m,!0,l,C,R,M,_,W),l.context=H0(null),h=l.current,m=wr(),C=Ps(h),R=Ai(m,C),R.callback=c??null,Rs(h,R,C),l.current.lanes=C,Il(l,C,m),Lr(l,m),l}function Xd(l,c,h,m){var C=c.current,R=wr(),M=Ps(C);return h=H0(h),c.context===null?c.context=h:c.pendingContext=h,c=Ai(R,M),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Rs(C,c,M),l!==null&&(On(l,C,M,R),xd(l,C,M)),M}function Jd(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function B0(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Mm(l,c){B0(l,c),(l=l.alternate)&&B0(l,c)}function uG(){return null}var V0=typeof reportError=="function"?reportError:function(l){console.error(l)};function Tm(l){this._internalRoot=l}Zd.prototype.render=Tm.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));Xd(l,c,null,null)},Zd.prototype.unmount=Tm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;ho(function(){Xd(null,l,null,null)}),c[Fi]=null}};function Zd(l){this._internalRoot=l}Zd.prototype.unstable_scheduleHydration=function(l){if(l){var c=ED();l={blockedOn:null,target:l,priority:c};for(var h=0;h<fs.length&&c!==0&&c<fs[h].priority;h++);fs.splice(h,0,l),h===0&&xD(l)}};function km(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function eh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function z0(){}function cG(l,c,h,m,C){if(C){if(typeof m=="function"){var R=m;m=function(){var j=Jd(M);R.call(j)}}var M=W0(c,m,l,0,null,!1,!1,"",z0);return l._reactRootContainer=M,l[Fi]=M.current,jl(l.nodeType===8?l.parentNode:l),ho(),M}for(;C=l.lastChild;)l.removeChild(C);if(typeof m=="function"){var _=m;m=function(){var j=Jd(W);_.call(j)}}var W=xm(l,0,!1,null,null,!1,!1,"",z0);return l._reactRootContainer=W,l[Fi]=W.current,jl(l.nodeType===8?l.parentNode:l),ho(function(){Xd(c,W,h,m)}),W}function th(l,c,h,m,C){var R=h._reactRootContainer;if(R){var M=R;if(typeof C=="function"){var _=C;C=function(){var W=Jd(M);_.call(W)}}Xd(c,M,l,C)}else M=cG(h,c,l,C,m);return Jd(M)}bD=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var h=Ol(c.pendingLanes);h!==0&&(tg(c,h|1),Lr(c,Nt()),!(Ye&6)&&(xa=Nt()+500,ys()))}break;case 13:ho(function(){var m=ki(l,1);if(m!==null){var C=wr();On(m,l,1,C)}}),Mm(l,1)}},rg=function(l){if(l.tag===13){var c=ki(l,134217728);if(c!==null){var h=wr();On(c,l,134217728,h)}Mm(l,134217728)}},DD=function(l){if(l.tag===13){var c=Ps(l),h=ki(l,c);if(h!==null){var m=wr();On(h,l,c,m)}Mm(l,c)}},ED=function(){return nt},PD=function(l,c){var h=nt;try{return nt=l,c()}finally{nt=h}},jf=function(l,c,h){switch(c){case"input":if(Ne(l,h),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==l&&m.form===l.form){var C=Cd(m);if(!C)throw Error(r(90));Ge(m),Ne(m,C)}}}break;case"textarea":Ur(l,h);break;case"select":c=h.value,c!=null&&_t(l,!!h.multiple,c,!1)}},cD=Rm,dD=ho;var dG={usingClientEntryPoint:!1,Events:[Xl,ga,Cd,lD,uD,Rm]},du={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hG={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=gD(l),l===null?null:l.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||uG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Zc=rh.inject(hG),Yn=rh}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dG,_r.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(c))throw Error(r(200));return lG(l,c,null,h)},_r.createRoot=function(l,c){if(!km(l))throw Error(r(299));var h=!1,m="",C=V0;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=xm(l,1,!1,null,null,h,!1,m,C),l[Fi]=c.current,jl(l.nodeType===8?l.parentNode:l),new Tm(c)},_r.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=gD(c),l=l===null?null:l.stateNode,l},_r.flushSync=function(l){return ho(l)},_r.hydrate=function(l,c,h){if(!eh(c))throw Error(r(200));return th(null,l,c,!0,h)},_r.hydrateRoot=function(l,c,h){if(!km(l))throw Error(r(405));var m=h!=null&&h.hydratedSources||null,C=!1,R="",M=V0;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(R=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),c=W0(c,null,l,1,h??null,C,!1,R,M),l[Fi]=c.current,jl(l),m)for(l=0;l<m.length;l++)h=m[l],C=h._getVersion,C=C(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,C]:c.mutableSourceEagerHydrationData.push(h,C);return new Zd(c)},_r.render=function(l,c,h){if(!eh(c))throw Error(r(200));return th(null,l,c,!1,h)},_r.unmountComponentAtNode=function(l){if(!eh(l))throw Error(r(40));return l._reactRootContainer?(ho(function(){th(null,null,l,!1,function(){l._reactRootContainer=null,l[Fi]=null})}),!0):!1},_r.unstable_batchedUpdates=Rm,_r.unstable_renderSubtreeIntoContainer=function(l,c,h,m){if(!eh(h))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return th(l,c,h,!1,m)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var X0;function Qk(){if(X0)return Im.exports;X0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Im.exports=DG(),Im.exports}var J0;function EG(){if(J0)return ih;J0=1;var e=Qk();return ih.createRoot=e.createRoot,ih.hydrateRoot=e.hydrateRoot,ih}var PG=EG();const FG=Tr(PG);var pu={},Z0;function xG(){if(Z0)return pu;Z0=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=o,pu.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,v){const w=new s,y=g.length;if(y<2)return w;const S=(v==null?void 0:v.decode)||p;let b=0;do{const E=g.indexOf("=",b);if(E===-1)break;const P=g.indexOf(";",b),F=P===-1?y:P;if(E>F){b=g.lastIndexOf(";",E-1)+1;continue}const k=a(g,b,E),A=u(g,E,k),T=g.slice(k,A);if(w[T]===void 0){let I=a(g,E+1,F),L=u(g,F,I);const H=S(g.slice(I,L));w[T]=H}b=F+1}while(b<y);return w}function a(g,v,w){do{const y=g.charCodeAt(v);if(y!==32&&y!==9)return v}while(++v<w);return w}function u(g,v,w){for(;v>w;){const y=g.charCodeAt(--v);if(y!==32&&y!==9)return v+1}return w}function d(g,v,w){const y=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=y(v);if(!t.test(S))throw new TypeError(`argument val is invalid: ${v}`);let b=g+"="+S;if(!w)return b;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);b+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);b+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);b+="; Path="+w.path}if(w.expires){if(!f(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);b+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(b+="; HttpOnly"),w.secure&&(b+="; Secure"),w.partitioned&&(b+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return b}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function f(g){return i.call(g)==="[object Date]"}return pu}xG();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eP="popstate";function MG(e={}){function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return Jy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Uu(i)}return kG(t,r,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TG(){return Math.random().toString(36).substring(2,10)}function tP(e,t){return{usr:e.state,key:e.key,idx:t}}function Jy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dl(t):t,state:r,key:t&&t.key||n||TG()}}function Uu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function kG(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",u=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function f(){a="POP";let S=p(),b=S==null?null:S-d;d=S,u&&u({action:a,location:y.location,delta:b})}function g(S,b){a="PUSH";let E=Jy(y.location,S,b);d=p()+1;let P=tP(E,d),F=y.createHref(E);try{o.pushState(P,"",F)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(F)}s&&u&&u({action:a,location:y.location,delta:1})}function v(S,b){a="REPLACE";let E=Jy(y.location,S,b);d=p();let P=tP(E,d),F=y.createHref(E);o.replaceState(P,"",F),s&&u&&u({action:a,location:y.location,delta:0})}function w(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:Uu(S);return E=E.replace(/ $/,"%20"),Mt(b,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,b)}let y={get action(){return a},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(eP,f),u=S,()=>{i.removeEventListener(eP,f),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let b=w(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:v,go(S){return o.go(S)}};return y}function Xk(e,t,r="/"){return AG(e,t,r,!1)}function AG(e,t,r,n){let i=typeof t=="string"?dl(t):t,s=zs(i.pathname||"/",r);if(s==null)return null;let o=Jk(e);OG(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=UG(s);a=VG(o[u],d,n)}return a}function Jk(e,t=[],r=[],n=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Mt(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=Vi([n,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(Mt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Jk(s.children,t,p,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:WG(d,s.index),routesMeta:p})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Zk(s.path))i(s,o,u)}),t}function Zk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Zk(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function OG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var IG=/^:[\w-]+$/,LG=3,_G=2,NG=1,GG=10,HG=-2,rP=e=>e==="*";function WG(e,t){let r=e.split("/"),n=r.length;return r.some(rP)&&(n+=HG),t&&(n+=_G),r.filter(i=>!rP(i)).reduce((i,s)=>i+(IG.test(s)?LG:s===""?NG:GG),n)}function BG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function VG(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],d=a===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=np({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),g=u.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=np({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Vi([s,f.pathname]),pathnameBase:jG(Vi([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Vi([s,f.pathnameBase]))}return o}function np(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zG(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:f},g)=>{if(p==="*"){let w=a[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[g];return f&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function zG(e,t=!1,r=!0){pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function UG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pi(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $G(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?dl(e):e;return{pathname:r?r.startsWith("/")?r:YG(r,t):t,search:KG(n),hash:QG(i)}}function YG(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qG(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eA(e){let t=qG(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tA(e,t,r,n=!1){let i;typeof e=="string"?i=dl(e):(i={...e},Mt(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?t[f]:"/"}let u=$G(i,a),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Vi=e=>e.join("/").replace(/\/\/+/g,"/"),jG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rA=["POST","PUT","PATCH","DELETE"];new Set(rA);var JG=["GET",...rA];new Set(JG);var hl=D.createContext(null);hl.displayName="DataRouter";var Up=D.createContext(null);Up.displayName="DataRouterState";var nA=D.createContext({isTransitioning:!1});nA.displayName="ViewTransition";var ZG=D.createContext(new Map);ZG.displayName="Fetchers";var eH=D.createContext(null);eH.displayName="Await";var wi=D.createContext(null);wi.displayName="Navigation";var yc=D.createContext(null);yc.displayName="Location";var ss=D.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var KS=D.createContext(null);KS.displayName="RouteError";function tH(e,{relative:t}={}){Mt(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(wi),{hash:i,pathname:s,search:o}=Rc(e,{relative:t}),a=s;return r!=="/"&&(a=s==="/"?r:Vi([r,s])),n.createHref({pathname:a,search:o,hash:i})}function Sc(){return D.useContext(yc)!=null}function Jo(){return Mt(Sc(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(yc).location}var iA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sA(e){D.useContext(wi).static||D.useLayoutEffect(e)}function rH(){let{isDataRoute:e}=D.useContext(ss);return e?gH():nH()}function nH(){Mt(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(hl),{basename:t,navigator:r}=D.useContext(wi),{matches:n}=D.useContext(ss),{pathname:i}=Jo(),s=JSON.stringify(eA(n)),o=D.useRef(!1);return sA(()=>{o.current=!0}),D.useCallback((u,d={})=>{if(pi(o.current,iA),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=tA(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Vi([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,s,i,e])}D.createContext(null);function Rc(e,{relative:t}={}){let{matches:r}=D.useContext(ss),{pathname:n}=Jo(),i=JSON.stringify(eA(r));return D.useMemo(()=>tA(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function iH(e,t){return oA(e,t)}function oA(e,t,r,n){var b;Mt(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(wi),{matches:s}=D.useContext(ss),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let E=p&&p.path||"";aA(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Jo(),g;if(t){let E=typeof t=="string"?dl(t):t;Mt(d==="/"||((b=E.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=f;let v=g.pathname||"/",w=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Xk(e,{pathname:w});pi(p||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),pi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=uH(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Vi([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Vi([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return t&&S?D.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function sH(){let e=fH(),t=XG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,o)}var oH=D.createElement(sH,null),aH=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ss.Provider,{value:this.props.routeContext},D.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lH({routeContext:e,match:t,children:r}){let n=D.useContext(hl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ss.Provider,{value:e},r)}function uH(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Mt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=u),d.route.id){let{loaderData:p,errors:f}=r,g=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,d,p)=>{let f,g=!1,v=null,w=null;r&&(f=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||oH,o&&(a<0&&p===0?(aA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===p&&(g=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),S=()=>{let b;return f?b=v:g?b=w:d.route.Component?b=D.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,D.createElement(lH,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?D.createElement(aH,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}function QS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cH(e){let t=D.useContext(hl);return Mt(t,QS(e)),t}function dH(e){let t=D.useContext(Up);return Mt(t,QS(e)),t}function hH(e){let t=D.useContext(ss);return Mt(t,QS(e)),t}function XS(e){let t=hH(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function pH(){return XS("useRouteId")}function fH(){var n;let e=D.useContext(KS),t=dH("useRouteError"),r=XS("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function gH(){let{router:e}=cH("useNavigate"),t=XS("useNavigate"),r=D.useRef(!1);return sA(()=>{r.current=!0}),D.useCallback(async(i,s={})=>{pi(r.current,iA),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var nP={};function aA(e,t,r){!t&&!nP[e]&&(nP[e]=!0,pi(!1,r))}D.memo(mH);function mH({routes:e,future:t,state:r}){return oA(e,void 0,r,t)}function Oa(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vH({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Mt(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=dl(r));let{pathname:u="/",search:d="",hash:p="",state:f=null,key:g="default"}=r,v=D.useMemo(()=>{let w=zs(u,o);return w==null?null:{location:{pathname:w,search:d,hash:p,state:f,key:g},navigationType:n}},[o,u,d,p,f,g,n]);return pi(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement(wi.Provider,{value:a},D.createElement(yc.Provider,{children:t,value:v}))}function CH({children:e,location:t}){return iH(Zy(e),t)}function Zy(e,t=[]){let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let s=[...t,i];if(n.type===D.Fragment){r.push.apply(r,Zy(n.props.children,s));return}Mt(n.type===Oa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zy(n.props.children,s)),r.push(o)}),r}var xh="get",Mh="application/x-www-form-urlencoded";function $p(e){return e!=null&&typeof e.tagName=="string"}function wH(e){return $p(e)&&e.tagName.toLowerCase()==="button"}function yH(e){return $p(e)&&e.tagName.toLowerCase()==="form"}function SH(e){return $p(e)&&e.tagName.toLowerCase()==="input"}function RH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bH(e,t){return e.button===0&&(!t||t==="_self")&&!RH(e)}var sh=null;function DH(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var EH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(e){return e!=null&&!EH.has(e)?(pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):e}function PH(e,t){let r,n,i,s,o;if(yH(e)){let a=e.getAttribute("action");n=a?zs(a,t):null,r=e.getAttribute("method")||xh,i=Gm(e.getAttribute("enctype"))||Mh,s=new FormData(e)}else if(wH(e)||SH(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(n=u?zs(u,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||xh,i=Gm(e.getAttribute("formenctype"))||Gm(a.getAttribute("enctype"))||Mh,s=new FormData(a,e),!DH()){let{name:d,type:p,value:f}=e;if(p==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,f)}}else{if($p(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xh,n=null,i=Mh,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}function JS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function FH(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function MH(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await FH(s,r);return o.links?o.links():[]}return[]}));return OH(n.flat(1).filter(xH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iP(e,t,r,n,i,s){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,a=(u,d)=>{var p;return r[d].pathname!==u.pathname||((p=r[d].route.path)==null?void 0:p.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>o(u,d)||a(u,d)):s==="data"?t.filter((u,d)=>{var f;let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,d)||a(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function TH(e,t){return kH(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function kH(e){return[...new Set(e)]}function AH(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function OH(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(AH(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function IH(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function LH(){let e=D.useContext(hl);return JS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _H(){let e=D.useContext(Up);return JS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ZS=D.createContext(void 0);ZS.displayName="FrameworkContext";function lA(){let e=D.useContext(ZS);return JS(e,"You must render this element inside a <HydratedRouter> element"),e}function NH(e,t){let r=D.useContext(ZS),[n,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:f}=t,g=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=b=>{b.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(y,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),D.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:fu(a,v),onBlur:fu(u,w),onMouseEnter:fu(d,v),onMouseLeave:fu(p,w),onTouchStart:fu(f,v)}]:[!1,g,{}]}function fu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function GH({page:e,...t}){let{router:r}=LH(),n=D.useMemo(()=>Xk(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?D.createElement(WH,{page:e,matches:n,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function HH(e){let{manifest:t,routeModules:r}=lA(),[n,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return MH(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function WH({page:e,matches:t,...r}){let n=Jo(),{manifest:i,routeModules:s}=lA(),{loaderData:o,matches:a}=_H(),u=D.useMemo(()=>iP(e,t,a,i,n,"data"),[e,t,a,i,n]),d=D.useMemo(()=>iP(e,t,a,i,n,"assets"),[e,t,a,i,n]),p=D.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(t.forEach(S=>{var E;let b=i.routes[S.route.id];!b||!b.hasLoader||(!u.some(P=>P.route.id===S.route.id)&&S.route.id in o&&((E=s[S.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?w=!0:v.add(S.route.id))}),v.size===0)return[];let y=IH(e);return w&&v.size>0&&y.searchParams.set("_routes",t.filter(S=>v.has(S.route.id)).map(S=>S.route.id).join(",")),[y.pathname+y.search]},[o,n,i,u,t,e,s]),f=D.useMemo(()=>TH(d,i),[d,i]),g=HH(d);return D.createElement(D.Fragment,null,p.map(v=>D.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),f.map(v=>D.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),g.map(({key:v,link:w})=>D.createElement("link",{key:v,...w})))}function BH(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uA&&(window.__reactRouterVersion="7.0.2")}catch{}function VH({basename:e,children:t,window:r}){let n=D.useRef();n.current==null&&(n.current=MG({window:r,v5Compat:!0}));let i=n.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(u=>{D.startTransition(()=>o(u))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(vH,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yo=D.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:d,preventScrollReset:p,viewTransition:f,...g},v){let{basename:w}=D.useContext(wi),y=typeof d=="string"&&cA.test(d),S,b=!1;if(typeof d=="string"&&y&&(S=d,uA))try{let L=new URL(window.location.href),H=d.startsWith("//")?new URL(L.protocol+d):new URL(d),G=zs(H.pathname,w);H.origin===L.origin&&G!=null?d=G+H.search+H.hash:b=!0}catch{pi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=tH(d,{relative:i}),[P,F,k]=NH(n,g),A=YH(d,{replace:o,state:a,target:u,preventScrollReset:p,relative:i,viewTransition:f});function T(L){t&&t(L),L.defaultPrevented||A(L)}let I=D.createElement("a",{...g,...k,href:S||E,onClick:b||s?t:T,ref:BH(v,F),target:u,"data-discover":!y&&r==="render"?"true":void 0});return P&&!y?D.createElement(D.Fragment,null,I,D.createElement(GH,{page:E})):I});yo.displayName="Link";var zH=D.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...d},p){let f=Rc(o,{relative:d.relative}),g=Jo(),v=D.useContext(Up),{navigator:w,basename:y}=D.useContext(wi),S=v!=null&&XH(f)&&a===!0,b=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,E=g.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(E=E.toLowerCase(),P=P?P.toLowerCase():null,b=b.toLowerCase()),P&&y&&(P=zs(P,y)||P);const F=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=E===b||!i&&E.startsWith(b)&&E.charAt(F)==="/",A=P!=null&&(P===b||!i&&P.startsWith(b)&&P.charAt(b.length)==="/"),T={isActive:k,isPending:A,isTransitioning:S},I=k?t:void 0,L;typeof n=="function"?L=n(T):L=[n,k?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(T):s;return D.createElement(yo,{...d,"aria-current":I,className:L,ref:p,style:H,to:o,viewTransition:a},typeof u=="function"?u(T):u)});zH.displayName="NavLink";var UH=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=xh,action:a,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:f,...g},v)=>{let w=KH(),y=QH(a,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&cA.test(a),E=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let F=P.nativeEvent.submitter,k=(F==null?void 0:F.getAttribute("formmethod"))||o;w(F||P.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:f})};return D.createElement("form",{ref:v,method:S,action:y,onSubmit:n?u:E,...g,"data-discover":!b&&e==="render"?"true":void 0})});UH.displayName="Form";function $H(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(e){let t=D.useContext(hl);return Mt(t,$H(e)),t}function YH(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=rH(),u=Jo(),d=Rc(e,{relative:s});return D.useCallback(p=>{if(bH(p,t)){p.preventDefault();let f=r!==void 0?r:Uu(u)===Uu(d);a(e,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,d,r,n,t,e,i,s,o])}var qH=0,jH=()=>`__${String(++qH)}__`;function KH(){let{router:e}=dA("useSubmit"),{basename:t}=D.useContext(wi),r=pH();return D.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:u,body:d}=PH(n,t);if(i.navigate===!1){let p=i.fetcherKey||jH();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function QH(e,{relative:t}={}){let{basename:r}=D.useContext(wi),n=D.useContext(ss);Mt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Rc(e||".",{relative:t})},o=Jo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(p=>p==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let p=a.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Vi([r,s.pathname])),Uu(s)}function XH(e,t={}){let r=D.useContext(nA);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=dA("useViewTransitionState"),i=Rc(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=zs(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=zs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return np(i.pathname,o)!=null||np(i.pathname,s)!=null}new TextEncoder;var Yp=Qk();const qp=Tr(Yp);var pl=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&r&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,u)=>a.forEach(d=>{if(!u.has(d))return;const p=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(p):p()}),i=this.getListeners(r,t,!1)??new Set,s=new Set(i);s.size>0&&n(s,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(r,e)):()=>a(r,e);t?this.dispatchAsync(u):u()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},hA=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(hA||{}),sP={};function eR(e,t){sP[t]||(e(),sP[t]=!0)}function _n(e,...t){console.log("AG Grid: "+e,...t)}function ee(e,...t){eR(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Xe(e,...t){eR(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function tR(e){return!!(e&&e.constructor&&e.call&&e.apply)}function JH(e){ZH(e,400)}var Hm=[],Wm=!1;function oP(e){Hm.push(e),!Wm&&(Wm=!0,window.setTimeout(()=>{const t=Hm.slice();Hm.length=0,Wm=!1,t.forEach(r=>r())},0))}function ZH(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function Pr(e,t){let r;return function(...n){const i=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(i,n)},t)}}function aP(e,t){let r=0;return function(...n){const i=this,s=new Date().getTime();s-r<t||(r=s,e.apply(i,n))}}function eW(e,t,r=100,n){const i=new Date().getTime();let s=null,o=!1;const a=()=>{const u=new Date().getTime()-i>r;(e()||u)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null),u&&n&&ee(n))};a(),o||(s=window.setInterval(a,10))}function tW(...e){return t=>e.reduce((r,n)=>n(r),t)}function zi(e){return e==null||e===""?null:e}function ae(e,t=!1){return e!=null&&(e!==""||t)}function Ve(e){return!ae(e)}function Zr(e){return e==null||e.length===0}function eS(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function xo(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function tS(e){if(e!==void 0)return e===null||e===""?!1:rS(e)}function rS(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function $u(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function rW(e,t,r=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}function Th(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}function pA(e,t){return e.get("rowModelType")===t}function vt(e){return pA(e,"clientSide")}function yi(e){return pA(e,"serverSide")}function sr(e,t){return e.get("domLayout")===t}function ip(e){return ap(e)!==void 0}function sp(e){return!e.get("suppressAsyncEvents")}function fA(e){return typeof e.get("getRowHeight")=="function"}function nW(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Us(e,t,r=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),fA(e)){if(r)return{height:n,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(nS(a))return a===0&&ee("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return iW(e);const i=e.get("rowHeight");return{height:i&&nS(i)?i:n,estimated:!1}}function iW(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return nS(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Mo(e){const{environment:t}=e,r=e.get("rowHeight");if(!r||Ve(r))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(ee("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function nS(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Yu(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function Ho(e,t,r,n){const i=e.getDomDataKey();let s=t[i];Ve(s)&&(s={},t[i]=s),s[r]=n}function Ot(e){let t=null;const r=e.get("getDocument");return r&&ae(r)?t=r():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&ae(t)?t:document}function gA(e){return Ot(e).defaultView||window}function qu(e){return e.eGridDiv.getRootNode()}function xt(e){return qu(e).activeElement}function mA(e){const t=Ot(e),r=xt(e);return r===null||r===t.body}function Wa(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function jp(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||sr(e,"print"))}function ei(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function iS(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function vA(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function CA(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const r=e.get("groupIncludeFooter");if(typeof r=="function"){const n=e.getCallback("groupIncludeFooter");return i=>n(i)?"bottom":void 0}return()=>r?"bottom":void 0}function wA(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function Kp(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function fl(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(ee("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function ja(e){return(e==null?void 0:e.checkboxes)??!0}function op(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function sW(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function oW(e){return typeof e.get("rowSelection")!="string"}function aW(e){return e.get("cellSelection")!==void 0}function lW(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function Ji(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function uW(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="range":!1:e.get("enableRangeHandle")}function lP(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="fill":!1:e.get("enableFillHandle")}function yA(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function cW(e){const t=yA(e);return t===!0||t==="enableSelection"}function uP(e){const t=yA(e);return t===!0||t==="enableDeselection"}function rR(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function ap(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function SA(e){return ap(e)==="multiRow"}function dW(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function nR(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Wo(e){const t=nR(e);return t==="descendants"||t==="filteredDescendants"}function Bm(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Be(e){if(!(!e||!e.length))return e[e.length-1]}function Qs(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>r?r(n,t[i]):t[i]===n)}function hW(e){return e.sort((t,r)=>t-r)}function RA(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function Fr(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function pW(e,t){for(let r=0;r<t.length;r++)RA(e,t[r])}function fW(e,t){for(let r=0;r<t.length;r++)Fr(e,t[r])}function lp(e,t,r){e.splice(r,0,t)}function bA(e,t,r){fW(e,t),t.slice().reverse().forEach(n=>lp(e,n,r))}function To(e,t){return e.indexOf(t)>-1}function gW(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function cP(e,t){t==null||e==null||t.forEach(r=>e.push(r))}var DA="__ag_Grid_Stop_Propagation",mW=["touchstart","touchend","touchmove","touchcancel","scroll"],Vm={};function Ka(e){e[DA]=!0}function Ui(e){return e[DA]===!0}var EA=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof Vm[r]=="boolean")return Vm[r];const n=document.createElement(e[r]||"div");return r="on"+r,Vm[r]=r in n}})();function sS(e,t,r){let n=t;for(;n;){const i=Yu(e,n,r);if(i)return i;n=n.parentElement}return null}function vW(e,t){return!t||!e?!1:wW(t).indexOf(e)>=0}function CW(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function wW(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():CW(t)}function yW(e,t,r,n){const s=To(mW,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,s)}var Q=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new pl),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService&&this.localEventService.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n in t){const i=t[n];i&&r.push(this._setupListener(e,n,i))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?yW(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const r=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function br(e){return e instanceof kh}var kh=class extends Q{constructor(e,t,r,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=xA(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{$s(t)?e.push(t):br(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!a.isVisible())continue;const u=a.getColumnGroupShow();u==="open"?(e=!0,r=!0):u==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const i=e&&t&&r;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{br(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},PA="ag-Grid-ControlsColumn",SW=class extends Q{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const r=ja(t),n=op(t);if(r||n){const i=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(u,d,p,f){const g=p.isSelected(),v=f.isSelected();return g&&v?0:g?1:-1},editable:!1,suppressFillHandle:!0,...i,colId:`${PA}`},a=new aR(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},Qp="ag-Grid-AutoColumn";function iR(e){const t=[],r=n=>{for(let i=0;i<n.length;i++){const s=n[i];$s(s)?t.push(s):br(s)&&r(s.getChildren())}};return r(e),t}function Gi(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function _s(e,t,r){const n={};if(!t)return;Zi(null,t,s=>{n[s.getInstanceId()]=s}),r&&Zi(null,r,s=>{n[s.getInstanceId()]=null});const i=Object.values(n).filter(s=>s!=null);e.destroyBeans(i)}function oS(e){return e.getId().startsWith(Qp)}function bc(e){return e.getColId().startsWith(PA)}function Ah(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?ee("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ee("colDef.type should be of type 'string' | 'string[]'"),t}var sR=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(r,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},oR=new Set(["__proto__","constructor","prototype"]);function Ln(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))t(r,n)}}function FA(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;n++){if(oR.has(r[n]))continue;const i=r[n],s=e[i];t[i]=s}return t}function aS(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(i=>{if(t&&t.indexOf(i)>=0||oR.has(i))return;const s=r[i];uS(s)&&s.constructor===Object?n[i]=aS(s):n[i]=s}),n}function lS(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function Er(e,t,r=!0,n=!1){ae(t)&&Ln(t,(i,s)=>{if(oR.has(i))return;let o=e[i];o!==s&&(n&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),uS(s)&&uS(o)&&!Array.isArray(o)?Er(o,s,r,n):(r||s!==void 0)&&(e[i]=s))})}function Lu(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let i=e;for(let s=0;s<n.length;s++){if(i==null)return;i=i[n[s]]}return i}function uS(e){return typeof e=="object"&&e!==null}var RW={resizable:!0,sortable:!0},bW=0;function xA(){return bW++}function $s(e){return e instanceof aR}var aR=class extends Q{constructor(e,t,r,n){super(),this.isColumn=!0,this.instanceId=xA(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new pl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);const n=e.hide,i=e.initialHide;n!==void 0?this.visible=!n:this.visible=!i,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const s=e.flex,o=e.initialFlex;s!==void 0?this.flex=s:o!==void 0&&(this.flex=o)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ae(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ae(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ae(this.colDef.tooltipField)||ae(this.colDef.tooltipValueGetter)||ae(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=xo(e.width),n=xo(e.initialWidth);return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Ve(this.colDef)||Ve(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new sR(this.frameworkOverrides));const r=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(t))??t;this.columnEventService.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.columnEventService.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const r=bc(this)&&ja(t);return this.isColumnFunc(e,r)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??RW[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ve(this.sort)}isSorting(){return ae(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);r&&Er(n,r),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ve(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Ve(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},DW={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},EW=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=eS(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):t?(n=t,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},PW=class extends Q{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,r,n){const i=new EW,{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);i.addExistingKeys(a);const u=this.recursivelyCreateColumns(e,0,t,s,i,o,n),d=this.findMaxDept(u,0),p=this.balanceColumnTree(u,0,d,i);return Zi(null,p,(g,v)=>{br(g)&&g.setupExpandable(),g.setOriginalParent(v)}),{columnTree:p,treeDept:d}}extractExistingTreeData(e){const t=[],r=[],n=[];return e&&Zi(null,e,i=>{if(br(i)){const s=i;r.push(s)}else{const s=i;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}balanceTreeForAutoCols(e,t){const r=[],n=this.findDepth(t);return e.forEach(i=>{let s=i;for(let o=n-1;o>=0;o--){const a=new kh(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([s]),s.setOriginalParent(a),s=a}n===0&&i.setOriginalParent(null),r.push(s)}),[r,n]}findDepth(e){let t=0,r=e;for(;r&&r[0]&&br(r[0]);)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,n){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(br(o)){const a=o,u=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(u),i.push(a)}else{let a,u;for(let d=r-1;d>=t;d--){const p=n.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),g=new kh(f,p,!0,t);this.createBean(g),u&&u.setChildren([g]),u=g,a||(a=u)}if(a&&u)if(i.push(a),e.some(p=>br(p))){u.setChildren([o]);continue}else{u.setChildren(e);break}i.push(o)}}return i}findMaxDept(e,t){let r=t;for(let n=0;n<e.length;n++){const i=e[n];if(br(i)){const s=i,o=this.findMaxDept(s.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,n,i,s,o){if(!e)return[];const a=new Array(e.length);for(let u=0;u<a.length;u++){const d=e[u];this.isColumnGroup(d)?a[u]=this.createColumnGroup(r,d,t,n,i,s,o):a[u]=this.createColumn(r,d,n,i,o)}return a}createColumnGroup(e,t,r,n,i,s,o){const a=this.createMergedColGroupDef(t),u=i.getUniqueKey(a.groupId||null,null),d=new kh(a,u,!1,r);this.createBean(d);const p=this.findExistingGroup(t,s);p&&s.splice(p.idx,1);const f=p==null?void 0:p.group;f&&d.setExpanded(f.isExpanded());const g=this.recursivelyCreateColumns(a.children,r+1,e,n,i,s,o);return d.setChildren(g),d}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,n,i){var a;const s=this.findExistingColumn(t,r);s&&(r==null||r.splice(s.idx,1));let o=s==null?void 0:s.column;if(o){const u=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(u,t,i),this.applyColumnState(o,u,i)}else{const u=n.getUniqueKey(t.colId,t.field),d=this.addColumnDefaultAndTypes(t,u);o=new aR(d,t,u,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,r){const n=xo(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=xo(t.width);if(a!=null)e.setActualWidth(a,r);else{const u=e.getActualWidth();e.setActualWidth(u,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const s=xo(t.sortIndex);s!==void 0&&e.setSortIndex(s);const o=tS(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}addColumnDefaultAndTypes(e,t){var a;const r={},n=this.gos.get("defaultColDef");Er(r,n,!1,!0);const i=this.updateColDefAndGetColumnType(r,e,t);i&&this.assignColumnTypes(i,r),Er(r,e,!1,!0);const s=this.gos.get("autoGroupColumnDef"),o=ei(this.gos);return e.rowGroup&&s&&o&&Er(r,{sort:s.sort,initialSort:s.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(r),r}updateColDefAndGetColumnType(e,t,r){var s;const n=(s=this.dataTypeService)==null?void 0:s.updateColDefAndGetColumnType(e,t,r),i=t.type??n??e.type;return e.type=i,i?Ah(i):void 0}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},DW),n=this.gos.get("columnTypes")||{};Ln(n,(i,s)=>{i in r?ee(`the column type '${i}' is a default column type and cannot be overridden.`):(s.type&&ee("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[i]=s)}),e.forEach(i=>{const s=r[i.trim()];s?Er(t,s,!1,!0):ee("colDef.type '"+i+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Zi(e,t,r){if(t)for(let n=0;n<t.length;n++){const i=t[n];br(i)&&Zi(i,i.getChildren(),r),r(i,e)}}var FW=class extends Q{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(So(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,So(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(So(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(So(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),So(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var d,p,f;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const r=(d=this.colDefCols)==null?void 0:d.list,n=(p=this.colDefCols)==null?void 0:p.tree,i=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);_s(this.context,(f=this.colDefCols)==null?void 0:f.tree,i.columnTree);const s=i.columnTree,o=i.treeDept,a=iR(s),u={};a.forEach(g=>u[g.getId()]=g),this.colDefCols={tree:s,treeDepth:o,list:a,map:u},this.funcColsService.extractCols(e,r),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var i,s,o;if(!this.colDefCols)return;const t=(i=this.cols)==null?void 0:i.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const r=nW(this.gos,this.showingPivotResult);(!e||r)&&this.restoreColOrder(),this.positionLockedCols(),(s=this.showRowGroupColsService)==null||s.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Qs(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:r,tree:n,treeDepth:i}=e;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:i},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:r,tree:n,treeDepth:i}=this.colDefCols;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:i}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const i=oS(n);if(e){const s=t&&To(t,n);return i||s}else return i||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),dP(this.cols))}createAutoCols(){var w;const e=Kp(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),i=!(r.length>0||this.gos.get("treeData"))||t||e,s=()=>{this.autoCols&&(_s(this.context,this.autoCols.tree),this.autoCols=null)};if(i||!this.autoColService){s();return}const o=this.autoColService.createAutoCols(r)??[],a=pP(o,((w=this.autoCols)==null?void 0:w.list)||null),u=this.cols.treeDepth,p=(this.autoCols?this.autoCols.treeDepth:-1)==u;if(a&&p)return;s();const[f,g]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:f,treeDepth:g,map:{}};const v=y=>{if(!y)return null;const S=y.filter(b=>!oS(b));return[...o,...S]};this.lastOrder=v(this.lastOrder),this.lastPivotOrder=v(this.lastPivotOrder)}createControlsCols(){var d,p,f;const e=()=>{var g;_s(this.context,(g=this.controlsCols)==null?void 0:g.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,n=(((d=this.controlsCols)==null?void 0:d.treeDepth)??-1)==t,i=((p=this.controlsColService)==null?void 0:p.createControlsCols())??[];if(pP(i,((f=this.controlsCols)==null?void 0:f.list)??[])&&n)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(i,this.cols.tree);this.controlsCols={list:i,tree:o,treeDepth:a,map:{}};const u=g=>{if(!g)return null;const v=g.filter(w=>!bc(w));return[...i,...v]};this.lastOrder=u(this.lastOrder),this.lastPivotOrder=u(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),dP(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,r){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}setColsPinned(e,t,r){if(!this.cols||Zr(e))return;if(sr(this.gos,"print")){ee("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const i=[];e.forEach(s=>{if(!s)return;const o=this.getCol(s);o&&o.getPinned()!==n&&(o.setPinned(n),i.push(o))}),i.length&&(this.visibleColsService.refresh(r),this.eventDispatcher.columnPinned(i,r)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let n;br(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){var r;let t=null;return Zi(null,(r=this.cols)==null?void 0:r.tree,n=>{br(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(i=>i.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,vt(this.gos)||yi(this.gos)||ee("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((u,d)=>[u,d]));if(!this.cols.list.some(u=>t.has(u)))return;const n=new Map(this.cols.list.map(u=>[u,!0])),i=e.filter(u=>n.has(u)),s=new Map(i.map(u=>[u,!0])),o=this.cols.list.filter(u=>!s.has(u)),a=i.slice();o.forEach(u=>{let d=u.getOriginalParent();if(!d){a.push(u);return}const p=[];for(;!p.length&&d;)d.getLeafColumns().forEach(w=>{const y=a.indexOf(w)>=0,S=p.indexOf(w)<0;y&&S&&p.push(w)}),d=d.getOriginalParent();if(!p.length){a.push(u);return}const f=p.map(v=>a.indexOf(v)),g=Math.max(...f);lp(a,u,g+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const r={};e.forEach(i=>{if(r[i])return;const s=this.cols.map[i];s&&(t.push(s),r[i]=!0)});let n=0;if(this.cols.list.forEach(i=>{const s=i.getColId();if(r[s]!=null)return;s.startsWith(Qp)?lp(t,i,n++):t.push(i)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ee("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(r=>this.cols.list.indexOf(r)<0).length>0||e.sort((r,n)=>{const i=this.cols.list.indexOf(r),s=this.cols.list.indexOf(n);return i-s})}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,r){var n;bA((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(r)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,i)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(i)):this.lastOrder&&e.sort((n,i)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(i));const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,r)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ee("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Zr(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,r;_s(this.context,(e=this.colDefCols)==null?void 0:e.tree),_s(this.context,(t=this.autoCols)==null?void 0:t.tree),_s(this.context,(r=this.controlsCols)==null?void 0:r.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,n,i;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((n=this.autoCols)==null?void 0:n.list)??[],((i=this.controlsCols)==null?void 0:i.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let i=0;i<n.length;i++)if(hP(n[i],e))return n[i];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(r=>hP(r,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const r of t){if(!r)continue;const n=r.getGroupRowCount()||0;for(let i=0;i<n;i++){const s=r.getGroupRowCtrlAtIndex(i),o=e[i];if(s){const a=this.getColumnGroupHeaderRowHeight(s);(o==null||a>o)&&(e[i]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let r=0;const n=e.getHeaderCtrls();for(const i of n){const s=i.getColumn();if(s.isAutoHeaderHeight()){const o=s.getAutoHeaderHeight();o!=null&&o>r&&(r=o)}}return Math.max(t,r)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...r)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",r)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?ja(t):void 0,i=e&&typeof e!="string"?ja(e):void 0,s=n!==i,o=t&&typeof t!="string"?op(t):void 0,a=e&&typeof e!="string"?op(e):void 0;(s||o!==a)&&this.refreshAll(r)}};function So(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function dP(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function hP(e,t){const r=e===t,n=e.getColDef()===t,i=e.getColId()==t;return r||n||i}function pP(e,t){return Qs(e,t,(r,n)=>r.getColId()===n.getColId())}var xW=class extends Q{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:i,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const u=r??this.gos.get("skipHeaderOnAutoSize"),d=n??u;for(;a!==0;){a=0;const p=[];t.forEach(f=>{if(!f)return;const g=this.columnModel.getCol(f);if(!g||o.indexOf(g)>=0)return;const v=this.autoWidthCalculator.getPreferredWidthForColumn(g,u);if(v>0){const w=this.normaliseColumnWidth(g,v);g.setActualWidth(w,s),o.push(g),a++}p.push(g)}),p.length&&this.visibleColsService.refresh(s)}d||this.autoSizeColumnGroupsByColumns(t,s,i),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let u=a.getParent();for(;u&&u!=r;)u.isPadding()||n.add(u),u=u.getParent()});let s;const o=[];for(const a of n){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(s=u.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},MW=class extends Q{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Fr(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Fr(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Fr(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const r=this.columnModel.getColDefCol(t);return r?[r]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Zr(this.rowGroupCols)}setColumnAggFunc(e,t,r){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],r))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(r,n)=>this.setRowGroupActive(r,n,t),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,r))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,r=>this.setRowGroupActive(!0,r,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,r=>this.setRowGroupActive(!1,r,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,r=>r.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(r,n)=>{n.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,r=>r.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(r,n)=>this.setValueActive(r,n,t),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,r=>this.setValueActive(!0,r,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,r=>this.setValueActive(!1,r,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],i=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(i,r)}setColList(e,t,r,n,i,s,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((d,p)=>a.set(d,p)),t.length=0,ae(e)&&e.forEach(d=>{const p=this.columnModel.getColDefCol(d);p&&t.push(p)}),t.forEach((d,p)=>{const f=a.get(d);if(f===void 0){a.set(d,0);return}n&&f!==p||a.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{const p=t.indexOf(d)>=0;s(p,d)}),i&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(r,[...a.keys()],o)}updateColList(e,t,r,n,i,s,o){if(!e||Zr(e))return;let a=!1;const u=new Set;e.forEach(d=>{if(!d)return;const p=this.columnModel.getColDefCol(d);if(p){if(u.add(p),r){if(t.indexOf(p)>=0)return;t.push(p)}else{const f=t.indexOf(p);if(f<0)return;for(let g=f+1;g<t.length;g++)u.add(t[g]);Fr(t,p)}i(p),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(s,Array.from(u),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueCols.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}extractColsCommon(e=[],t=[],r,n,i,s,o){const a=[],u=[];(this.columnModel.getColDefCols()||[]).forEach(g=>{const v=e.indexOf(g)<0,w=g.getColDef(),y=tS(s(w)),S=tS(o(w)),b=xo(n(w)),E=xo(i(w));let P;y!==void 0?P=y:b!==void 0?b===null?P=!1:P=b>=0:v?S!==void 0?P=S:E!==void 0?P=E!=null&&E>=0:P=!1:P=t.indexOf(g)>=0,P&&((v?b!=null||E!=null:b!=null)?a.push(g):u.push(g))});const p=g=>{const v=n(g.getColDef()),w=i(g.getColDef());return v??w};a.sort((g,v)=>{const w=p(g),y=p(v);return w===y?0:w<y?-1:1});const f=[].concat(a);return t.forEach(g=>{u.indexOf(g)>=0&&f.push(g)}),u.forEach(g=>{f.indexOf(g)<0&&f.push(g)}),t.forEach(g=>{f.indexOf(g)<0&&r(g,!1)}),f.forEach(g=>{t.indexOf(g)<0&&r(g,!0)}),f}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},n=(i,s,o,a,u,d)=>{const p=this.columnModel.getColDefCols();if(!s.length||!p)return[];const f=Object.keys(i),g=new Set(f),v=new Set(f),w=new Set(s.map(A=>{const T=A.getColId();return v.delete(T),T}).concat(f)),y=[],S={};let b=0;for(let A=0;A<p.length;A++){const T=p[A].getColId();w.has(T)&&(y.push(T),S[T]=b++)}let E=1e3,P=!1,F=0;const k=A=>{const T=S[A];for(let I=F;I<T;I++){const L=y[I];v.has(L)&&(i[L][u]=E++,v.delete(L))}F=T};s.forEach(A=>{const T=A.getColId();if(g.has(T))k(T),i[T][u]=E++;else{const I=A.getColDef();(I[u]===null||I[u]===void 0&&I[d]==null)&&(P||(I[o]||I[o]===void 0&&I[a]?k(T):(v.forEach(G=>{i[G][u]=E+S[G]}),E+=y.length,P=!0)),r[T]||(r[T]={colId:T}),r[T][u]=E++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}},TW=class extends Q{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const r=this.columnModel.getColDefCols()||[];if(Zr(r))return!1;if(e&&e.state&&!e.state.forEach)return ee("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),i=(a,u,d)=>{const p=this.compareColumnStatesAndDispatchEvents(t),f=u.slice(),g={},v={},w=[],y=[];let S=0;const b=this.funcColsService.getRowGroupColumns().slice(),E=this.funcColsService.getPivotColumns().slice();a.forEach(A=>{const T=A.colId||"";if(T.startsWith(Qp)){w.push(A),y.push(A);return}const L=d(T);L?(this.syncColumnWithStateItem(L,A,e.defaultState,g,v,!1,t,n),Fr(f,L)):(y.push(A),S+=1)});const P=A=>this.syncColumnWithStateItem(A,null,e.defaultState,g,v,!1,t,n);f.forEach(P),this.funcColsService.sortRowGroupColumns(fP.bind(this,g,b)),this.funcColsService.sortPivotColumns(fP.bind(this,v,E)),this.columnModel.refreshCols(!1);const k=(this.columnModel.getAutoCols()||[]).slice();return w.forEach(A=>{const T=this.columnModel.getAutoCol(A.colId);Fr(k,T),this.syncColumnWithStateItem(T,A,e.defaultState,null,null,!0,t,n)}),k.forEach(P),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),p(),{unmatchedAndAutoStates:y,unmatchedCount:S}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:o}=i(e.state||[],r,a=>this.columnModel.getColDefCol(a));if(s.length>0||ae(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),u=a==null?void 0:a.list;o=i(s,u||[],d=>this.pivotResultColsService.getPivotResultCol(d)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(Zr(t))return;const r=this.columnModel.getColDefColTree(),n=iR(r),i=[];let s=1e3,o=1e3,a=[];const u=this.columnModel.getAutoCols();u&&(a=a.concat(u)),n&&(a=a.concat(n)),a.forEach(d=>{const p=this.getColumnStateFromColDef(d);Ve(p.rowGroupIndex)&&p.rowGroup&&(p.rowGroupIndex=s++),Ve(p.pivotIndex)&&p.pivot&&(p.pivotIndex=o++),i.push(p)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(w,y)=>w??y??null,r=e.getColDef(),n=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),s=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),u=t(r.flex,r.initialFlex);let d=t(r.rowGroupIndex,r.initialRowGroupIndex),p=t(r.rowGroup,r.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);let f=t(r.pivotIndex,r.initialPivotIndex),g=t(r.pivot,r.initialPivot);f==null&&(g==null||g==!1)&&(f=null,g=null);const v=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:s,pinned:o,width:a,flex:u,rowGroup:p,rowGroupIndex:d,pivot:g,pivotIndex:f,aggFunc:v}}syncColumnWithStateItem(e,t,r,n,i,s,o,a){if(!e)return;const u=(F,k)=>{const A={value1:void 0,value2:void 0};let T=!1;return t&&(t[F]!==void 0&&(A.value1=t[F],T=!0),ae(k)&&t[k]!==void 0&&(A.value2=t[k],T=!0)),!T&&r&&(r[F]!==void 0&&(A.value1=r[F]),ae(k)&&r[k]!==void 0&&(A.value2=r[k])),A},d=u("hide").value1;d!==void 0&&e.setVisible(!d,o);const p=u("pinned").value1;p!==void 0&&e.setPinned(p);const f=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=u("flex").value1;if(g!==void 0&&e.setFlex(g),g==null){const F=u("width").value1;F!=null&&f!=null&&F>=f&&e.setActualWidth(F,o)}const v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,o):e.setSort(void 0,o));const w=u("sortIndex").value1;if(w!==void 0&&e.setSortIndex(w),s||!e.isPrimary())return;const y=u("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(ae(y)&&ee("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:S,value2:b}=u("rowGroup","rowGroupIndex");(S!==void 0||b!==void 0)&&(typeof b=="number"||S?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&typeof b=="number"&&(n[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:E,value2:P}=u("pivot","pivotIndex");(E!==void 0||P!==void 0)&&(typeof P=="number"||E?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),i&&typeof P=="number"&&(i[e.getId()]=P)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(r=>{r.colId!=null&&t.push(r.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},r=this.columnGetStateService.getColumnState(),n={};return r.forEach(i=>{n[i.colId]=i}),()=>{const i=this.columnModel.getAllCols(),s=(y,S,b,E)=>{const P=S.map(E),F=b.map(E);if(Qs(P,F))return;const A=new Set(S);b.forEach(I=>{A.delete(I)||A.add(I)});const T=[...A];this.eventService.dispatchEvent({type:y,columns:T,column:T.length===1?T[0]:null,source:e})},o=y=>{const S=[];return i.forEach(b=>{const E=n[b.getColId()];E&&y(E,b)&&S.push(b)}),S},a=y=>y.getColId();s("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),s("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const d=o((y,S)=>{const b=y.aggFunc!=null,E=b!=S.isValueActive(),P=b&&y.aggFunc!=S.getAggFunc();return E||P});d.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",d,e);const p=(y,S)=>y.width!=S.getActualWidth();this.eventDispatcher.columnResized(o(p),!0,e);const f=(y,S)=>y.pinned!=S.getPinned();this.eventDispatcher.columnPinned(o(f),e);const g=(y,S)=>y.hide==S.isVisible();this.eventDispatcher.columnVisible(o(g),e);const w=o((y,S)=>y.sort!=S.getSort()||y.sortIndex!=S.getSortIndex());w.length>0&&this.sortController.dispatchSortChangedEvents(e,w),this.normaliseColumnMovedEventForColumnState(r,e)}}normaliseColumnMovedEventForColumnState(e,t){const r=this.columnGetStateService.getColumnState(),n={};r.forEach(u=>n[u.colId]=u);const i={};e.forEach(u=>{n[u.colId]&&(i[u.colId]=!0)});const s=e.filter(u=>i[u.colId]),o=r.filter(u=>i[u.colId]),a=[];o.forEach((u,d)=>{const p=s&&s[d];if(p&&p.colId!==u.colId){const f=this.columnModel.getCol(p.colId);f&&a.push(f)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},fP=(e,t,r,n)=>{const i=e[r.getId()],s=e[n.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const u=t.indexOf(r),d=t.indexOf(n),p=u>=0,f=d>=0;return p&&f?u-d:p?-1:1},kW=class extends Q{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,r){const n=this.columnModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,r)}moveColumns(e,t,r,n=!0){const i=this.columnModel.getCols();if(!i)return;if(t>i.length-e.length){ee("tried to insert columns in invalid location, toIndex = ",t),ee("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,t)&&(this.columnModel.moveInCols(s,t,r),this.eventDispatcher.columnMoved({movedColumns:s,source:r,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return bA(n,e,t),n}doesMovePassLockedPositions(e){const t=s=>s?s==="left"||s===!0?-1:1:0,r=this.gos.get("enableRtl");let n=r?1:-1,i=!0;return e.forEach(s=>{const o=t(s.getColDef().lockPosition);r?o>n&&(i=!1):o<n&&(i=!1),n=o}),i}doesMovePassMarryChildren(e){let t=!0;const r=this.columnModel.getColTree();return Zi(null,r,n=>{if(!br(n))return;const i=n,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(g=>{const v=e.indexOf(g);a.push(v)});const u=Math.max.apply(Math,a),d=Math.min.apply(Math,a),p=u-d,f=i.getLeafColumns().length-1;p>f&&(t=!1)}),t}placeLockedColumns(e){const t=[],r=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;o==="right"?n.push(s):o==="left"||o===!0?t.push(s):r.push(s)}),this.gos.get("enableRtl")?[...n,...r,...t]:[...t,...r,...n]}},AW=/[&<>"']/g,OW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ai(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(AW,n=>OW[n])}function IW(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var LW=class extends Q{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,i){const s=e.headerValueGetter;if(s){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.expressionService.evaluate(s,o):(ee("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return IW(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,n=ae(r);let i=null,s;if(n){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!u)return t;i=r?r.getAggFunc():null,s=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(i=e.getAggFunc(),s=!0):s=!1}if(s){const o=typeof i=="string"?i:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},_W=class extends Q{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;_s(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const r=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(i=>{const s=i.getColDef().pivotKeys,o=i.getColDef().pivotValueColumn;Qs(s,e)&&o===r&&(n=i)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var r,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,((r=this.pivotResultCols)==null?void 0:r.tree)||this.previousPivotResultCols||void 0,t);_s(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,i.columnTree);const s=i.columnTree,o=i.treeDept,a=iR(s),u={};this.pivotResultCols={tree:s,treeDepth:o,list:a,map:u},this.pivotResultCols.list.forEach(p=>this.pivotResultCols.map[p.getId()]=p);const d=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!d)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const n=i=>{i.forEach(s=>{if(ae(s.children)){const a=s;r&&r(a),n(a.children)}else t&&t(s)})};e&&n(e)}},NW=class extends Q{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,r,n){const i=[];e.forEach(s=>{const o=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!o)return;if(i.push({width:s.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const u=this.visibleColsService.getColAfter(o);if(!u)return;const d=o.getActualWidth()-s.newWidth,p=u.getActualWidth()+d;i.push({width:p,ratios:[1],columns:[u]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(p=>this.checkMinAndMaxWidthsForSet(p)))){if(r){const p=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(p,r,n)}return}const s=[],o=[];t.forEach(p=>{const{width:f,columns:g,ratios:v}=p,w={},y={};g.forEach(E=>o.push(E));let S=!0,b=0;for(;S;){if(b++,b>1e3){Xe("infinite loop in resizeColumnSets");break}S=!1;const E=[];let P=0,F=f;g.forEach((A,T)=>{if(y[A.getId()])F-=w[A.getId()];else{E.push(A);const L=v[T];P+=L}});const k=1/P;E.forEach((A,T)=>{const I=T===E.length-1;let L;I?L=F:(L=Math.round(v[T]*f*k),F-=L);const H=A.getMinWidth(),G=A.getMaxWidth();L<H?(L=H,y[A.getId()]=!0,S=!0):G>0&&L>G&&(L=G,y[A.getId()]=!0,S=!0),w[A.getId()]=L})}g.forEach(E=>{const P=w[E.getId()];E.getActualWidth()!==P&&(E.setActualWidth(P,n),s.push(E))})});const a=s.length>0;let u=[];a&&(u=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const d=o.concat(u);(a||r)&&this.eventDispatcher.columnResized(d,r,n,u)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let n=0,i=0,s=!0;t.forEach(u=>{const d=u.getMinWidth();n+=d||0;const p=u.getMaxWidth();p>0?i+=p:s=!1});const o=r>=n,a=!s||r<=i;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const r=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const g=new Set(e.resizingCols);for(let v=r.length-1;v>=0;v--)if(g.has(r[v])){n=v;break}}let i=0,s=[],o=0,a=0;for(let g=0;g<r.length;g++)r[g].getFlex()&&g>n?(s.push(r[g]),a+=r[g].getFlex(),o+=r[g].getMinWidth()):i+=r[g].getActualWidth();if(!s.length)return[];let u=[];i+o>this.flexViewportWidth&&(s.forEach(g=>g.setActualWidth(g.getMinWidth(),t)),u=s,s=[]);const d=[];let p;e:for(;;){p=this.flexViewportWidth-i;const g=p/a;for(let v=0;v<s.length;v++){const w=s[v],y=g*w.getFlex();let S=0;const b=w.getMinWidth(),E=w.getMaxWidth();if(y<b?S=b:y>E&&(S=E),S){w.setActualWidth(S,t),RA(s,w),a-=w.getFlex(),u.push(w),i+=w.getActualWidth();continue e}d[v]=Math.floor(y)}break}let f=p;return s.forEach((g,v)=>{const w=v<s.length-1?Math.min(d[v],f):Math.max(d[v],f);g.setActualWidth(w,t),u.push(g),f-=d[v]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(u,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var g;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const i={};n&&((g=n==null?void 0:n.columnLimits)==null||g.forEach(({key:v,...w})=>{i[typeof v=="string"?v:v.getColId()]=w}));const s=this.visibleColsService.getAllCols(),o=e===Gi(s);if(e<=0||!s.length||o)return;const a=[],u=[];s.forEach(v=>{v.getColDef().suppressSizeToFit===!0?u.push(v):a.push(v)});const d=a.slice(0);let p=!1;const f=v=>{Fr(a,v),u.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const w=i==null?void 0:i[v.getId()],y=(w==null?void 0:w.minWidth)??(n==null?void 0:n.defaultMinWidth),S=(w==null?void 0:w.maxWidth)??(n==null?void 0:n.defaultMaxWidth),b=v.getActualWidth();typeof y=="number"&&b<y?v.setActualWidth(y,t,!0):typeof S=="number"&&b>S&&v.setActualWidth(S,t,!0)});!p;){p=!0;const v=e-Gi(u);if(v<=0)a.forEach(w=>{var S;const y=((S=i==null?void 0:i[w.getId()])==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof y=="number"){w.setActualWidth(y,t,!0);return}w.setMinimum(t)});else{const w=v/Gi(a);let y=v;for(let S=a.length-1;S>=0;S--){const b=a[S],E=i==null?void 0:i[b.getId()],P=(E==null?void 0:E.minWidth)??(n==null?void 0:n.defaultMinWidth),F=(E==null?void 0:E.maxWidth)??(n==null?void 0:n.defaultMaxWidth),k=b.getMinWidth(),A=b.getMaxWidth(),T=typeof P=="number"&&P>k?P:k,I=typeof F=="number"&&F<A?F:A;let L=Math.round(b.getActualWidth()*w);L<T?(L=T,f(b),p=!1):L>I?(L=I,f(b),p=!1):S===0&&(L=y),b.setActualWidth(L,t,!0),y-=L}}}d.forEach(v=>{v.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!r&&this.eventDispatcher.columnResized(d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:i}=e,s=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:u})=>({key:o,minWidth:a,maxWidth:u}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function MA(e,t){return e+"_"+t}function Wt(e){return e instanceof TA}var TA=class extends Q{constructor(e,t,r,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return MA(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Wt(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Be(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{$s(t)?e.push(t):Wt(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{$s(t)?e.push(t):Wt(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Wt(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},kA=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},GW=class extends Q{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=zm(this.treeLeft),this.columnsCenter=zm(this.treeCenter),this.columnsRight=zm(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(r=>r.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Gi(this.columnsCenter),t=Gi(this.columnsLeft),r=Gi(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,r=this.columnsRight?Be(this.columnsRight):null):(t=this.columnsLeft?Be(this.columnsLeft):null,r=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(s=>s.getPinned()=="left"),r=e.filter(s=>s.getPinned()=="right"),n=e.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),i=new kA;this.treeLeft=this.createGroups({columns:t,idCreator:i,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:r,idCreator:i,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:i,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],r=[],n=[];for(const i of e){const s=i.getPinned();s?s===!0||s==="left"?t.push(i):n.push(i):r.push(i)}this.ariaOrderColumns=t.concat(r).concat(n)}getAriaColIndex(e){let t;return Wt(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Wt(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const r=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(i=>{if(n){let s=Gi(i);i.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;i.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}pW(r,i)}),r.forEach(i=>{i.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,r,n){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],u=t.length-o,d=Math.min(a.getColSpan(e),u),p=[a];if(d>1){const g=d-1;for(let v=1;v<=g;v++)p.push(t[o+v]);o+=g}let f;r?(f=!1,p.forEach(g=>{r(g)&&(f=!0)})):f=!0,f&&(i.length===0&&s&&(n&&n(a))&&i.push(s),i.push(a)),s=a}return i}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),r=t.indexOf(e);return r>0?t[r-1]:null}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?Be(n):n[0],s=`getCol${t}`;for(;;){const o=this[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,i;for(;n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),!(n+i<=t);)r=r.getParent();return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ro(this.treeCenter,!1,e),Ro(this.treeLeft,!1,e),Ro(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();Ro(e,!1,t=>{Wt(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]]();if(n.length)return e?Be(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Wt(e))return e;const r=this.getAllTrees(),n=typeof t=="number";let i=null;return Ro(r,!1,s=>{if(Wt(s)){const o=s;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}getColAfter(e){const t=this.getAllCols(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Gi(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Gi(this.columnsRight)}isColAtEdge(e,t){const r=this.getAllCols();if(!r.length)return!1;const n=t==="first";let i;if(Wt(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=n?s[0]:Be(s)}else i=e;return(n?r[0]:Be(r))===i}createGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let u=t;for(;u.length;){const d=u;u=[];let p=0;const f=g=>{const v=p;p=g;const w=d[v],S=(Wt(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(S==null){for(let E=v;E<g;E++)a.push(d[E]);return}const b=this.createColGroup(S,r,o,n,s);for(let E=v;E<g;E++)b.addChild(d[E]);u.push(b)};for(let g=1;g<d.length;g++){const v=d[g],y=(Wt(v)?v.getProvidedColumnGroup():v).getOriginalParent(),S=d[p],E=(Wt(S)?S.getProvidedColumnGroup():S).getOriginalParent();y!==E&&f(g)}p<d.length&&f(d.length)}return s||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,r,n,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=MA(s,o);let u=r[a];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ae(u)?u.reset():(u=new TA(e,s,o,n),i||this.createBean(u)),u}mapOldGroupsById(e){const t={},r=n=>{n.forEach(i=>{if(Wt(i)){const s=i;t[i.getUniqueId()]=s,r(s.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.setParent(t),Wt(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}};function Ro(e,t,r){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(Wt(i)){const s=t?i.getDisplayedChildren():i.getChildren();Ro(s,t,r)}r(i)}}function zm(e){const t=[];return Ro(e,!0,r=>{$s(r)&&t.push(r)}),t}var AA=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],HW=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],WW=[...AA,...HW],BW={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},pr=class{};pr.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];pr.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];pr.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];pr.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];pr.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];pr.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];pr.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];pr.ALL_PROPERTIES=[...pr.ARRAY_PROPERTIES,...pr.OBJECT_PROPERTIES,...pr.STRING_PROPERTIES,...pr.NUMBER_PROPERTIES,...pr.FUNCTION_PROPERTIES,...pr.BOOLEAN_PROPERTIES,...pr.OTHER_PROPERTIES];var ju=pr,vn=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};vn.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";vn.PUBLIC_EVENTS=AA;vn.EVENT_CALLBACKS=WW.map(e=>vn.getCallbackForEvent(e));vn.BOOLEAN_PROPERTIES=ju.BOOLEAN_PROPERTIES;vn.ALL_PROPERTIES=ju.ALL_PROPERTIES;vn.ALL_PROPERTIES_AND_CALLBACKS=[...vn.ALL_PROPERTIES,...vn.EVENT_CALLBACKS];vn.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(vn.ALL_PROPERTIES_AND_CALLBACKS);var Ku=vn;function VW(e,t){typeof e!="object"&&(e={});const r={...e};return Ku.ALL_PROPERTIES_AND_CALLBACKS.forEach(i=>{const s=t[i];typeof s<"u"&&s!==Ku.VUE_OMITTED_PROPERTY&&(r[i]=s)}),r}function zW(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>Ku.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const i={type:"gridOptionsChanged",options:r};t.dispatchEvent(i);const s={type:"componentStateChanged"};Ln(r,(o,a)=>{s[o]=a}),t.dispatchEvent(s)}var gl=class extends Q{};function Dc(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var Ec=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function os(e,t,r){r==null||typeof r=="string"&&r==""?OA(e,t):Si(e,t,r)}function Si(e,t,r){e.setAttribute(IA(t),r.toString())}function OA(e,t){e.removeAttribute(IA(t))}function IA(e){return`aria-${e}`}function Hn(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function UW(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function $W(e){return e.getAttribute("aria-label")}function Qa(e,t){os(e,"label",t)}function Qu(e,t){os(e,"labelledby",t)}function LA(e,t){os(e,"live",t)}function YW(e,t){os(e,"atomic",t)}function qW(e,t){os(e,"relevant",t)}function jW(e,t){os(e,"disabled",t)}function _A(e,t){os(e,"hidden",t)}function up(e,t){Si(e,"expanded",t)}function KW(e,t){Si(e,"setsize",t)}function QW(e,t){Si(e,"posinset",t)}function XW(e,t){Si(e,"rowcount",t)}function JW(e,t){Si(e,"rowindex",t)}function ZW(e,t){Si(e,"colcount",t)}function NA(e,t){Si(e,"colindex",t)}function eB(e,t){Si(e,"colspan",t)}function tB(e,t){Si(e,"sort",t)}function rB(e){OA(e,"sort")}function cp(e,t){os(e,"selected",t)}function nB(e,t){os(e,"controls",t.id),Qu(t,e.id)}function lR(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Um,oh,$m,Ym,qm,jm,cS,dS,Km;function fi(){return Um===void 0&&(Um=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Um}function GA(){if(oh===void 0)if(fi()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(oh=e[1]!=null?parseFloat(e[1]):0)}else oh=0;return oh}function uR(){if($m===void 0){const e=window;$m=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return $m}function cR(){return Ym===void 0&&(Ym=/(firefox)/i.test(navigator.userAgent)),Ym}function HA(){return qm===void 0&&(qm=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),qm}function Xs(){return jm===void 0&&(jm=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jm}function gP(){return!fi()||GA()>=15}function hS(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!cR())?null:t.toString()}function iB(){if(Km!==void 0)return Km;if(!document.body)return-1;let e=1e6;const t=cR()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),Km=e,e}function sB(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function oB(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function aB(){return dS==null&&WA(),dS}function WA(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(dS=r,cS=r===0)}function BA(){return cS==null&&WA(),cS}var ah,lB="[tabindex], input, select, button, textarea, [href]",VA="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function dR(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,VA),s=gi(e);return n&&!i&&s}function Pt(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||_A(e,!t)}function uB(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||_A(e,!t)}function Xu(e,t){const r="disabled",n=t?i=>i.setAttribute(r,""):i=>i.removeAttribute(r);n(e),YA(e.querySelectorAll("input"),i=>n(i))}function Ba(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function Zo(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:u,paddingBottom:d,paddingLeft:p,marginTop:f,marginRight:g,marginBottom:v,marginLeft:w,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(p||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(w||"0"),boxSizing:y}}function hR(e){const t=Zo(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Pc(e){const t=Zo(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function zA(e){const{height:t,marginBottom:r,marginTop:n}=Zo(e);return Math.floor(t+r+n)}function dp(e){const{width:t,marginLeft:r,marginRight:n}=Zo(e);return Math.floor(t+r+n)}function UA(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:s}=Zo(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function hp(){if(typeof ah=="boolean")return ah;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,ah=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),ah}function pp(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r),uR()&&!hp()&&(r=e.scrollWidth-e.getBoundingClientRect().width-r)),r}function fp(e,t,r){r&&(hp()?t*=-1:(fi()||uR())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function tn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Bo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $A(e){return!!e.offsetParent}function gi(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!$A(e)||window.getComputedStyle(e).visibility!=="visible")}function Ju(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function cB(e){return e.clientWidth<e.scrollWidth}function dB(e){return e.clientHeight<e.scrollHeight}function gp(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Gn(e,t)}function Gn(e,t){t=pR(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function _u(e,t){t=pR(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function pR(e){return typeof e=="number"?`${e}px`:e}function fR(e){return e instanceof Node||e instanceof HTMLElement}function hB(e){if(e==null)return[];const t=[];return YA(e,r=>t.push(r)),t}function pB(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function Cn(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function YA(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}var Xa=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},fB=1e3,gB=1e3,mP=100,qA=class vo extends Q{constructor(t,r,n,i){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=i,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&ee(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Xs()&&(vo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},mP):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var s;const r=t.relatedTarget,n=this.parentComp.getGui(),i=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(i!=null&&i.contains(r))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||vo.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=vo.lastTooltipHideTime;return t-r<fB}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!ae(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),vo.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(r);return}const i=r.getGui();this.tooltipComp=r,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Ot(this.gos),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),r=xt(this.gos);return!!t&&t.contains(r)}onTooltipFocusOut(t){const r=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,r.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,n=this.tooltipTrigger===0?gB:0;window.setTimeout(()=>{t(),this.destroyBean(r)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){vo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},mP)}unlockService(){vo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};qA.isLocked=!1;var mB=qA,ml=class extends Q{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,r,n,i;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new mB(e,(r=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:r.call(t),(i=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:i.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var i,s,o,a,u;const e=this.ctrl,t=(i=e.getColumn)==null?void 0:i.call(e),r=(s=e.getColDef)==null?void 0:s.call(e),n=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:r,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(u=e.getValueFormatted)==null?void 0:u.call(e),hideTooltipCallback:()=>{var d;return(d=this.tooltipManager)==null?void 0:d.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},vB=new Xa,Fe=null,ut=class jA extends Q{constructor(t,r){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=vB.next(),this.cssClassManager=new Ec(()=>this.eGui),this.componentSelectors=new Map((r??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,r){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,r))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:n,hideDelayOverride:i,location:s,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new ml({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:i!=null?()=>i:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,r,n,i=null){if(r===void 0&&(r=this.getDataRefAttribute(t)),r){const s=this[r];if(s===Fe)this[r]=i??t;else{const o=n&&n[r];!this.suppressDataRefValidation&&!o&&ee(`Issue with data-ref: ${r} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(t,r){hB(t.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const s=this.createComponentFromElement(i,o=>{o.getGui()&&this.copyAttributesFromNode(i,o.getGui())},r);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,r);const o=Array.prototype.slice.call(i.children);s.addItems(o)}this.swapComponentForNode(s,t,i)}else i.childNodes&&this.createChildComponentsFromTags(i,r)})}createComponentFromElement(t,r,n){const i=t.nodeName,s=this.getDataRefAttribute(t),o=i.indexOf("AG-")===0,a=o?this.componentSelectors.get(i):null;let u=null;if(a){jA.elementGettingCreated=t;const d=n&&s?n[s]:void 0;u=new a.component(d),u.setParentComponent(this),this.createBean(u,null,r)}else o&&ee(`Missing selector: ${i}`);return this.applyElementsToComponent(t,s,n,u),u}copyAttributesFromNode(t,r){pB(t.attributes,(n,i)=>r.setAttribute(n,i))}swapComponentForNode(t,r,n){const i=t.getGui();r.replaceChild(i,n),r.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",r.toString()))}setTemplate(t,r,n){const i=Ju(t);this.setTemplateFromElement(i,r,n)}setTemplateFromElement(t,r,n,i=!1){if(this.eGui=t,this.suppressDataRefValidation=i,r)for(let s=0;s<r.length;s++){const o=r[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,r){let n=r;return t==null?null:(n||(n=this.eGui),fR(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,r){const{element:n,parent:i}=this.getContainerAndElement(t,r)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(t,r){const{element:n,parent:i}=this.getContainerAndElement(t,r)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=r;uB(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=r;Pt(this.eGui,t,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,r,n){this.eGui.addEventListener(t,r,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}},KA={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},CB=(()=>{const e=new Set(Object.values(KA));return e.add("eye"),e})();function wB(e,t,r){const n=Jr(e,t,r);if(n){const{className:s}=n;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function Jr(e,t,r,n){let i=null;const s=r&&r.getColDef().icons;if(s&&(i=s[e]),t&&!i){const o=t.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ju(o);if(fR(o))return o;ee("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=KA[e]??(CB.has(e)?e:void 0);return a||(ee(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Hn(o,"presentation"),o}}var yB=class extends ut{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Fe,this.eLabel=Fe}postConstruct(){const e=t=>wB(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var n,i;tn(this.eIcon);let r=null;e||(e=(n=this.dragSource)!=null&&n.getDefaultIconName?(i=this.dragSource)==null?void 0:i.getDefaultIconName():"notAllowed"),r=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eIcon.appendChild(r)}setLabel(e){this.eLabel.textContent=ai(e)}};function QA(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=r}var Ws=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new pl,this.eElement=e,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!QA(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function gu(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var SB=`<span class="ag-sort-indicator-container">
        ${gu("Order","order")}
        ${gu("Asc","ascending-icon")}
        ${gu("Desc","descending-icon")}
        ${gu("Mixed","mixed-icon")}
        ${gu("None","none-icon")}
    </span>`,gR=class extends ut{constructor(e){super(),this.eSortOrder=Fe,this.eSortAsc=Fe,this.eSortDesc=Fe,this.eSortMixed=Fe,this.eSortNone=Fe,e||this.setTemplate(SB)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,r,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=Jr(e,this.gos,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Pt(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Pt(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=e==null;Pt(this.eSortNone,!t&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;ei(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Pt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,r=e.some(i=>this.sortController.getDisplaySortIndexForColumn(i)??!1),n=t>=0&&r;Pt(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():tn(this.eSortOrder)}},RB={selector:"AG-SORT-INDICATOR",component:gR},bB=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,pS=class extends ut{constructor(){super(...arguments),this.eFilter=Fe,this.eFilterButton=Fe,this.eSortIndicator=Fe,this.eMenu=Fe,this.eLabel=Fe,this.eText=Fe,this.eSortOrder=Fe,this.eSortAsc=Fe,this.eSortDesc=Fe,this.eSortMixed=Fe,this.eSortNone=Fe,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??bB;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[RB]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=ai(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,r){if(t==null)return;const n=Jr(e,this.gos,r);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new Ws(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&ae(this.eMenu),i=n?new Ws(this.eMenu,!0):t;if(this.params.enableMenu){const s=n?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(i,{[s]:o})}if(this.params.enableSorting){const s=o=>{var u,d;const a=o.touchStart.target;r&&((u=this.eMenu)!=null&&u.contains(a)||(d=this.eFilterButton)!=null&&d.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:s})}if(this.params.enableFilterButton){const s=new Ws(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>i.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Bo(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new gR(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const r=this.params.column.isMoving(),i=new Date().getTime()-this.lastMovingChanged<50;if(!(r||i)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),i=!(r==null?void 0:r.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,r){if(!e)return Bo(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Pt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},DB=class extends ut{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Fe,this.agClosed=Fe,this.agLabel=Fe}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ee("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=i=>{if(Ui(i))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=i=>{Ka(i)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const r=new Ws(e,!0);this.addManagedListeners(r,{tap:t}),this.addDestroyFunc(()=>r.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Pt(this.agOpened,t),Pt(this.agClosed,!t)}else Pt(this.agOpened,!1),Pt(this.agClosed,!1)}addInIcon(e,t){const r=Jr(e,this.gos,null);r&&t.appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Pt(this.agOpened,!1),Pt(this.agClosed,!1);return}}setupLabel(){var r;const{displayName:e,columnGroup:t}=this.params;if(ae(e)){const n=ai(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((r=t.getColGroupDef())!=null&&r.suppressStickyLabel))}},EB="",PB="",FB=class extends ut{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),i=ae(n)?n:r,s=t>=0;s?this.eDelta.textContent=EB+i:this.eDelta.textContent=PB+i,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),tn(this.eDelta)}refresh(e,t=!1){var n;const r=e.value;if(r===this.lastValue||(ae(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ae(e.value)?this.eValue.textContent=r:tn(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const i=r-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},xB=class extends ut{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let r=e.value;return Ve(r)&&(r=""),r===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,ae(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ae(e.value)?this.eCurrent.textContent=r:tn(this.eCurrent),!0)}},q=class{};q.BACKSPACE="Backspace";q.TAB="Tab";q.ENTER="Enter";q.ESCAPE="Escape";q.SPACE=" ";q.LEFT="ArrowLeft";q.UP="ArrowUp";q.RIGHT="ArrowRight";q.DOWN="ArrowDown";q.DELETE="Delete";q.F2="F2";q.PAGE_UP="PageUp";q.PAGE_DOWN="PageDown";q.PAGE_HOME="Home";q.PAGE_END="End";q.A="KeyA";q.C="KeyC";q.D="KeyD";q.V="KeyV";q.X="KeyX";q.Y="KeyY";q.Z="KeyZ";var MB=class extends ut{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){tn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Pt(this.eLabel,!1),Hn(this.eLabel,"presentation")):(Pt(this.eLabel,!0),Hn(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(gp(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Xu(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},XA=class extends MB{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||$W(e)!==null?Qu(e,""):Qu(e,t??"")}setAriaLabel(e){return Qa(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Gn(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Eo=class extends XA{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=Fe,this.eWrapper=Fe,this.eInput=Fe}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return gp(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Cn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Qa(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Xu(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Cn(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Cn(this.eInput,"autocomplete",t)}return this}},mR=class extends Eo{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},vR={selector:"AG-CHECKBOX",component:mR},TB=class extends ut{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[vR]),this.eCheckbox=Fe}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),LA(t,"polite"),this.addManagedListeners(t,{click:r=>{if(Ka(r),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:r=>{Ka(r)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:r=>{if(r.key===q.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===xt(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,r=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const u=e.column.getColId();u.startsWith(Qp)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[u]!==void 0?t=e.value??void 0:r=!1}else t=e.value??void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const i=this.localeService.getLocaleTextFunc(),s=lR(i,t),o=n?s:`${i("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:r,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n});const i=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:i}),i||this.updateCheckbox(this.params)}},kB=class extends ut{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Fe,this.eLoadingText=Fe}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Jr("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},AB=class extends ut{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Qu(e.eParentOfValue)),Qu(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Qa(this.getGui(),t)}setupLoading(e){const r=Ot(this.gos).createElement("div");r.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Qa(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},JA=class extends ut{constructor(){super()}destroy(){super.destroy()}},OB=class extends JA{init(){var t;const e=zi((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},IB=class extends JA{init(){var t;const e=zi((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}},vl=class extends ut{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},LB=class extends vl{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=ai(t,!0)}};function ZA(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:i,addSequentialWeight:s}=e;let o=r.map((d,p)=>({value:d,relevance:NB(t.toLowerCase(),d.toLocaleLowerCase(),s),idx:p}));if(o.sort((d,p)=>p.relevance-d.relevance),n&&(o=o.filter(d=>d.relevance!==0)),o.length>0&&i&&i>0){const p=o[0].relevance*i;o=o.filter(f=>p-f.relevance<0)}const a=[],u=[];for(const d of o)a.push(d.value),u.push(d.idx);return{values:a,indices:u}}function _B(e){const t=[],r=e.length;for(let n=1;n<=r;n++)for(let i=0;i<=r-n;i++){const s=i+n-1;t.push(e.slice(i,s+1))}return t}function NB(e,t,r=!1){const n=e.replace(/\s/g,""),i=t.replace(/\s/g,""),s=n.length,o=i.length,a=new Array(s+1).fill(null).map(()=>new Array(o+1).fill(0));for(let f=0;f<=s;f+=1)a[f][0]=f;for(let f=0;f<=o;f+=1)a[0][f]=f;for(let f=1;f<=s;f++)for(let g=1;g<=o;g++)n[f-1]===i[g-1]?a[f][g]=a[f-1][g-1]:a[f][g]=1+Math.min(a[f][g-1],Math.min(a[f-1][g],a[f-1][g-1]));const u=a[s][o];let p=Math.max(s,o)-u;if(r){const f=_B(n);for(let g=0;g<f.length;g++){const v=f[g];i.indexOf(v)!==-1&&(p+=1,p*=v.length)}}return p}var GB=class extends Q{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:yB,agColumnHeader:pS,agColumnGroupHeader:DB,agSortIndicator:gR,agAnimateShowChangeCellRenderer:FB,agAnimateSlideCellRenderer:xB,agLoadingCellRenderer:kB,agSkeletonCellRenderer:AB,agCheckboxCellRenderer:TB,agLoadingOverlay:OB,agNoRowsOverlay:IB,agTooltipComponent:LB},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&Ln(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t,r){this.agGridDefaults[e]=t,r&&(this.agGridDefaultParams[e]=r)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,u,d)=>({componentFromFramework:u,component:a,params:d}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return r(n,!0);const i=this.jsComps[t];if(i){const a=this.getFrameworkOverrides().isFrameworkComponent(i);return r(i,a)}const s=this.agGridDefaults[t];if(s)return r(s,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):eR(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(i=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(i)),...Object.keys(this.jsComps)],n=ZA({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;ee(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&ee(`         Did you mean: [${n.slice(0,3)}]?`),ee(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},At=class Fu{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new Fu(r=>{let n=t.length;const i=new Array(n);t.forEach((s,o)=>{s.then(a=>{i[o]=a,n--,n===0&&r(i)})})}):Fu.resolve()}static resolve(t=null){return new Fu(r=>r(t))}then(t){return new Fu(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}},HB={propertyName:"dateComponent",cellRenderer:!1},WB={propertyName:"dragAndDropImageComponent",cellRenderer:!1},BB={propertyName:"headerComponent",cellRenderer:!1},VB={propertyName:"headerGroupComponent",cellRenderer:!1},vP={propertyName:"cellRenderer",cellRenderer:!0},zB={propertyName:"cellRenderer",cellRenderer:!1},UB={propertyName:"loadingCellRenderer",cellRenderer:!0},$B={propertyName:"cellEditor",cellRenderer:!1},CP={propertyName:"innerRenderer",cellRenderer:!0},YB={propertyName:"loadingOverlayComponent",cellRenderer:!1},qB={propertyName:"noRowsOverlayComponent",cellRenderer:!1},jB={propertyName:"tooltipComponent",cellRenderer:!1},CR={propertyName:"filter",cellRenderer:!1},KB={propertyName:"floatingFilterComponent",cellRenderer:!1},QB={propertyName:"toolPanel",cellRenderer:!1},XB={propertyName:"statusPanel",cellRenderer:!1},JB={propertyName:"fullWidthCellRenderer",cellRenderer:!0},ZB={propertyName:"loadingCellRenderer",cellRenderer:!0},eV={propertyName:"groupRowRenderer",cellRenderer:!0},tV={propertyName:"detailCellRenderer",cellRenderer:!0},rV={propertyName:"menuItem",cellRenderer:!1},eO=class tO extends Q{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,WB,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,r){return this.getCompDetails(t,BB,"agColumnHeader",r)}getHeaderGroupCompDetails(t){const r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,VB,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,JB,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,ZB,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,eV,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,tV,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,r){return this.getCompDetails(t,CP,null,r)}getFullWidthGroupRowInnerCellRenderer(t,r){return this.getCompDetails(t,CP,null,r)}getCellRendererDetails(t,r){return this.getCompDetails(t,vP,null,r)}getEditorRendererDetails(t,r){return this.getCompDetails(t,zB,null,r)}getLoadingCellRendererDetails(t,r){return this.getCompDetails(t,UB,"agSkeletonCellRenderer",r,!0)}getCellEditorDetails(t,r){return this.getCompDetails(t,$B,"agCellEditor",r,!0)}getFilterDetails(t,r,n){return this.getCompDetails(t,CR,n,r,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,HB,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,YB,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,qB,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,jB,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,r){return this.getCompDetails(t,vP,null,r)}getFloatingFilterCompDetails(t,r,n){return this.getCompDetails(t,KB,n,r)}getToolPanelCompDetails(t,r){return this.getCompDetails(t,QB,null,r,!0)}getStatusPanelCompDetails(t,r){return this.getCompDetails(t,XB,null,r,!0)}getMenuItemCompDetails(t,r){return this.getCompDetails(t,rV,"agMenuItem",r,!0)}getCompDetails(t,r,n,i,s=!1){const{propertyName:o,cellRenderer:a}=r;let{compName:u,jsComp:d,fwComp:p,paramsFromSelector:f,popupFromSelector:g,popupPositionFromSelector:v}=tO.getCompKeys(this.frameworkOverrides,t,r,i),w;const y=P=>{const F=this.userComponentRegistry.retrieve(o,P);F&&(d=F.componentFromFramework?void 0:F.component,p=F.componentFromFramework?F.component:void 0,w=F.params)};if(u!=null&&y(u),d==null&&p==null&&n!=null&&y(n),d&&a&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(o,d)),!d&&!p){s&&Xe(`Could not find component ${u}, did you forget to configure this component?`);return}const S=this.mergeParamsWithApplicationProvidedParams(t,r,i,f,w),b=d==null,E=d||p;return{componentFromFramework:b,componentClass:E,params:S,type:r,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:()=>this.newAgStackInstance(E,b,S,r)}}static getCompKeys(t,r,n,i){const{propertyName:s}=n;let o,a,u,d,p,f;if(r){const g=r,v=g[s+"Selector"],w=v?v(i):null,y=S=>{typeof S=="string"?o=S:S!=null&&S!==!0&&(t.isFrameworkComponent(S)?u=S:a=S)};w?(y(w.component),d=w.params,p=w.popup,f=w.popupPosition):y(g[s])}return{compName:o,jsComp:a,fwComp:u,paramsFromSelector:d,popupFromSelector:p,popupPositionFromSelector:f}}newAgStackInstance(t,r,n,i){const s=i.propertyName,o=!r;let a;if(o)a=new t;else{const d=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(t,d.mandatoryMethodList,d.optionalMethodList,i)}const u=this.initComponent(a,n);return u==null?At.resolve(a):u.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,r,n,i=null,s){const o=this.gos.getGridCommonParams();Er(o,n),s&&Er(o,s);const a=t,u=a&&a[r.propertyName+"Params"];if(typeof u=="function"){const d=u(n);Er(o,d)}else typeof u=="object"&&Er(o,u);return Er(o,i),o}initComponent(t,r){if(this.createBean(t),t.init!=null)return t.init(r)}};function Nu(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Xp=class Qe{static register(t){Qe.__register(t,!0,void 0)}static registerModules(t){Qe.__registerModules(t,!0,void 0)}static __register(t,r,n){Qe.runVersionChecks(t),n!==void 0?(Qe.areGridScopedModules=!0,Qe.gridModulesMap[n]===void 0&&(Qe.gridModulesMap[n]={}),Qe.gridModulesMap[n][t.moduleName]=t):Qe.globalModulesMap[t.moduleName]=t,Qe.setModuleBased(r)}static __unRegisterGridModules(t){delete Qe.gridModulesMap[t]}static __registerModules(t,r,n){Qe.setModuleBased(r),t&&t.forEach(i=>Qe.__register(i,r,n))}static isValidModuleVersion(t){const[r,n]=t.version.split(".")||[],[i,s]=Qe.currentModuleVersion.split(".")||[];return r===i&&n===s}static runVersionChecks(t){Qe.currentModuleVersion||(Qe.currentModuleVersion=t.version);const r=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?Qe.isValidModuleVersion(t)||Xe(r(`'${t.moduleName}' is version ${t.version} but the other modules are version ${Qe.currentModuleVersion}.`)):Xe(r(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Xe(`${n.message}`)}}static setModuleBased(t){Qe.moduleBased===void 0?Qe.moduleBased=t:Qe.moduleBased!==t&&(Xe("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Xe("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Qe.isBundled=!0}static __assertRegistered(t,r,n){var s;if(this.__isRegistered(t,n))return!0;let i;if(Qe.isBundled)i=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Qe.moduleBased||Qe.moduleBased===void 0){const o=(s=Object.entries(hA).find(([a,u])=>u===t))==null?void 0:s[0];i=`AG Grid: unable to use ${r} as the ${o} is not registered${Qe.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else i=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Xe(i),!1}static __isRegistered(t,r){var n;return!!Qe.globalModulesMap[t]||!!((n=Qe.gridModulesMap[r])!=null&&n[t])}static __getRegisteredModules(t){return[...Th(Qe.globalModulesMap),...Th(Qe.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Th(Qe.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!Qe.moduleBased}};Xp.globalModulesMap={};Xp.gridModulesMap={};Xp.areGridScopedModules=!1;var ti=Xp,nV=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:i}=r(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,i;(n=r.preWireBeans)==null||n.call(r,this.beans),(i=r.wireBeans)==null||i.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},iV=class extends nV{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),ti.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},rO=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(rO||{}),sV=class extends Q{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Fr(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(r=this.dragSource).onDragStarted)==null||n.call(r),this.createDragAndDropImageComponent()}onDragStop(e){var t,r,n;if((r=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||r.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,r;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(r=this.lastDropTarget)!=null&&r.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,u,d;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(p=>this.isMouseOnDropTarget(e,p)),s=this.findCurrentDropTarget(e,i);if(s!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,r,n,t),this.lastDropTarget!==null&&s===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&s!==null&&((d=(u=this.dragSource)==null?void 0:u.onGridEnter)==null||d.call(u,this.dragItem)),this.enterDragTargetIfExists(s,e,r,n,t),s&&this.dragAndDropImageComp){const{comp:p,promise:f}=this.dragAndDropImageComp;p?p.setIcon(s.getIconName?s.getIconName():null):f.then(g=>{g&&g.setIcon(s.getIconName?s.getIconName():null)})}this.lastDropTarget=s}else if(s&&s.onDragging){const p=this.createDropTargetEvent(s,e,r,n,t);s.onDragging(p)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const{width:n,height:i,left:s,right:o,top:a,bottom:u}=r.getBoundingClientRect();if(n===0||i===0)return!1;const d=e.clientX>=s&&e.clientX<o,p=e.clientY>=a&&e.clientY<u;if(!d||!p)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of r)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:i,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(i)?!1:n&&t.isInterestedIn(s,i)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const i=qu(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(gW(this.getAllContainersFromDropTarget(o)).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,r,n,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,r,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(s)}const i=this.getDragAndDropImageComponent();i&&i.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,n,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:u}=this,d=t.clientX-o.left,p=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:d,y:p,vDirection:n,hDirection:r,dragSource:u,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const r=t.getGui(),i=r.getBoundingClientRect().height,s=sB()-2,o=oB()-2;if(!r.offsetParent)return;const u=UA(r.offsetParent),{clientY:d,clientX:p}=e;let f=d-u.top-i/2,g=p-u.left-10;const v=Ot(this.gos),w=v.defaultView||window,y=w.pageYOffset||v.documentElement.scrollTop,S=w.pageXOffset||v.documentElement.scrollLeft;s>0&&g+r.clientWidth>s+S&&(g=s+S-r.clientWidth),g<0&&(g=0),o>0&&f+r.clientHeight>o+y&&(f=o+y-r.clientHeight),f<0&&(f=0),r.style.left=`${g}px`,r.style.top=`${f}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const r=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:r,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),r.stampTopLevelGridCompWithGridInstance(i),n.applyThemeClasses(i),e.setIcon(null);let{dragItemName:s}=t;tR(s)&&(s=s()),e.setLabel(s||""),i.style.top="20px",i.style.left="20px";const o=Ot(this.gos);let a=null,u=null;try{a=o.fullscreenElement}catch{}finally{a||(a=qu(this.gos));const d=a.querySelector("body");d?u=d:a instanceof ShadowRoot?u=a:a instanceof Document?u=a==null?void 0:a.documentElement:u=a}this.dragAndDropImageParent=u,u?u.appendChild(i):ee("Could not find document body, it is needed for drag and drop.")}},oV=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!r,this.tickDown=e.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},aV=class extends Q{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new oV({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),i=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Be(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes;let s=r?1:0;if(this.isFromThisGrid(e))i.forEach(o=>{o.rowTop<n&&(s-=1)}),this.moveRows(i,n,s);else{const o=fl(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:i.filter(u=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var i;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(i=this.rangeService)==null||i.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ee("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ee("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const r={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(r),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?u=>{r(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:r,onDragLeave:e.onDragLeave?u=>{n(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:n,onDragging:e.onDragging?u=>{i(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:i,onDragStop:e.onDragStop?u=>{s(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:s,onDragCancel:e.onDragCancel?u=>{o(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,n=r>this.pageBoundsService.getCurrentPageHeight();let i=-1,s;n||(i=this.rowModel.getRowIndexAtPixel(r),s=this.rowModel.getRow(i));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:i,overNode:s,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},lV=class extends Q{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),Fr(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:i}=e;r.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");n&&!o&&(s=a=>{dR(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=u=>this.onTouchMove(u,e.eElement),i=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},o=t.target,a=[{target:qu(this.gos),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=d=>this.onMouseMove(d,e.eElement),i=d=>this.onMouseUp(d,e.eElement),s=d=>d.preventDefault(),o=d=>{d.key===q.ESCAPE&&this.cancelDrag(e.eElement)},a=qu(this.gos),u=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.addEventListener(n,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.removeEventListener(n,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=ae(r)?r:4;return QA(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;fi()&&((r=Ot(this.gos).getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,r;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(r=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||r.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},fS=class extends ut{constructor(e,t,r,n,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Jr("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new cV(this,this.beans,this.rowNode,this.column):new uV(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ee("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),i=((o=n.rowNodes)==null?void 0:o.length)||1,s=this.getRowDragText(this.column);return s?s(n,i):i===1?this.cellValueFn():`${i} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},nO=class extends Q{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=tR(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},uV=class extends nO{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},cV=class extends nO{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),s=r&&!i||n;this.setDisplayedOrVisible(s)}},dV=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Fc=class Ls{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ls.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){var s;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(t,n,r);(s=this.localEventService)==null||s.dispatchEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,n){return{type:"dataChanged",node:this,oldData:r,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(Xe("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Ls.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Ls.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Ls(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){var o;const n=ae(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const s=this.createDataChangedEvent(t,i,!1);(o=this.localEventService)==null||o.dispatchEvent(s)}checkRowSelectable(){const t=rR(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),r)return;if(Wo(this.beans.gos)){const i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var n;const r=fl(this.beans.gos);if(r)if(this.data){const i=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=r({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Ls.ID_PREFIX_ROW_GROUP)&&Xe(`Row IDs cannot start with ${Ls.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Pr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,r=!0,n=0;const i=this.__autoHeights;if(i==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(u=>{let d=i[u.getId()];if(d==null)if(this.beans.columnModel.isColSpanActive()){let p=[];switch(u.getPinned()){case"left":p=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":p=this.beans.visibleColsService.getRightColsForRow(this);break;case null:p=this.beans.columnViewportService.getColsWithinViewport(this);break}if(p.includes(u)){t=!0;return}d=-1}else{t=!0;return}else r=!1;d>n&&(n=d)}),t)||((r||n<10)&&(n=Us(this.beans.gos,this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,r,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const i={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:r||null};this.beans.rowNodeEventThrottle.dispatchExpanded(i,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,r,n){const s=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(s,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:o,newValue:r,value:r,source:n}),!1;const a=this.beans.valueService.setValue(this,s,r,n);return this.dispatchCellChangedEvent(s,r,o),this.checkRowSelectable(),a}setGroupValue(t,r){const n=this.beans.columnModel.getCol(t);Ve(this.groupData)&&(this.groupData={});const i=n.getColId(),s=this.groupData[i];s!==r&&(this.groupData[i]=r,this.dispatchCellChangedEvent(n,r,s))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.localEventService){const n=i=>{const s=this.aggData?this.aggData[i]:void 0,o=r?r[i]:void 0;if(s===o)return;const a=this.beans.columnModel.getCol(i);a&&this.dispatchCellChangedEvent(a,s,o)};for(const i in r)n(i);for(const i in t)(!r||!(i in r))&&n(i)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(yi(this.beans.gos)){const n=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,r,n){var s;const i={type:"cellChanged",node:this,column:t,newValue:r,oldValue:n};(s=this.localEventService)==null||s.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var n;let t=!1,r=!1;if(!((n=this.childrenAfterGroup)!=null&&n.length))return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const s=this.childrenAfterGroup[i];let o=s.isSelected();if(!s.selectable){const a=s.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var r;(r=this.localEventService)==null||r.dispatchEvent({type:t,node:this})}selectThisNode(t,r,n="api"){const i=!this.selectable&&t,s=this.selected===t;if(i||s)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:r||null,source:n}),!0}setSelected(t,r=!1,n="api"){if(typeof n=="boolean"){ee("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(ee("cannot select pinned rows"),0):this.id===void 0?(ee("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,r){var i;this.localEventService||(this.localEventService=new pl),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new sR(this.beans.frameworkOverrides));const n=((i=this.frameworkEventListenerService)==null?void 0:i.wrap(r))??r;this.localEventService.addEventListener(t,n)}removeEventListener(t,r){var i;if(!this.localEventService)return;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(r))??r;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(ee("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let r=this;for(;r&&r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Ls(this.beans);Object.keys(this).forEach(r=>{dV.has(r)||(t[r]=this[r])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Fc.ID_PREFIX_ROW_GROUP="row-group-";Fc.ID_PREFIX_TOP_PINNED="t-";Fc.ID_PREFIX_BOTTOM_PINNED="b-";Fc.OBJECT_ID_SEQUENCE=0;var $i=Fc,hV=class extends Q{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvancedFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(r=this.columnFilterService)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,r;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilterService)!=null&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){iS(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):At.resolve()).then(()=>{var s;const i={source:t,type:"filterChanged",columns:n};r&&Er(i,r),this.eventService.dispatchEvent(i),(s=this.columnFilterService)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!iS(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.columnFilterService)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.columnFilterService)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.columnFilterService)!=null&&r.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(r=this.columnFilterService)==null?void 0:r.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){ee("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((r=this.columnFilterService)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,r){var n;(n=this.columnFilterService)==null||n.setColDefPropertiesForDataType(e,t,r)}},pV=class extends ut{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??At.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var i;(i=n==null?void 0:n.afterGuiAttached)==null||i.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,i;const{column:t,source:r}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const o=s.getGui();ae(o)||ee(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(tn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},iO="ag-resizer-wrapper",Ts=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,fV=`<div class="${iO}">
        ${Ts("eTopLeft","topLeft")}
        ${Ts("eTop","top")}
        ${Ts("eTopRight","topRight")}
        ${Ts("eRight","right")}
        ${Ts("eBottomRight","bottomRight")}
        ${Ts("eBottom","bottom")}
        ${Ts("eBottomLeft","bottomLeft")}
        ${Ts("eLeft","left")}
    </div>`,gV=class extends Q{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:i,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let u=0,d=0;const p=gi(this.element);if(p){const f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){const v=f.offsetWidth-this.element.offsetWidth;d=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){const v=f.offsetHeight-this.element.offsetHeight;u=parseInt(g.minHeight,10)-v}}if(this.minHeight=i||u,this.minWidth=r||d,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(p&&t){let f=this.boundaryEl,g=!0;if(f||(f=this.findBoundaryElement(),g=!1),f){const v=parseFloat(f.style.top),w=parseFloat(f.style.left);g?this.offsetElement(isNaN(w)?0:w,isNaN(v)?0:v):this.setPosition(w,v)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_u(r,e),e=zA(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?_u(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:i.top;let a=0;if(t){const d=this.element.parentElement;if(d){const{bottom:p}=d.getBoundingClientRect();a=p-n.bottom}}return r+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Gn(t,e),e=dp(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Gn(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!r,!!i,o)?0:o,d=this.shouldSkipY(t,!!n,s,a)?0:a;return{movementX:u,movementY:d}}shouldSkipX(e,t,r,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let u=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return u?!0:(t?u=n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:r?u=n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:u=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,u)}shouldSkipY(e,t,r=0,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let u=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return u?!0:(t?u=n<0&&e.clientY>a+s.top+r||n>0&&e.clientY<a+s.top:u=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(fV,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${iO}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const i=e[n],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const u=window.getComputedStyle(i);u.minHeight&&(o=parseInt(u.minHeight,10)),u.minWidth&&(a=parseInt(u.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const i=r[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,u=s||n,{movementX:d,movementY:p}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),f=this.position.x,g=this.position.y;let v=0,w=0;if(a&&d){const y=o?-1:1,S=this.getWidth(),b=S+d*y;let E=!1;o&&(v=S-b,(f+v<=0||b<=this.minWidth)&&(E=!0,v=0)),E||this.setWidth(b)}if(u&&p){const y=n?-1:1,S=this.getHeight(),b=S+p*y;let E=!1;n?(w=S-b,(g+w<=0||b<=this.minHeight)&&(E=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&v||w)&&this.offsetElement(f+v,g+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,r+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},sO=class oO extends Q{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...r}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(oO.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:r=>{if(!(r.defaultPrevented||Ui(r))){if(this.callbacks.shouldStopEventPropagation(r)){Ka(r);return}r.key===q.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}}})}};sO.FOCUS_MANAGED_CLASS="ag-focus-managed";var ea=sO,aO={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function wR(e,t){return mp(e)?(e.debounceMs!=null&&ee("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function mp(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var mV=class extends ut{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Fe,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ea(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new gV(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=mp(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=mp(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:i,readOnly:s}=e;if(n===s&&$u(r,i))return;const o=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(tn(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Bo(this.eButtonsPanel);return}const a=document.createDocumentFragment(),u=d=>{let p,f;switch(d){case"apply":p=this.translate("applyFilter"),f=w=>this.onBtApply(!1,!1,w);break;case"clear":p=this.translate("clearFilter"),f=()=>this.onBtClear();break;case"reset":p=this.translate("resetFilter"),f=()=>this.onBtReset();break;case"cancel":p=this.translate("cancelFilter"),f=w=>{this.onBtCancel(w)};break;default:ee("Unknown button type specified");return}const v=Ju(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(v,{click:f})),a.append(v)};i.forEach(d=>u(d)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=wR(this.providedFilterParams,this.getDefaultDebounceMs()),t=Pr(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Xu(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gos:n}=this;t?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,aO[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},vV=class extends mR{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},CV=class extends ut{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case q.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case q.DOWN:case q.UP:e.preventDefault(),this.navigate(t);break;case q.PAGE_DOWN:case q.PAGE_UP:case q.PAGE_HOME:case q.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===q.DOWN;let r;if(!this.highlightedEl)r=this.itemEls[t?0:this.itemEls.length-1];else{let i=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),r=this.itemEls[i]}this.highlightItem(r)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),r=this.options.length-1,n=this.itemEls[0].clientHeight,i=Math.floor(this.getGui().clientHeight/n);let s=-1;e===q.PAGE_HOME?s=0:e===q.PAGE_END?s=r:e===q.PAGE_DOWN?s=Math.min(t+i,r):e===q.PAGE_UP&&(s=Math.max(t-i,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Bo(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{QW(t,r+1),KW(t,e.length)})}renderOption(e,t){const r=Ot(this.gos),n=r.createElement("div");Hn(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=r.createElement("span");n.appendChild(i),i.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new ml({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!gi(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),cp(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>r+n||i<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!gi(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),cp(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},wV=class extends XA{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Fe,this.eWrapper=Fe,this.eDisplayField=Fe,this.eIcon=Fe,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const i=Jr(r,this.gos);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),up(e,!1),this.ariaRole&&Hn(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case q.UP:case q.DOWN:case q.ENTER:case q.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case q.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:i=!0}=this.config,s={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const g=mA(this.gos);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:u,maxPickerWidth:d,variableWidth:p}=this;p?(u&&(e.style.minWidth=u),e.style.width=pR(dp(this.eWrapper)),d&&(e.style.maxWidth=d)):gp(e,d??dp(this.eWrapper));const f=a??`${hR(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",f),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();up(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return gp(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},yR=class extends wV{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new CV("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),nB(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===q.TAB&&this.hidePicker(),t){case q.ENTER:case q.UP:case q.DOWN:case q.PAGE_UP:case q.PAGE_DOWN:case q.PAGE_HOME:case q.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case q.ESCAPE:super.onKeyDown(e);break;case q.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let i=this.listComponent.getDisplayValue();return i==null&&this.config.placeholder&&(i=this.config.placeholder),this.eDisplayField.textContent=i,this.setTooltip({newTooltipText:i??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},yV={selector:"AG-SELECT",component:yR},lO=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(i=>e[i]!=null)?!0:(ee(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ee("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ee("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},uO=class extends mV{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{r===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let s;if(r){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Qs(o.conditions,a.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return s}shouldRefresh(e){var s;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((s=e.filterOptions)==null?void 0:s.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],ee("Filter model is missing 'conditions'"));const i=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(i<s)this.removeConditionsAndOperators(i);else if(i>s)for(let a=s;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,u)=>{this.eTypes[u].setValue(a.type,!0),this.setConditionIntoUi(a,u)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),At.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ee('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const s=t;n.push(...s.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new lO,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ee('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ee('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ee('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new yR);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(r,n,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new vV);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,i=r-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const s=this.isConditionDisabled(i,e);n.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Xu(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,i)=>{Pt(n,this.isConditionBodyVisible(i))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,i,s,o)=>{this.setElementDisplayed(n,i<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}removeElements(e,t,r){this.removeItems(e,t,r).forEach(i=>Bo(i))}removeComponents(e,t,r){this.removeItems(e,t,r).forEach(i=>{Bo(i.getGui()),this.destroyBean(i)})}removeItems(e,t,r){return r==null?e.splice(t):e.splice(t,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Eo&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),u=o<t;(a||u)&&(this.removeConditionsAndOperators(o,1),n=!0,u&&r--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(r,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(tR(this.filterPlaceholder)){const n=this.filterPlaceholder,i=this.eTypes[t].getValue(),s=this.translate(i);r=n({filterOptionKey:i,filterOption:s,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,r,n,i)=>{if(!(t instanceof Eo))return;const s=r===0&&i>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&i>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof Eo&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ut&&Pt(e.getGui(),t)}setElementDisabled(e,t){e instanceof ut&&Xu(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Eo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&r(o,s,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),At.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,i,s)=>{s===t&&this.setElementValue(n,r[i]!=null?r[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(i,n,r);return s??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}evaluateCustomFilter(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},cO=class extends uO{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),i=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return i===0;case"notEqual":return i!==0;case"greaterThan":return i>0;case"greaterThanOrEqual":return i>=0;case"lessThan":return i<0;case"lessThanOrEqual":return i<=0;case"inRange":{const s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?i>=0&&s<=0:i>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ee('Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},SV=65,RV=67,bV=86,DV=68,EV=90,PV=89;function dO(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function gS(e,t,r,n,i){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=e.addGridCommonParams({event:t,editing:i,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(s&&s(o))}function FV(e,t,r,n){const i=n.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;if(!ae(s))return!1;const o=e.addGridCommonParams({colDef:i,column:n,headerRowIndex:r,event:t});return!!s(o)}function xV(e){const{keyCode:t}=e;let r;switch(t){case SV:r=q.A;break;case RV:r=q.C;break;case bV:r=q.V;break;case DV:r=q.D;break;case EV:r=q.Z;break;case PV:r=q.Y;break;default:r=e.code}return r}function MV(e,t=!1){return e===q.DELETE?!0:!t&&e===q.BACKSPACE?HA():!1}var ta=class extends Eo{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ae(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{dO(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var i;const n=(i=r.clipboardData)==null?void 0:i.getData("text");n&&n.split("").some(s=>!e.test(s))&&r.preventDefault()}})}},Jp={selector:"AG-INPUT-TEXT-FIELD",component:ta},SR=class extends ta{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const i=parseFloat(this.eInput.value),s=isNaN(i)?"":this.normalizeValue(i.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){xt(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Cn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Cn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Cn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(ae(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const i=this.normalizeValue(r);n=r!=i}if(n)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},TV={selector:"AG-INPUT-NUMBER-FIELD",component:SR},hO=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],RR=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const n=e,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return s.join(` ${r(o,aO[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,i=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:o,numberOfInputs:a}=i||{};return s&&o&&a===0?(r(s,o),o):this.conditionToString(n,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},pO=class extends RR{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function mS(e){const{allowedCharPattern:t}=e??{};return t??null}var kV=class extends cO{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new pO(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return hO}setElementValue(e,t,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=mS(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Hn(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const i=this.createManagedBean(n?new ta({allowedCharPattern:n}):new SR);i.addCssClass(`ag-filter-${r}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=zi(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},fO=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],gO=class extends RR{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function mO(e){const t=e&&e.trim();return t===""?e:t}var AV=class extends uO{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new gO(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ee("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:r,filterText:n})=>e(t,r,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,i,s,o)=>{if(i<o){let a=zi(n.getValue());t&&this.textFilterParams.trimInput&&(a=mO(a)??null,n.setValue(a,!0)),r.push(a)}}),r}getDefaultFilterOptions(){return fO}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Hn(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new ta);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const i=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:o,colDef:a,column:u,context:d,textFormatter:p}=this.textFilterParams;if(r.type==="blank")return this.isBlank(t);if(r.type==="notBlank")return!this.isBlank(t);const f={api:o,colDef:a,column:u,context:d,node:n.node,data:n.data,filterOption:r.type,value:s,textFormatter:p};return i.some(g=>this.matcher({...f,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function vO(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function Xn(e,t=Number.MAX_VALUE){return r=>{const n=vO(r);if(!(n==null||n<e||n>t))return n}}function Gu(e,t){return e.toString().padStart(t,"0")}function OV(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function IV(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function wn(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Gu(i,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Gu(i,2)).join(":")),n}var Qm=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Hu(e,t="YYYY-MM-DD"){const r=Gu(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Gu(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Qm(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Qm(e.getDate())}`,DD:()=>Gu(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Qm(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Hr(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(f=>parseInt(f,10));if(n.filter(f=>!isNaN(f)).length!==3)return null;const[i,s,o]=n,a=new Date(i,s-1,o);if(a.getFullYear()!==i||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[u,d,p]=r.split(":").map(f=>parseInt(f,10));return u>=0&&u<24&&a.setHours(u),d>=0&&d<60&&a.setMinutes(d),p>=0&&p<60&&a.setSeconds(p),a}var CO=class{constructor(e,t,r,n,i){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),i==null||i(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Pt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var r,n;let t=!1;(r=this.dateComp)!=null&&r.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ee("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},wO=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],yO=class extends RR{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},i=r=="inRange"||n===2,s=Hr(e.dateFrom),o=Hr(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const u=s!==null?Hu(s,a):"null",d=o!==null?Hu(o,a):"null";return`${u}-${d}`}return s!=null?Hu(s,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},wP=1e3,yP=1/0,LV=class extends cO{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=wP,this.maxValidYear=yP,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&Hr(t)||null,r&&Hr(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))ee(`DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",wP),this.maxValidYear=t("maxValidYear",yP),this.minValidYear>this.maxValidYear&&ee("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Hr(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Hr(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ee("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new yO(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new CO(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return wO}createValueElement(){const t=Ot(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const s=Ot(this.gos).createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){this.removeItems(e,t,r).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,i,s)=>{i!==e||!t||n>=s||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=wn(n[0])),n.length>1&&(r.dateTo=wn(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...r}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},bR=class extends Q{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Be(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ae(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),i=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!sr(this.beans.gos,"print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return n+i+t}return n+t}setLeft(e){if(ae(e)&&(this.eCell.style.left=`${e}px`),Wt(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&eB(this.ariaEl,t.length)}}},_V="ag-column-first",NV="ag-column-last";function SO(e,t,r,n){return Ve(e)?[]:HV(e.headerClass,e,t,r,n)}function RO(e,t,r){e.addOrRemoveCssClass(_V,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(NV,r.isColAtEdge(t,"last"))}function GV(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function HV(e,t,r,n,i){if(Ve(e))return[];let s;if(typeof e=="function"){const o=GV(t,r,n,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var WV=0,bO=class DO extends Q{constructor(t,r,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=r,this.instanceId=t.getUniqueId()+"-"+WV++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:r,column:n}=this.focusService.getFocusedHeader();return FV(this.gos,t,r,n)}getWrapperHasFocus(){return xt(this.gos)===this.eGui}setGui(t,r){this.eGui=t,this.addDomData(r),r.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),r.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:r,checkMeasuringCallback:n,compBean:i}=t,{animationFrameService:s,resizeObserverService:o,columnModel:a,gos:u}=this.beans,d=y=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:S,paddingBottom:b,borderBottomWidth:E,borderTopWidth:P}=Zo(this.getGui()),F=S+b+E+P,A=r.offsetHeight+F;if(y<5){const T=Ot(u),I=!T||!T.contains(r),L=A==0;if(I||L){s.requestAnimationFrame(()=>d(y+1));return}}a.setColHeaderHeight(this.column,A)};let p=!1,f;const g=()=>{const y=this.column.isAutoHeaderHeight();y&&!p&&v(),!y&&p&&w()},v=()=>{p=!0,d(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),f=o.observeResize(r,()=>d(0))},w=()=>{p=!1,f&&f(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),f=void 0};g(),i.addDestroyFunc(()=>w()),i.addManagedListeners(this.column,{widthChanged:()=>p&&d(0)}),i.addManagedEventListeners({sortChanged:()=>{p&&window.setTimeout(()=>d(0))}}),n&&n(g)}onDisplayedColumnsChanged(){const{comp:t,column:r,beans:n,eGui:i}=this;!t||!r||!i||(RO(t,r,n.visibleColsService),NA(i,n.visibleColsService.getAriaColIndex(r)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Cn(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const r=xt(this.gos),n=t.key===q.LEFT||t.key===q.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),r!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const i=t.key===q.LEFT!==this.gos.get("enableRtl"),s=rO[i?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const i=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Pc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(i+s+r>o)if(o>i+s)r=o-i-s;else return 0}return r}getResizeDiff(t){let r=t.key===q.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),i=this.gos.get("enableRtl");return n&&i!==(n==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case q.PAGE_DOWN:case q.PAGE_UP:case q.PAGE_HOME:case q.PAGE_END:r&&t.preventDefault()}}addDomData(t){const r=DO.DOM_DATA_KEY_HEADER_CTRL;Ho(this.gos,this.eGui,r,this),t.addDestroyFunc(()=>Ho(this.gos,this.eGui,r,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,n){const i=t??r;this.gos.get("preventDefaultOnContextMenu")&&i.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,r),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,r){this.eventService.dispatchEvent({type:t,column:r})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};bO.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Zp=bO,DR=class extends Q{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},BV=class extends Zp{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,n,i){this.comp=e,i=Dc(this,this.beans.context,i),this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,i),this.setupActive(),this.setupWidth(i),this.setupLeft(i),this.setupHover(i),this.setupFocus(i),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(i),this.setupUi(),i.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(i),i.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(i)}),i.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Jr("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ea(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Qa(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(xt(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case q.UP:case q.DOWN:t||e.preventDefault();case q.LEFT:case q.RIGHT:if(t)return;e.stopPropagation();case q.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case q.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Ba(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const s=this.lastFocusEvent,o=!!(s&&s.key===q.TAB);if(s&&o){const a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}setupHover(e){e.createManagedBean(new DR([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new bR(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,r=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(s=>{if(s){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;s.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:r}),t!=null&&t.isFilterActive(this.column)&&r(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var s;const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(s=this.beans.filterManager)==null?void 0:s.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!n?this.updateCompDetails(e,n,r):i.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{let i=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(i=!0),!i&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&ee("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Oe="32.3.3";function VV(e){var t,r;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((r=e.filterManager)!=null&&r.isAggregateFilterPresent())}function zV(e,t,r){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,r)}function UV(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function $V(e,t){var n;const r=e.columnModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function YV(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function qV(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function jV(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function KV(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function QV(e,t){const r=e.columnModel.getCol(t);if(!r){Xe(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function XV(e,t,r){if(t==null)return null;let n=null;const{compName:i,jsComp:s,fwComp:o}=eO.getCompKeys(e,t,CR);return i?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(n=r()),n}var SP={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},RP=["january","february","march","april","may","june","july","august","september","october","november","december"],JV=class extends Q{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],n=this.getFilterModel(!0);if(e){const s=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const u=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,u)),s.delete(a)}),s.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){ee("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){ee("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const u=this.getOrCreateFilterWrapper(a);if(!u){ee("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(u.filterPromise,e[o]))})}else this.allColumnFilters.forEach(s=>{r.push(this.setModelOnFilterWrapper(s.filterPromise,null))});At.all(r).then(()=>{var a;const s=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((u,d)=>{const p=n?n[d]:null,f=s?s[d]:null;$u(p,f)||o.push(u.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new At(r=>{e.then(n=>{typeof n.setModel!="function"&&(ee("filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(t)||At.resolve()).then(()=>r())})})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n}=this;return r.forEach((i,s)=>{const o=this.getModelFromFilterWrapper(i);ae(o)&&(t[s]=o)}),e||Object.entries(n).forEach(([i,s])=>{var o;ae(s)&&!r.has(i)&&((o=this.columnModel.getCol(i))!=null&&o.isFilterAllowed())&&(t[i]=s)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ee("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=s=>s?s.isFilterActive?s.isFilterActive():(ee("Filter is missing isFilterActive() method"),!1):!1,t=!!iS(this.gos),r=s=>{if(!s.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!s.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],i=[];return this.forEachColumnFilter((s,o)=>{e(s)&&(r(o.column)?n.push(s):i.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=i})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>n.column.setFilterActive(r.isFilterActive(),e,t))}forEachColumnFilter(e){return At.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(r=>e(r,t))))}doColumnFiltersPass(e,t,r){const{data:n,aggData:i}=e,s=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?i:n;for(let a=0;a<s.length;a++){const u=s[a];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var r;return(r=this.filterManager)==null?void 0:r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const n=r?this.columnModel.getCol(r):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var r;let t;if(Bm(this.gos))t="agSetColumnFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var r;let t;if(Bm(this.gos))t="agSetColumnFloatingFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let i;const s={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(i,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0},o=this.userComponentFactory.getFilterDetails(n,s,r);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(u=>{i=u,t&&(t.filter=u)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:FA(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){var r;const e=[];this.allColumnFilters.forEach((n,i)=>{let s;n.column.isPrimary()?s=this.columnModel.getColDefCol(i):s=this.columnModel.getCol(i),!(s&&s===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(i))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(r=this.filterManager)==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=u=>{var p;const d=(p=this.getOrCreateFilterWrapper(e))==null?void 0:p.filterPromise;d!=null&&d.then(f=>{u(Nu(f))})},n=e.getColDef(),i={...this.createFilterParams(e,n),filterChangedCallback:()=>r(u=>this.filterChangedCallbackFactory(u,e)())},s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,CR,i);let o=XV(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var i;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(i=this.filterManager)==null||i.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",i={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const i=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,r),filterChangedCallback:this.filterChangedCallbackFactory(s,r),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0,...i}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(r=>{const n=Nu(r);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(Nu(r))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??At.resolve(null):At.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){let o=()=>{};const a=new Promise(u=>{o=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const r=this.columnModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r):null;return n?(o=>new Promise(a=>{o.then(u=>a(u))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,r){const n=Bm(this.gos),i=this.localeService.getLocaleTextFunc(),s=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{n&&s({comparator:(o,a)=>{const u=o==null?0:parseInt(o),d=a==null?0:parseInt(a);return u===d?0:u>d?1:-1}});break}case"boolean":{s(n?{valueFormatter:o=>ae(o.value)?i(String(o.value),o.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&s({valueFormatter:o=>{const a=r(o);return ae(a)?a:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const u=RP[Number(o)-1];return i(u,SP[u])}return o??i("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;s(n?{valueFormatter:a=>{const u=r(a);return ae(u)?u:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const u=o(a??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(a,u)=>{if(u===1&&a!=null){const d=RP[Number(a)-1];return i(d,SP[d])}return a??i("blanks","(Blanks)")}}:{comparator:(a,u)=>{const d=o(u);return u==null||d<a?-1:d>a?1:0}});break}case"object":{n?s({valueFormatter:o=>{const a=r(o);return ae(a)?a:i("blanks","(Blanks)")}}):e.filterValueGetter=o=>r({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function ZV(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function ez(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var tz=class extends ut{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Jp]),this.eFloatingFilterText=Fe}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},EO=class extends ut{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new lO,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}},rz=class extends EO{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Jp]),this.eReadOnlyText=Fe,this.eDateWrapper=Fe}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return wO}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new yO(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(Hr(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Pt(this.eDateWrapper,e),Pt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=wn(e);this.params.parentFilterInstance(r=>{if(r){const n=Hr(t);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=wR(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Pr(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new CO(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},nz=class extends ut{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Jp]),this.eDateInput=Fe}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:r=>{r.target===xt(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&fi(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:s,maxValidDate:o}=e.filterParams||{};if(s&&n&&ee("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&i&&ee("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,u]=[s,o].map(d=>d instanceof Date?d:Hr(d));a&&u&&a.getTime()>u.getTime()&&ee("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?t.min=Hu(s):t.min=s:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=Hu(o):t.max=o:i&&(t.max=`${i}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Hr(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(wn(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:uR()||cR()||fi()&&GA()>=14.1}},PO=class extends Q{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Fe,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new ta((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const r=i=>this.valueChangedListener(i);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},FO=class extends EO{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Fe}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=mp(this.params.filterParams),!this.isReadOnly()){const r=wR(this.params.filterParams,this.getDefaultDebounceMs()),n=Pr(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();tn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===q.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=mO(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},iz=class extends Q{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new SR),this.eFloatingFilterTextInput=this.createManagedBean(new ta),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},sz=class extends FO{init(e){var t;super.init(e),this.filterModelFormatter=new pO(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){mS(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return hO}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=mS(e.filterParams),this.allowedCharPattern?this.createManagedBean(new PO({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new iz)}},oz=class extends FO{init(e){super.init(e),this.filterModelFormatter=new gO(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return fO}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new PO)}};function az(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function lz(e){return e.gos.get("quickFilterText")}function uz(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var cz=class extends Q{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var i;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(i=this.pivotResultColsService.getPivotResultCols())==null?void 0:i.list:r)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(s=>s.isVisible()||s.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return ae(e)?vt(this.gos)?e.toUpperCase():(ee("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ee(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(r=>{const n=this.getQuickFilterTextForColumn(r,e);return ae(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const i=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(i)}return ae(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(r=>{const n=this.getQuickFilterTextForColumn(r,e);ae(n)&&t.push(n)}),t.join(`
`)}},ER={version:Oe,moduleName:"@ag-grid-community/filter-core",beans:[hV]},dz={version:Oe,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:ZV,onFilterChanged:ez},dependantModules:[ER]},PR={version:Oe,moduleName:"@ag-grid-community/column-filter",beans:[JV],dependantModules:[ER]},hz={version:Oe,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:VV,getFilterInstance:zV,getColumnFilterInstance:UV,destroyFilter:$V,setFilterModel:YV,getFilterModel:qV,getColumnFilterModel:jV,setColumnFilterModel:KV,showColumnFilter:QV},dependantModules:[PR,dz]},xO={version:Oe,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:BV}],dependantModules:[PR]},pz={version:Oe,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:tz}],dependantModules:[xO]},fz={version:Oe,moduleName:"@ag-grid-community/simple-filter",dependantModules:[PR],userComponents:[{name:"agTextColumnFilter",classImp:AV},{name:"agNumberColumnFilter",classImp:kV},{name:"agDateColumnFilter",classImp:LV},{name:"agDateInput",classImp:nz}]},gz={version:Oe,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[fz,xO],userComponents:[{name:"agTextColumnFloatingFilter",classImp:oz},{name:"agNumberColumnFloatingFilter",classImp:sz},{name:"agDateColumnFloatingFilter",classImp:rz}]},MO={version:Oe,moduleName:"@ag-grid-community/quick-filter-core",beans:[cz],dependantModules:[ER]},mz={version:Oe,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:az,getQuickFilter:lz,resetQuickFilter:uz},dependantModules:[MO]},vz={version:Oe,moduleName:"@ag-grid-community/quick-filter",dependantModules:[MO,mz]},Cz={version:Oe,moduleName:"@ag-grid-community/filter",dependantModules:[gz,pz,vz,hz]},vS=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(vS||{}),wz=class extends Q{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Ot(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let r;if(typeof e=="string"?(r=this.columnModel.getCol(e),r||(r=this.visibleColService.getColumnGroup(e))):r=e,!r)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),i=n==null?void 0:n.getAllCtrls(),s=Be(i||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,u=r;for(;u;)a++,u=u.getParent();let d=a;return t&&s&&d===o-1&&d++,d===-1?null:{headerRowIndex:d,column:r}}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,i=t.column,s=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:u,headerRowIndexWithoutSpan:d}=o?this.headerPositionUtils.getColumnVisibleParent(i,n):this.headerPositionUtils.getColumnVisibleChild(i,n),p=!1;return a<0&&(a=0,u=i,p=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!p&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:u},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const n=this.focusService.getFocusedHeader(),i=e===2,s=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,i!==s?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const u=this.gos.getCallback("tabToNextHeader");if(u)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let i=null,s;if(t==="Before"?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),i=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!i)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(i.column,i==null?void 0:i.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Wt(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Be(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},yz=class extends Q{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new ea(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var s;const{columnModel:e}=this;let t=0;const r=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),n=this.columnModel.getColumnHeaderRowHeight();if((s=this.filterManager)!=null&&s.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case q.LEFT:t=2;case q.RIGHT:{ae(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case q.UP:t=0;case q.DOWN:{ae(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(xt(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){var i;if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((i=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:i.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!Xs())return;const t=new Ws(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}},FR=class extends Q{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=sr(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),r=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let i;e?i=t+r+n:(i=t,this.addSpacer&&(this.gos.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(i+=this.scrollVisibleService.getScrollbarWidth())),this.callback(i)}},Sz=class extends Q{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function TO(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:i,fakeEvent:s,pinned:o,gos:a,columnModel:u,columnMoveService:d,visibleColsService:p}=e;let{allMovingColumns:f}=e;if(t){const k=[];f.forEach(A=>{var L;let T=null,I=A.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)T=I,I=I.getParent();T!=null?(!!((L=T.getColGroupDef())!=null&&L.marryChildren)?T.getProvidedColumnGroup().getLeafColumns():T.getLeafColumns()).forEach(V=>{k.includes(V)||k.push(V)}):k.includes(A)||k.push(A)}),f=k}const g=f.slice();u.sortColsLikeCols(g);const v=Ez({movingCols:g,draggingRight:r,xPosition:n,pinned:o,gos:a,columnModel:u,visibleColsService:p}),w=Rz(g,u);if(v.length===0)return;const y=v[0];let S=w!==null&&!i;if(t&&(S=w!==null),S&&!s&&(!r&&y>=w||r&&y<=w))return;const b=p.getAllCols(),E=[];let P=null;for(let k=0;k<v.length;k++){const A=v[k],T=d.getProposedColumnOrder(g,A);if(!d.doesOrderPassRules(T))continue;const I=T.filter(H=>b.includes(H));if(P===null)P=I;else if(!Qs(I,P))break;const L=bz(T);E.push({move:A,fragCount:L})}if(E.length===0)return;E.sort((k,A)=>k.fragCount-A.fragCount);const F=E[0].move;if(!(F>u.getCols().length-f.length))return{columns:f,toIndex:F}}function xR(e){const{columns:t,toIndex:r}=TO(e)||{},{finished:n,columnMoveService:i}=e;return!t||r==null?null:(i.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function Rz(e,t){const r=t.getCols(),n=hW(e.map(u=>r.indexOf(u))),i=n[0];return Be(n)-i!==n.length-1?null:i}function bz(e){function t(n){const i=[];let s=n.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let r=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),s=t(e[n+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&r++})}return r}function Dz(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function Ez(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:i,gos:s,columnModel:o,visibleColsService:a}=e;if(s.get("suppressMovableColumns")||t.some(P=>P.getColDef().suppressMovable))return[];const d=Dz(a,i),p=o.getCols(),f=d.filter(P=>To(t,P)),g=d.filter(P=>!To(t,P)),v=p.filter(P=>!To(t,P));let w=0,y=n;if(r){let P=0;f.forEach(F=>P+=F.getActualWidth()),y-=P}if(y>0){for(let P=0;P<g.length;P++){const F=g[P];if(y-=F.getActualWidth(),y<0)break;w++}r&&w++}let S;if(w>0){const P=g[w-1];S=v.indexOf(P)+1}else S=v.indexOf(g[0]),S===-1&&(S=0);const b=[S],E=(P,F)=>P-F;if(r){let P=S+1;const F=p.length-1;for(;P<=F;)b.push(P),P++;b.sort(E)}else{let P=S;const F=p.length-1;let k=p[P];for(;P<=F&&d.indexOf(k)<0;)P++,b.push(P),k=p[P];P=S-1;const A=0;for(;P>=A;)b.push(P),P--;b.sort(E).reverse()}return b}function vp(e){var d;const{pinned:t,fromKeyboard:r,gos:n,ctrlsService:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=(d=i.getHeaderRowContainerCtrl(t))==null?void 0:d.getViewportElement(),{x:u}=e;return a?(r&&(u-=a.getBoundingClientRect().left),n.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),u=a.clientWidth-u),t==null&&!o&&(u+=i.get("center").getCenterViewportScrollLeft()),u):0}function Va(e,t){for(const r of e)r.setMoving(t,"uiColumnMoved")}var bP=7,CS=100,lh=CS/2,Pz=5,Fz=100,xz=class extends Q{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ae(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const r of e){const n=r.getPinned();if(r.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,i=(t||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(i,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const i=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!i){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Ve(e.hDirection))return;const{pinned:s,gos:o,ctrlsService:a}=this,u=vp({x:e.x,pinned:s,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(u),i?this.handleColumnDragWhileSuppressingMovement(e,t,r,u,n):this.handleColumnDragWhileAllowingMovement(e,t,r,u,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e)return;const n=e.filter(i=>!i.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,r)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,r,n,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:u}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:u,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:r}),d=xR({...u,finished:i});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return n?n.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{pinned:a,gos:u,columnModel:d,columnMoveService:p,visibleColsService:f}=this;return{allMovingColumns:t,isFromHeader:r,fromLeft:i,xPosition:n,pinned:a,fromEnter:s,fakeEvent:o,gos:u,columnModel:d,columnMoveService:p,visibleColsService:f}}findFirstAndLastMovingColumns(e){const t=e.length;let r,n;for(let i=0;i<=t;i++){if(!r){const s=e[i];s.getLeft()!=null&&(r=s)}if(!n){const s=e[t-1-i];s.getLeft()!=null&&(n=s)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}highlightHoveredColumn(e,t){var p;const{gos:r,columnModel:n}=this,i=r.get("enableRtl"),s=n.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let o=null,a=null,u=null;for(const f of s){if(a=f.getActualWidth(),o=this.getNormalisedColumnLeft(f,0,i),o!=null){const g=o+a;if(o<=t&&g>=t){u=f;break}}o=null,a=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let f=s.length-1;f>=0;f--){const g=s[f],v=s[f].getParent();if(!v){u=g;break}const w=v==null?void 0:v.getDisplayedLeafColumns();if(w.length){u=Be(w);break}}if(!u)return;o=this.getNormalisedColumnLeft(u,0,i),a=u.getActualWidth()}if(((p=this.lastHighlightedColumn)==null?void 0:p.column)!==u&&this.clearHighlighted(),u==null||o==null||a==null)return;let d;t-o<a/2!==i?d=0:d=1,u.setHighlighted(d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleColsService:n}=this,i=r.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const u=n.getAllCols(),d=u.indexOf(s),p=u.indexOf(o),f=a===0!==i,g=d<p||d===p&&!f;let v=0;if(f?g&&(v-=1):g||(v+=1),p+v===d)return;const w=u[p+v];if(!w)return;const y=this.getNormalisedColumnLeft(w,20,i);return{fromLeft:g,xPosition:y}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=this.findFirstAndLastMovingColumns(e);if(!i||!s||n.column||!t)return{firstMovingCol:i,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==r?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsService:i}=this,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return vp({x:r?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsService:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>bP;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:s,fromEnter:n,fakeEvent:i}),{columns:a,toIndex:u}=TO(o)||{};a&&u!=null&&(this.lastMovedInfo={columns:a,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+lh,this.needToMoveLeft=e>n-lh):(this.needToMoveLeft=e<r+lh,this.needToMoveRight=e>n-lh),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Fz),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var n,i;let e;this.intervalCount++,e=10+this.intervalCount*Pz,e>CS&&(e=CS);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=bP+1)return;if((n=this.dragAndDropService.getDragAndDropImageComponent())==null||n.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const s=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(i=>!i.getColDef().lockPinned);return n.length?(r&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),r&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Mz=class extends Q{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new xz(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Sz(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Tz=class extends Q{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n,i){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,r;const n=()=>{if(Pt(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),u=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",u);const d=new Ws(this.eResize);d.addEventListener("doubleTap",u),e.push(()=>{this.eResize.removeEventListener("dblclick",u),d.removeEventListener("doubleTap",u),d.destroy()})}},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,i(),n())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:i}=this,s=this.normaliseResizeAmount(t),o=i+s,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const u=this.pinnedWidthService.getPinnedLeftWidth(),d=this.pinnedWidthService.getPinnedRightWidth(),p=Pc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(u+d+(s-n)>p)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},kz=class extends Q{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(xt(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new mR),this.cbSelectAll.addCssClass("ag-header-select-all"),Hn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return SA(this.gos)?!0:(ee(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return vt(this.gos)||yi(this.gos)?!0:(ee(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const i={source:n,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&op(e)&&bc(this.column),r=this.column.getColDef().headerCheckboxSelection;let n=!1;return t?n=!0:typeof r=="function"?n=r(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!r,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Az=class extends Zp{constructor(e,t,r){super(e,t,r),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,n,i){this.comp=e,i=Dc(this,this.beans.context,i),this.setGui(t,i),this.updateState(),this.setupWidth(i),this.setupMovingCss(i),this.setupMenuClass(i),this.setupSortableClass(i),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:i}),this.addColumnHoverListener(i),this.setupFilterClass(i),this.setupClassesFromColDef(),this.setupTooltip(i),this.addActiveHeaderMouseListeners(i),this.setupSelectAll(i),this.setupUserComp(i),this.refreshAria(),this.resizeFeature=i.createManagedBean(new Tz(this.getPinned(),this.column,r,e,this)),i.createManagedBean(new DR([this.column],t)),i.createManagedBean(new bR(this.column,t,this.beans)),i.createManagedBean(new ea(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(i),i.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(i)),i.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(i)}),i.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const s=()=>this.checkDisplayName(i);i.addManagedEventListeners({columnValueChanged:s,columnRowGroupChanged:s,columnPivotChanged:s,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),i.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=this.column.getMinWidth(),i=this.column.getMaxWidth(),s=Math.min(Math.max(r+e,n),i);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:r,column:n,ctrlsService:i}=this,{gos:s,columnModel:o,columnMoveService:a,visibleColsService:u}=r,d=this.getPinned(),p=t.getBoundingClientRect().left,f=n.getActualWidth(),g=s.get("enableRtl"),w=vp({x:e===0!==g?p-20:p+f+20,pinned:d,fromKeyboard:!0,gos:s,ctrlsService:i}),y=this.focusService.getFocusedHeader();xR({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:w,pinned:d,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:o,columnMoveService:a,visibleColsService:u,finished:!0}),i.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:r=>{this.menuService.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button"})},showColumnMenuAfterMouseClick:r=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse"})},showFilter:r=>{this.menuService.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{this.beans.sortController.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,n)=>{this.beans.sortController.setSortForColumn(this.column,r,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(r,n)=>{this.setupTooltip(e,r,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new kz(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===q.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===q.ENTER&&this.onEnterKeyDown(e),e.key===q.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof pS)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui,s=this.column.getColDef();!r&&n&&!s.headerComponent&&(r=()=>{const u=i.querySelector(".ag-header-cell-text");return u?u.scrollWidth>u.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:r},a=e.createManagedBean(new ml(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=SO(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(i=>{n.has(i)?n.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:n,dragAndDropService:i,gos:s}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),Va([t],!0)},onDragStopped:()=>Va([t],!1),onDragCancelled:()=>Va([t],!1),onGridEnter:d=>{var p;if(a){const f=((p=d==null?void 0:d.columns)==null?void 0:p.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:d=>{var p;if(a){const f=((p=d==null?void 0:d.columns)==null?void 0:p.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};i.addDragSource(u,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,i=this.beans.columnModel.getGroupRowsHeight(),s=i.reduce((f,g)=>f+=g,0)===0;if(r.addOrRemoveCssClass("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:u}=n,d=u.getColumnHeaderRowHeight();if(o===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${d}px`);return}r.addOrRemoveCssClass("ag-header-span-total",a);let p=0;for(let f=0;f<o;f++)p+=i[i.length-1-f];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${d+p}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(UW(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(xt(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof pS?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Oz=class extends Q{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(i=>{i.getColDef().suppressAutoSize||r.push(i.getColId())}),r.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,r),i={columnsToResize:t,resizeStartWidth:r,resizeRatios:n};let s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){const o=s.getDisplayedLeafColumns(),a=i.groupAfterColumns=o.filter(d=>d.isResizable()),u=i.groupAfterStartWidth=this.getInitialSizeOfColumns(a);i.groupAfterRatios=this.getSizeRatiosOfColumns(a,u)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:u,groupAfterRatios:d}=e,p=[];if(p.push({columns:i,ratios:o,width:t}),a){const f=t-s;p.push({columns:a,ratios:d,width:u-f})}this.columnSizeService.resizeColumnSets({resizeSets:p,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Iz=class extends Q{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Lz=class extends Zp{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,r,n,i){this.comp=e,i=Dc(this,this.beans.context,i),this.setGui(t,i),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(i),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(i),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const s=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();i.createManagedBean(new DR(o,t)),i.createManagedBean(new bR(this.column,t,this.beans)),i.createManagedBean(new Iz(e,this.column)),this.resizeFeature=i.createManagedBean(new Oz(e,r,s,this.column)),i.createManagedBean(new ea(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,o),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=Be(t)===e;if(!r&&!n)return;const i=e.getHighlighted(),s=!!this.getParentRowCtrl().findHeaderCellCtrl(u=>u.getColumnGroupChild().isMoving());let o=!1,a=!1;if(s){const u=this.beans.gos.get("enableRtl"),d=i===1,p=i===0;r&&(u?a=d:o=p),n&&(u?o=p:a=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:n,ctrlsService:i}=this,{gos:s,columnModel:o,columnMoveService:a,visibleColsService:u}=t,d=s.get("enableRtl"),p=e===0,f=this.getPinned(),g=r.getBoundingClientRect(),v=g.left,w=g.width,y=vp({x:p!==d?v-20:v+w+20,pinned:f,fromKeyboard:!0,gos:s,ctrlsService:i}),S=n.getGroupId(),b=this.focusService.getFocusedHeader();xR({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:f,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:o,columnMoveService:a,visibleColsService:u,finished:!0});const E=n.getDisplayedLeafColumns(),P=p?E[0]:Be(E);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(P,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&b&&this.restoreFocus(S,n,b)}restoreFocus(e,t,r){const n=t.getLeafColumns();if(!n.length)return;const i=n[0].getParent();if(!i)return;const s=this.findGroupWidthId(i,e);s&&this.focusService.focusHeaderPosition({headerPosition:{...r,column:s}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,i)=>{this.setupTooltip(e,n,i)}}),r=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),i=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!r&&i&&!(n!=null&&n.headerGroupComponent)&&(r=()=>{const a=s.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:r};n&&(o.getColDef=()=>n),e.createManagedBean(new ml(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=SO(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const r=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());r.forEach(i=>{e.addManagedListeners(i,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===q.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:n,gos:i,dragAndDropService:s}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let u=!i.get("suppressDragLeaveHidesColumns");const d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{u=!i.get("suppressDragLeaveHidesColumns"),Va(a,!0)},onDragStopped:()=>Va(a,!1),onDragCancelled:()=>Va(a,!1),onGridEnter:p=>{if(u){const{columns:f=[],visibleState:g}=p??{},v=f.filter(w=>!w.getColDef().lockVisible&&(!g||g[w.getColId()]));o.setColsVisible(v,!0,"uiColumnMoved")}},onGridExit:p=>{var f;if(u){const g=((f=p==null?void 0:p.columns)==null?void 0:f.filter(v=>!v.getColDef().lockVisible))||[];o.setColsVisible(g,!1,"uiColumnMoved")}}};s.addDragSource(d,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(o=>r[o.getId()]=o.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(n.push(o),Fr(t,o))}),t.forEach(o=>n.push(o));const i=[],s=e.getLeafColumns();for(const o of n)s.indexOf(o)!==-1&&i.push(o);return{columns:n,columnsInSplit:i,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},_z=0,Xm=class extends Q{constructor(e,t,r){super(),this.instanceId=_z++,this.rowIndex=e,this.pinned=t,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=sr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,r=!0){this.comp=e,t=Dc(this,this.beans.context,t),r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Th(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=sr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,r=[],n=e.getGroupRowsHeight(),i=e.getColumnHeaderRowHeight();r.push(...n),r.push(i),t!=null&&t.hasFloatingFilters()&&r.push(e.getFloatingFiltersHeight());let s=0;for(let a=0;a<this.rowIndex;a++)s+=r[a];const o=r[this.rowIndex];return{topOffset:s,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusService:i,visibleColsService:s}=this.beans;return i.isHeaderWrapperFocused(n)?s.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,i]of e)r(i)?this.headerCellCtrls.set(n,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new Lz(e,this.beans,this));break;default:n=this.createBean(new Az(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:r}=this.beans;return["left",null,"right"].forEach(n=>{const i=r.getHeadersToRender(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let r;return typeof e=="function"?r=t.find(e):r=t.find(n=>n.getColumnGroupChild()==e),r}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},Nz=class extends Q{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Xa,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<a;u++){const d=this.createBean(new Xm(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(d)}},i=()=>{const a=t.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new Xm(a,this.pinned,"column")))},s=()=>{var d;this.includeFloatingFilter=!!((d=this.filterManager)!=null&&d.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const u=t.next();if(this.filtersRowCtrl){const p=this.filtersRowCtrl.getRowIndex()!==u;(!e||p)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Xm(u,this.pinned,"filter")))};n(),i(),s();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}getHeaderCtrlForColumn(e){var t;if($s(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,r):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Mz(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new FR(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const i=n==0,s=this.hidden!==i,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!i),s&&(this.hidden=i,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}},MR=class extends Q{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ee(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},Gz=class extends ut{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Fe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==q.TAB||e.defaultPrevented||Ui(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=this.focusService.focusGridView(Be(this.visibleColsService.getAllCols()),!0,!1):r=this.focusService.focusNextGridCoreContainer(!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",t.autoHeight),r.toggle("ag-layout-normal",t.normal),r.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new MR(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.focusService.isGridFocused()){const i=xt(this.gos);i&&!mA(this.gos)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!i)return;if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var u;(u=o.refresh)==null||u.call(o,this.gos.addGridCommonParams({...a??{}}))})}const s=this.focusService;r&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),tn(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},kO=class extends ut{constructor(e,t){super(),this.direction=t,this.eViewport=Fe,this.eContainer=Fe,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",HA()||Xs())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=BA(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();eW(()=>gi(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},Hz=class extends kO{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Fe,this.eRightSpacer=Fe}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new FR(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();r&&(t+=n),Gn(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(i+=n),Gn(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=r?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),_u(this.getGui(),s),_u(this.eViewport,s),_u(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return pp(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){gi(this.getViewportElement())||this.attemptSettingScrollPosition(e),fp(this.getViewportElement(),e,this.enableRtl)}},AO=class extends Q{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Wz=class extends kO{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new AO(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Gn(this.getGui(),n),Gn(this.eViewport,n),Gn(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),i=r.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!gi(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},wS=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(wS||{}),Bz=class extends Q{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Pr(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Pr(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(wS)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?Pr(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?Pr(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(wS),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);fp(r,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=pp(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!Xs()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=hR(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&hp()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&hp()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),fp(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let n=-1;for(let i=0;i<r;i++){const s=this.rowModel.getRow(i);if(typeof e=="function"){if(s&&e(s)){n=i;break}}else if(e===s||e===s.data){n=i;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(sr(this.gos,"print"))return;const r=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=r){ee("Invalid row index for ensureIndexVisible: "+e);return}const i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var p;i||(p=this.paginationService)==null||p.goToPageWithIndex(e);const s=this.ctrlsService.getGridBodyCtrl(),o=s.getStickyTopHeight(),a=s.getStickyBottomHeight(),u=this.rowModel.getRow(e);let d;do{const f=u.rowTop,g=u.rowHeight,v=this.pageBoundsService.getPixelOffset(),w=u.rowTop-v,y=w+u.rowHeight,S=this.getVScrollPosition(),b=this.heightScaler.getDivStretchOffset(),E=S.top+b,P=S.bottom+b,F=P-E,k=this.heightScaler.getScrollPositionForPixel(w),A=this.heightScaler.getScrollPositionForPixel(y-F),T=Math.min((k+A)/2,w),I=E+o>w,L=P-a<y;let H=null;t==="top"?H=k:t==="bottom"?H=A:t==="middle"?H=T:I?H=k-o:L&&(H=A+a),H!==null&&(this.setVerticalScrollPosition(H),this.rowRenderer.redraw({afterScroll:!0})),d=f!==u.rowTop||g!==u.rowHeight}while(d);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getCol(e);if(!r||r.isPinned()||!this.visibleColsService.isColDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||i,u=o?n:r;t!=="auto"&&(a=t==="start",u=t==="end");const d=t==="middle";if(a||u||d){const{colLeft:p,colMiddle:f,colRight:g}=this.getColumnBounds(e);return d?f-s/2:a?o?g:p:o?p-s:g-s}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:r<i,a=s?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?r-i:i,a=o+n*s,u=o+n/2*s;return{colLeft:o,colMiddle:u,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},Vz=class extends Q{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Pc(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.columnModel.setColsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=t+r;if(n<e)return[];const i=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let o=0,a=0;const u=0,d=[];let p=n-u-e;for(;(a<i.length||o<s.length)&&p>0;){if(o<s.length){const f=s[o++];p-=f.getActualWidth(),d.push(f)}if(a<i.length&&p>0){const f=i[a++];p-=f.getActualWidth(),d.push(f)}}return d}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=hR(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},zz=class extends Q{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ji(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Ji(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},Uz=class extends ut{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[vR]),this.eCheckbox=Fe}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=lR(e,t),[n,i]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,i);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Ka(n),click:n=>{Ka(n);const i=nR(this.gos)==="filteredDescendants",s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,i)?this.onClicked(!0,i,n||{})===0&&this.onClicked(!1,i,n):s?this.onClicked(!1,i,n):this.onClicked(!0,i,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),rR(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&vt(this.gos)}showOrHideSelect(){var i,s,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(i=this.overrides)==null?void 0:i.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const u=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...u})}}else e=t??!1;const r=this.gos.get("rowSelection");if(r&&typeof r!="string"?!sW(r):(s=this.column)==null?void 0:s.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,r;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?ja(e):(r=(t=this.column)==null?void 0:t.getColDef())==null?void 0:r.checkboxSelection}},$z=class extends ut{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(Jr("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},Yz=class extends Q{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},qz=class extends Q{constructor(e,t,r,n,i){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=i}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case q.ENTER:this.onEnterKeyDown(e);break;case q.F2:this.onF2KeyDown(e);break;case q.ESCAPE:this.onEscapeKeyDown(e);break;case q.TAB:this.onTabKeyDown(e);break;case q.BACKSPACE:case q.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case q.DOWN:case q.UP:case q.RIGHT:case q.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:i}=this,{gos:s,rangeService:o,eventService:a}=n;if(!r.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),MV(e,s.get("enableCellEditingOnBackspace"))){if(o&&Ji(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const u=r.getColumn(),d=this.beans.valueService.getDeleteValue(u,i);i.setDataValue(u,d,"cellClear")}}else r.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?q.UP:q.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(q.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(q.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&ip(t)){const r=this.rowNode.isSelected(),n=!r,i=nR(t)==="filteredDescendants",s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});r===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},jz=class extends Q{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!Ui(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:n}=this.beans,i=e.ctrlKey||e.metaKey;r&&i&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Xs()||EA("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventService:i,frameworkOverrides:s,gos:o}=r,a=t.getColDef(),u=n.createEvent(e,"cellDoubleClicked");i.dispatchEvent(u),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(u)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:u,focusService:d,gos:p}=o;if(this.isRightClickInExistingRange(e))return;const f=u&&u.getCellRanges().length!=0;if(!n||!f){const v=p.get("enableCellTextSelection")&&e.defaultPrevented,w=(fi()||v)&&!s.isEditing()&&!dR(i);s.focusCell(w)}if(n&&f&&!d.isCellFocused(s.getCellPosition())){e.preventDefault();const g=d.getFocusedCell();if(g){const{column:v,rowIndex:w,rowPinned:y}=g,S=o.rowRenderer.getRowByPosition({rowIndex:w,rowPinned:y}),b=S==null?void 0:S.getCellCtrl(v);b!=null&&b.isEditing()&&b.stopEditing(),d.setFocusedCell({column:v,rowIndex:w,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(i)){if(u){const g=this.cellCtrl.getCellPosition();if(n)u.extendLatestRangeToCell(g);else{const v=t||r;u.setRangeToCell(g,v)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return Ba(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},Kz=class extends Q{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Qs(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let i=0;r&&i<e&&(t.push(r),r=this.beans.visibleColsService.getColAfter(r),!(!r||Ve(r)||n!==r.getPinned()));i++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Be(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=Mo(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},mu="ag-cell-range-selected",Qz="ag-cell-range-chart",Xz="ag-cell-range-single-cell",Jz="ag-cell-range-chart-category",Zz="ag-cell-range-handle",eU="ag-cell-range-top",tU="ag-cell-range-right",rU="ag-cell-range-bottom",nU="ag-cell-range-left",iU=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(mu,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${mu}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${mu}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${mu}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${mu}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(Qz,this.hasChartRange),cp(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Xz,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(eU,r),this.cellComp.addOrRemoveCssClass(tU,n),this.cellComp.addOrRemoveCssClass(rU,i),this.cellComp.addOrRemoveCssClass(nU,s)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>To([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,n=!1,i=!1;const s=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,u;e?(a=o.getColAfter(s),u=o.getColBefore(s)):(a=o.getColBefore(s),u=o.getColAfter(s));const d=this.rangeService.getCellRanges().filter(p=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),p));a||(i=!0),u||(r=!0);for(let p=0;p<d.length&&!(t&&r&&n&&i);p++){const f=d[p],g=this.rangeService.getRangeStartRow(f),v=this.rangeService.getRangeEndRow(f);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!i&&a&&f.columns.indexOf(a)<0&&(i=!0),!r&&u&&f.columns.indexOf(u)<0&&(r=!0)}return{top:t,right:r,bottom:n,left:i}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Zz,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const n=Be(t),i=this.cellCtrl.getCellPosition(),s=lP(e)&&!this.cellCtrl.isSuppressFillHandle(),o=uW(e);let a=r===1&&!this.cellCtrl.isEditing()&&(s||o);if(this.hasChartRange){const d=t[0].type===1&&this.rangeService.isCellInSpecificRange(i,t[0]);this.cellComp.addOrRemoveCssClass(Jz,d),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,i)}addSelectionHandle(){const e=Be(this.rangeService.getCellRanges()).type,r=lP(this.beans.gos)&&Ve(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},sU="ag-cell",oU="ag-cell-auto-height",aU="ag-cell-normal-height",lU="ag-cell-focus",uU="ag-cell-first-right-pinned",cU="ag-cell-last-left-pinned",dU="ag-cell-not-inline-editing",hU="ag-column-hover",pU="ag-cell-wrap-text",fU=0,OO=class yS extends Q{constructor(t,r,n,i){super(),this.column=t,this.rowNode=r,this.beans=n,this.rowCtrl=i,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+fU++,this.colIdSanitised=ai(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new Kz(this,this.beans),this.cellCustomStyleFeature=new Yz(this,this.beans),this.cellMouseListenerFeature=new jz(this,this.beans,this.column),this.cellKeyboardListenerFeature=new qz(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Ji(this.beans.gos)&&(this.cellRangeFeature=new iU(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,r){const n=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&ae(a))return Lu(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const u=o.tooltipValueGetter;return u?u(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},i=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&i&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new ml(s,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,r,n,i,s,o){var a,u,d,p;this.cellComp=t,this.eGui=r,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(r),(u=this.cellCustomStyleFeature)==null||u.setComp(t),(d=this.tooltipFeature)==null||d.refreshToolTip(),(p=this.cellKeyboardListenerFeature)==null||p.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(f=>f()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,r){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,i=Us(this.beans.gos,this.rowNode).height,s=u=>{if(this.editing||!this.isAlive()||!r.isAlive())return;const{paddingTop:d,paddingBottom:p,borderBottomWidth:f,borderTopWidth:g}=Zo(n),v=d+p+f+g,y=t.offsetHeight+v;if(u<5){const b=Ot(this.beans.gos),E=!b||!b.contains(t),P=y==0;if(E||P){window.setTimeout(()=>s(u+1),0);return}}const S=Math.max(y,i);this.rowNode.setRowAutoHeight(S,this.column)},o=()=>s(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);r.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var g;const{beans:r,column:n,rowNode:i,cellRangeFeature:s,cellComp:o}=this,{userComponentFactory:a,animationFrameService:u}=r,d=this.getValueToDisplay();let p;if(i.stub&&((g=i.groupData)==null?void 0:g[this.column.getId()])==null){const v=this.createCellRendererParams();p=a.getLoadingCellRendererDetails(n.getColDef(),v)}else if(this.isCellRenderer()){const v=this.createCellRendererParams();p=a.getCellRendererDetails(n.getColDef(),v)}o.setRenderDetails(p,d,t),u.requestAnimationFrame(()=>s==null?void 0:s.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:r}=this.beans.gridOptions;return t.checkboxSelection||bc(this.column)&&r&&typeof r!="string"&&ja(r)}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return r||n||i||s}startEditing(t=null,r=!1,n=null){const{editService:i}=this.beans;return!this.isCellEditable()||this.editing||!i?!0:this.cellComp?i.startEditing(this,t,r,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,n)}),!0)}setEditing(t,r){this.editCompDetails=r,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:r}=this.beans;return!this.editing||!r?!1:r.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,n,i,s)=>this.registerRowDragger(r,n,s),setTooltip:(r,n)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,n),(i=this.tooltipFeature)==null||i.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var p,f,g,v,w;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),n=t!=null&&!!t.newData,i=t!=null&&!!t.suppressFlash||!!r.suppressCellFlash,s=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,o=t&&t.forceRefresh||s||n,a=!!this.cellComp,u=this.updateAndFormatValue(a),d=o||u;if(a){if(d){this.showValue(n);const y=(p=this.beans.filterManager)==null?void 0:p.isSuppressFlashingCellsBecauseFiltering();!i&&!y&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),(f=this.cellCustomStyleFeature)==null||f.applyUserStyles(),(g=this.cellCustomStyleFeature)==null||g.applyClassesFromColDef()}(v=this.tooltipFeature)==null||v.refreshToolTip(),(w=this.cellCustomStyleFeature)==null||w.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,r)}flashCell(t){const r=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",r,n)}animateCell(t,r,n){if(!this.cellComp)return;const{gos:i}=this.beans;if(r||(r=i.get("cellFlashDuration")),r===0)return;ae(n)||(n=i.get("cellFadeDuration"));const s=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,r){const n=this.column.getColDef();return n.equals?n.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const r=this.getGui();Ho(this.beans.gos,r,yS.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Ho(this.beans.gos,r,yS.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:n}=this;RO(t,r,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);NA(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Cn(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(uU,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(cU,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(lU,r),r&&t&&t.forceBrowserFocus){let i=this.cellComp.getFocusableElement();if(this.editing){const s=this.beans.focusService.findFocusableElements(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:zi(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(sU,!0),this.cellComp.addOrRemoveCssClass(dU,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(oU,t),this.cellComp.addOrRemoveCssClass(aU,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(hU,t)}onColDefChanged(){var r;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(r=this.beans.editService)==null||r.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(pU,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Uz;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new $z(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const i=this.createRowDragComp(t,r,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(t,r,n){const i=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),o=vt(this.beans.gos);if(s){if(!o){ee("managed row dragging is only allowed in the Client Side Row Model");return}if(i){ee("managed row dragging is not possible when doing pagination");return}}const a=new fS(()=>this.value,this.rowNode,this.column,t,r,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};OO.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var ko=OO,gU=0,IO=class SS extends Q{constructor(t,r,n,i,s){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=((o=r.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=i,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+gU++,this.rowId=ai(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ai(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,r){t==="left"?this.leftGui=r:t==="right"?this.rightGui=r:t==="fullWidth"?this.fullWidthGui=r:this.centerGui=r}setComp(t,r,n,i){i=Dc(this,this.beans.context,i);const s={rowComp:t,element:r,containerType:n,compBean:i};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),ip(r)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(s=>n.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&up(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Ho(r,t.element,SS.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Ho(r,t.element,SS.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=ai(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(oP(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(oP(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(Ji(this.gos)){ee("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),n=new fS(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),i=this.createBean(n,this.beans.context);this.rowDragComps.push(i),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&r&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),r=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&Kp(this.gos,i);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,n=null){const i={list:[],map:{}},s=(o,a)=>{i.list.push(a),i.map[o]=a};return r.forEach(o=>{const a=o.getInstanceId();let u=t.map[a];u||(u=new ko(o,this.rowNode,this.beans,this)),s(a,u)}),t.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(i.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,n)){s(a,o);return}o.destroy()}),i}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const n=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,r=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=r.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const s=r.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const d=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(d)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||sr(this.gos,"print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=ae(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),i=this.beans.visibleColsService.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,u)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,u).params):!0,r=t(this.fullWidthGui,null),n=t(this.centerGui,null),i=t(this.leftGui,"left"),s=t(this.rightGui,"right");return r&&n&&i&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const n=t===0,i=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),up(n.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:zi(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(r=>r.element.contains(t))}onKeyboardNavigate(t){const r=this.findFullWidthRowGui(t.target);if(!((r?r.element:null)===t.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(r)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Ui(t))return;const r=this.allRowGuis.find(u=>u.element.contains(t.target)),n=r?r.element:null,i=n===t.target,s=xt(this.gos);let o=!1;n&&s&&(o=n.contains(s)&&s.classList.contains("ag-cell"));let a=null;!i&&!o&&(a=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&i||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var r;const t=(r=this.allRowGuis.find(n=>gi(n.element)))==null?void 0:r.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const r=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{Cn(n.element,"tabindex",r)})}onFullWidthRowFocused(t){var s;const r=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,i=this.fullWidthGui?this.fullWidthGui.element:(s=this.centerGui)==null?void 0:s.element;i&&(i.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const n={list:[],map:{}};return t.list.forEach(i=>{i!==r&&(n.list.push(i),n.map[i.getColumn().getInstanceId()]=i)}),n}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const n=this.createRowEvent(t,r);return n.source=this,n}onRowDblClick(t){Ui(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:r}=this.beans;switch(t==null?void 0:t.containerType){case"center":return r.getCenterCols()[0];case"left":return r.getLeftCols()[0];case"right":return r.getRightCols()[0];default:return r.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Ba(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),i=n==null?void 0:n.element,s=t.target;let o=!0;i&&i.contains(s)&&dR(s)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:r.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Ui(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const i=t.ctrlKey||t.metaKey,s=t.shiftKey,o=this.rowNode.isSelected(),a=Wo(n),u=uP(n),d=cW(n);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!d&&!o||!u&&o)return;const p=dW(n),f="rowClicked";if(o)p?this.rowNode.setSelectedParams({newValue:!1,event:t,source:f}):i?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:f}):d&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:f});else{const g=p?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:g,rangeSelect:s,event:t,source:f})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!ip(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const i=t.clientHeight;if(i!=null&&i>0){const s=()=>{this.rowNode.setRowHeight(i),(vt(this.gos)||yi(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(s,0)}},n=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(n),r()}createFullWidthCompDetails(t,r){const{gos:n,rowNode:i}=this,s=n.addGridCommonParams({fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,u,d,p)=>this.addFullWidthRowDragging(a,u,d,p),setTooltip:(a,u)=>this.refreshRowTooltip(a,u)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(s);default:return o.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new ml(n,this.beans))}addFullWidthRowDragging(t,r,n="",i){if(!this.isFullWidth())return;const s=new fS(()=>n,this.rowNode,void 0,t,r,i);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(r,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){var r;this.stoppingRowEdit||(r=this.beans.rowEditService)==null||r.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(r=>r.isEditing());this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,r=null,n=null){var i;return this.editingRow?!0:((i=this.beans.rowEditService)==null?void 0:i.startEditing(this,t,r,n))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ee("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let n;if(r){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=r(i)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),cp(n.element,r),n.element.contains(xt(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!uP(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:r,compBean:n}=t,{rowNode:i,beans:s,gos:o}=this;n.addManagedListeners(r,{mouseenter:()=>i.onMouseEnter(),mouseleave:()=>i.onMouseLeave()}),n.addManagedListeners(i,{mouseEnter:()=>{!s.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(r.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{r.classList.remove("ag-row-hover"),i.setHovered(!1)}})}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,i=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,t),i)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=fA(this.gos)?Us(this.gos,this.rowNode).height:void 0,o=s?`${Math.min(n,s)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Wa(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var r;const t=((r=this.beans.paginationService)==null?void 0:r.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(r?1:-1)}setRowTop(t){if(!this.printLayout&&ae(t)){const r=this.applyPaginationOffset(t),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(s)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const r=this.rowNode;let n;if(this.isSticky())n=r.stickyRowTop;else{const i=this.slideInAnimation[t]?this.roundRowTopToBounds(r.oldRowTop):r.rowTop,s=this.applyPaginationOffset(i);n=r.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(r=n)}),r!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const r=this.rowNode.getRowIndexString();if(r===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,s=n+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),JW(a.element,s)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};IO.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Ao=IO,mU=class extends Q{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",EA("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Ui(t))return;const r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Xs())return;const e=new Ws(this.element),t=r=>{const n=this.getRowForEvent(r.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,i)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=Yu(this.gos,t,Ao.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,n){const i=r?r.getRowNode():null,s=n?n.getColumn():null;let o=null;if(s){const d=e||t;n.dispatchCellContextMenuEvent(d??null),o=this.valueService.getValue(s,i)}const a=this.ctrlsService.getGridBodyCtrl(),u=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:i,column:s,value:o,anchorToElement:u})}getControlsForEventTarget(e){return{cellCtrl:sS(this.gos,e,ko.DOM_DATA_KEY_CELL_CTRL),rowCtrl:sS(this.gos,e,Ao.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=e.getRowNode(),i=e.getColumn(),s=e.isEditing();!gS(this.gos,r,n,i,s)&&t==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),dO(r)&&e.processCharacter(r)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const n=e.getRowNode(),i=this.focusService.getFocusedCell(),s=i&&i.column;if(!gS(this.gos,r,n,s,!1)){const a=r.key;if(t==="keydown")switch(a){case q.PAGE_HOME:case q.PAGE_END:case q.PAGE_UP:case q.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case q.UP:case q.DOWN:e.onKeyboardNavigate(r);break;case q.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=xV(e);if(r===q.A)return this.onCtrlAndA(e);if(r===q.C)return this.onCtrlAndC(e);if(r===q.D)return this.onCtrlAndD(e);if(r===q.V)return this.onCtrlAndV(e);if(r===q.X)return this.onCtrlAndX(e);if(r===q.Y)return this.onCtrlAndY();if(r===q.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[i,s]=[t.isEmpty("top"),t.isEmpty("bottom")],o=i?null:"top";let a,u;s?(a=null,u=r.getRowCount()-1):(a="bottom",u=t.getPinnedBottomRowCount()-1);const d=this.visibleColsService.getAllCols();if(Zr(d))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:u,rowEndPinned:a,columnStart:d[0],columnEnd:Be(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},vU=class extends Q{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Pt(this.element,t),Gn(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},CU=class extends Q{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Pt(this.element,t),Gn(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},uh=e=>e.getTopRowCtrls(),ch=e=>e.getStickyTopRowCtrls(),dh=e=>e.getStickyBottomRowCtrls(),hh=e=>e.getBottomRowCtrls(),ph=e=>e.getCentreRowCtrls(),wU={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:ph},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:ph},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:ph},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:ph},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:uh},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:uh},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:uh},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:uh},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:ch},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:ch},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:ch},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:ch},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:dh},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:dh},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:dh},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:dh},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:hh},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:hh},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:hh},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:hh}};function Ga(e){return wU[e]}var yU=["topCenter","topLeft","topRight"],SU=["bottomCenter","bottomLeft","bottomRight"],RU=["center","left","right"],bU=["center","left","right","fullWidth"],DU=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],EU=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],PU=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],LO=["stickyTopCenter","stickyTopLeft","stickyTopRight"],_O=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],FU=[...LO,"stickyTopFullWidth",..._O,"stickyBottomFullWidth"],xU=[...yU,...SU,...RU,...LO,..._O],MU=class extends Q{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Ga(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Vz(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new mU(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(EU,()=>{this.pinnedWidthFeature=this.createManagedBean(new vU(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(PU,()=>{this.pinnedWidthFeature=this.createManagedBean(new CU(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(bU,()=>this.createManagedBean(new AO(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(xU,()=>this.createManagedBean(new zz(this.eContainer))),this.forContainers(DU,()=>this.createManagedBean(new FR(i=>this.comp.setContainerWidth(`${i}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(FU.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=sr(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Pc(this.eViewport)}getCenterViewportScrollLeft(){return pp(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return $A(this.eViewport)}getViewportScrollLeft(){return pp(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||cB(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){fp(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=sr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||r,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},TU="ag-force-vertical-scroll",kU="ag-selectable",AU="ag-column-moving",OU=class extends Q{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,n,i,s,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${Ga("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${Ga("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Ga("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Ga("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new MR(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Bz(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,i,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,i=Ba(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:r=>{const{target:n,relatedTarget:i}=r,s=t.contains(i),o=Ba(i,"ag-root",t);Ba(n,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(AU,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(kU,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=BA()?16:0,n=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(hS(n)===null){this.rowRenderer.stopEditing();return}let i=t.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!i){const s=this.popupService;i=s.getActivePopups().some(o=>o.contains(n))||s.isElementWithinCustomPopup(n)}i||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedElementListeners(r,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?TU:null,r=sr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&dB(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const r=e&&Wa(this.gos)&&!this.rowContainerHeightService.isStretching(),n=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,r)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,i=n||Math.abs(t)>Math.abs(r),s=e.target;i?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Xs())return;const t=new Ws(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new aV(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var i;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+r;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=Pc(this.eGridBody)-n;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ee("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function vu(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${vu(["topLeft","topCenter","topRight","topFullWidth"])}${vu(["left","center","right","fullWidth"])}${vu(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${vu(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${vu(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var IU=class extends Q{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:aB();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},DP="__ag_grid_instance",NO=class GO extends Q{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=GO.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[DP]=this.gridInstanceId}getRenderedCellForEvent(t){return sS(this.gos,t.target,ko.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let r=t;for(;r;){const n=r[DP];if(ae(n))return n===this.gridInstanceId;r=r.parentElement}return!1}getCellPositionForEvent(t){const r=this.getRenderedCellForEvent(t);return r?r.getCellPosition():null}getNormalisedPosition(t){const r=sr(this.gos,"normal"),n=t;let i,s;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,s=n.clientY):(i=n.x,s=n.y),r){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),u=o.getScrollFeature().getHScrollPosition();i+=u.left,s+=a.top}return{x:i,y:s}}};NO.gridInstanceSequence=new Xa;var LU=NO,_U=class extends Q{constructor(){super(),this.beanName="navigationService",this.onPageDown=aP(this.onPageDown,100),this.onPageUp=aP(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case q.PAGE_HOME:case q.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case q.LEFT:case q.RIGHT:case q.UP:case q.DOWN:if(!o)return!1;i&&!n&&!s&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case q.PAGE_DOWN:case q.PAGE_UP:!i&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===q.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:i,focusColumn:s}=e;ae(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),ae(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:i,rowPinned:null,column:s})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.pageBoundsService.getPixelOffset(),s=r.top+n,o=this.rowModel.getRowIndexAtPixel(s+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),i=r.top,s=this.rowModel.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,r=!1){const n=this.getViewportHeight(),i=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),u=r?(a==null?void 0:a.rowHeight)-n-o:n-o,d=(a==null?void 0:a.rowTop)+u;let p=this.rowModel.getRowIndexAtPixel(d+o);if(p===e.rowIndex){const g=r?-1:1;t=p=e.rowIndex+g}let f;r?(f="bottom",p<i&&(p=i),t<i&&(t=i)):(f="top",p>s&&(p=s),t>s&&(t=s)),this.isRowTallerThanView(p)&&(t=p,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),i=this.pageBoundsService.getLastRow();let s=0,o=e.rowIndex;for(;o>=0&&o<=i;){const a=this.rowModel.getRow(o);if(a){const u=a.rowHeight??0;if(s+u>n)break;s+=u}o+=r}return Math.max(0,Math.min(o,i))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(r-=t),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,i=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===q.PAGE_HOME,r=this.visibleColsService.getAllCols(),n=t?r[0]:Be(r),i=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(r);return}if(r){const{rowIndex:i,rowPinned:s}=e.getRowPosition();(s?i===0:i===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof ko&&e.focusCell(!0),(!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,r){let n=e.isEditing();if(!n&&e instanceof ko){const o=e.getRowCtrl();o&&(n=o.isEditing())}let i;return n?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,r):i=this.moveToNextEditingCell(e,t,r):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return i===!1?null:i==null?!1:(i.startEditing(null,!0,r),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!0);if(i===!1)return null;if(i==null)return!1;const s=i.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(s),u=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return o&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),i.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.visibleColsService.getAllCols();let n;e instanceof Ao?n={...e.getRowPosition(),column:t?r[0]:Be(r)}:n=e.getCellPosition();const i=this.findNextCellToFocusOn(n,t,!1);if(i===!1)return null;if(i instanceof ko)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return ae(i)}findNextCellToFocusOn(e,t,r){var i;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const s=this.gos.getCallback("tabToNextCell");if(ae(s)){const d=s({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(d===!0||d===null)d===null&&ee("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(d===!1)return!1;n={rowIndex:d.rowIndex,column:d.column,rowPinned:d.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const u=this.rowRenderer.getRowByPosition(n);if(!u||!u.isFullWidth()||r)continue;return u}if(!a.isSuppressNavigable())return(i=this.rangeService)==null||i.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,r,n){let i=r,s=!1;for(;i&&(i===r||!this.isValidNavigateCell(i));)this.gos.get("enableRtl")?t===q.LEFT&&(i=this.getLastCellOfColSpan(i)):t===q.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),s=Ve(i);if(s&&e&&e.key===q.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(ae(a)){const d=a({key:t,previousCellPosition:r,nextCellPosition:i||null,event:e});ae(d)?i={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}:i=null}}if(!i)return;if(i.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(i);o?this.focusPosition(o):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const r=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const i=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Be(r):r[0])};this.focusPosition(s);const o=t??(i!=null&&this.rowPositionUtils.before(s,i));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Be(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=jp(this.gos),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&Ve(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},NU=class extends Q{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},GU=class extends Q{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let n=-1,i="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,i="right");const o=s?void 0:4*n,a=s?void 0:4;this.showPopup(e,u=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:u,nudgeX:o,nudgeY:a,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},r,t,s)}showPopup(e,t,r,n,i){const s=e?this.createBean(new pV(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(s!=null&&s.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");Hn(o,"presentation"),o.classList.add("ag-menu"),i||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:w=>this.trapFocusWithin(w,o)}),o.appendChild(s==null?void 0:s.getGui());let a;const u=()=>s==null?void 0:s.afterGuiDetached(),d=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,p=w=>{e.setMenuVisible(!1,"contextMenu");const y=w instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&gi(n)){const S=this.focusService.findTabbableParent(n);S&&S.focus()}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},f=this.localeService.getLocaleTextFunc(),g=i&&r!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),v=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(o),anchorToElement:d,ariaLabel:g});v&&(this.hidePopup=a=v.hideFunc),s.afterInit().then(()=>{t(o),s.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==q.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},HU=class extends Q{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=gA(this.gos).ResizeObserver,i=n?new n(t):null;return i==null||i.observe(e),()=>i==null?void 0:i.disconnect()}},WU=class extends Q{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var r;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((r=this.paginationService)==null?void 0:r.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ee(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,i=n.list,s=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const u=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;u||a<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let f;if(r.length)this.sortTaskList(t),f=r.pop().task;else if(i.length)this.sortTaskList(n),f=i.pop().task;else if(s.length)f=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}a=new Date().getTime()-o}r.length||i.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=gA(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},BU=class extends Q{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=vt(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,n){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},VU=class extends Q{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),n=this.getCellGui(r,t);if(!n)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const i=n.getBoundingClientRect();return{x:i.x+i.width/2,y:i.y+i.height/2}}showContextMenu(e){var s;const t=e.rowNode,r=e.column;let{anchorToElement:n,value:i}=e;t&&r&&i==null&&(i=this.valueService.getValueForDisplay(r,t)),n==null&&(n=this.getContextMenuAnchorElement(t,r)),(s=this.contextMenuFactory)==null||s.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,r??null,i,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&$s(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Xs()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),r=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return r!=null&&ee("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!r:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,r,n){const{positionBy:i}=t,s=t.column;if(i==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,r,n)}else if(i==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,r,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(s);o&&e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(n),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return r;const i=this.getCellGui(n,t);return i||(n.isFullWidth()?n.getFullWidthElement():r)}},zU=class extends Eo{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},UU={selector:"AG-INPUT-TEXT-AREA",component:zU},$U=class extends vl{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[UU]),this.eTextArea=Fe}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ae(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===q.LEFT||t===q.UP||t===q.RIGHT||t===q.DOWN||e.shiftKey&&t===q.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!ae(e)&&!ae(this.params.value)?this.params.value:this.params.parseValue(e)}},YU=class extends vl{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Ho(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{gS(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},qU=class extends vl{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[yV]),this.eSelect=Fe,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:n}=this,{values:i,value:s,eventKey:o}=e;if(Ve(i)){ee("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===q.ENTER:!1;let a=!1;i.forEach(f=>{const g={value:f},v=r.formatValue(e.column,null,f),w=v!=null;g.text=w?v:f,t.addOption(g),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:p}=e;u!=null&&t.setPickerGap(u),p!=null&&t.setPickerMaxHeight(p),d!=null&&t.setPickerMaxWidth(d),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},ef=class extends vl{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Fe}init(e){this.params=e;const{cellStartedEdit:t,eventKey:r,suppressPreventDefault:n}=e,i=this.eInput;this.cellEditorInput.init(i,e);let s,o=!0;t?(this.focusAfterAttached=!0,r===q.BACKSPACE||r===q.DELETE?s="":r&&r.length===1?n?o=!1:s=r:(s=this.cellEditorInput.getStartValue(),r!==q.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&i.setStartValue(s),this.addManagedElementListeners(i.getGui(),{keydown:a=>{const{key:u}=a;(u===q.PAGE_UP||u===q.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var n,i;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;fi()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(i=(n=this.cellEditorInput).setCaret)==null||i.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},jU=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Jp]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!ae(e)&&!ae(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ae(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},HO=class extends ef{constructor(){super(new jU)}},KU=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[TV]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===q.UP||e.key===q.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ae(e)&&!ae(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){fi()&&this.eInput.getInputElement().focus({preventScroll:!0})}},QU=class extends ef{constructor(){super(new KU)}},XU=class extends ta{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=fi();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){xt(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?wn(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Cn(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?wn(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Cn(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Cn(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Hr(this.getValue())??void 0}setDate(e,t){this.setValue(wn(e??null,!1),t)}},WO={selector:"AG-INPUT-DATE-FIELD",component:XU},JU=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[WO]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!ae(e)&&!ae(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return wn(e,!1)}},ZU=class extends ef{constructor(){super(new JU)}},e2=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[WO]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!ae(e)&&!ae(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return wn(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Hr(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):wn(e??null,!1)??void 0}},t2=class extends ef{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new e2(()=>this.dataTypeService))}},r2=class extends vl{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[vR]),this.eCheckbox=Fe}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=lR(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},xu=class{constructor(e){this.cellValueChanges=e}},Jm=class extends xu{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},n2=10,EP=class{constructor(e){this.actionStack=[],this.maxStackSize=e||n2,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},i2=class extends Q{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:u,value:d}=e,p={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(p)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new EP(e),this.redoStack=new EP(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,r,n,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[n],i),s instanceof Jm?this.processRange(this.rangeService,s.ranges||[s[r]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:s,columnId:o}=n,a={rowIndex:i,rowPinned:s},u=this.rowPositionUtils.getRowNode(a);u.displayed&&u.setDataValue(o,t(n),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((n,i)=>{if(!n)return;const s=n.startRow,o=n.endRow;i===t.length-1&&(r={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,i={rowIndex:r,rowPinned:n},s=this.rowPositionUtils.getRowNode(i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:n,rowPinned:i}=e,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;s.ensureIndexVisible(r),s.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:i};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new xu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new xu(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new xu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Jm(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Ji(this.gos)?e=new Jm(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new xu(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function s2(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function o2(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function BO(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function VO(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function a2(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function l2(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function u2(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function c2(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Nu)}function d2(e){return e.rowRenderer.getEditingCells()}function h2(e,t=!1){e.rowRenderer.stopEditing(t)}function p2(e,t){const r=e.columnModel.getCol(t.colKey);if(!r){ee(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&VO(e,t.rowIndex),BO(e,t.colKey);const s=e.navigationService.getCellByPosition(n);if(!s)return;const{focusService:o,gos:a}=e,u=()=>{const p=xt(a),f=s.getGui();return p!==f&&!!(f!=null&&f.contains(p))},d=a.get("stopEditingWhenCellsLoseFocus")&&u();(d||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:d,preventScrollOnBrowserFocus:!0}),s.startRowOrCellEdit(t.key)}function f2(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function g2(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var m2=class extends Q{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,r=!1,n=null){var d;const i=this.createCellEditorParams(e,t,r),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,i),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,u=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,u,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((d=o==null?void 0:o.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t){const r=e.getComp(),{newValue:n,newValueExists:i}=this.takeValueFromCellEditor(t,r),s=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,s);let u=!1;return i&&(u=this.saveNewValue(e,a,n,s,o)),e.setEditing(!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:u}),u}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:n}=e.getEditCompDetails().params,i=this.createCellEditorParams(e,r,n),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,i);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),r=t.getCellEditor();r!=null&&r.focusIn?r.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var n,i;return(i=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:i.call(n)}))}stopEditingAndFocus(e,t=!1,r=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(r,e.getCellPosition())}createPopupEditorWrapper(e){return new YU(e)}takeValueFromCellEditor(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,r,n,i){if(r===t)return!1;e.setSuppressRefreshCell(!0);const s=n.setDataValue(i,r,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,r){const n=e.getColumn(),i=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,i),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:i,data:i.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,i,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?q.UP:q.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},v2=class extends Q{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,r=null,n=null){let i=!0;return e.getAllCellCtrls().reduce((o,a)=>{const u=a===r;return u?i=a.startEditing(t,u,n):a.startEditing(null,u,n),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),i}stopEditing(e,t=!1){const r=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let i=!1;for(const s of r){const o=s.stopEditing(t);n&&!t&&!i&&o&&(i=!0)}i&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(r)}},ra={version:Oe,moduleName:"@ag-grid-community/edit-core",beans:[m2]},C2={version:Oe,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:l2,redoCellEditing:u2,getCellEditorInstances:c2,getEditingCells:d2,stopEditing:h2,startEditingCell:p2,getCurrentUndoSize:f2,getCurrentRedoSize:g2},dependantModules:[ra]},w2={version:Oe,moduleName:"@ag-grid-community/undo-redo-edit",beans:[i2],dependantModules:[ra]},y2={version:Oe,moduleName:"@ag-grid-community/full-row-edit",beans:[v2],dependantModules:[ra]},zO={version:Oe,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:HO}],dependantModules:[ra]},S2={version:Oe,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:HO},{name:"agNumberCellEditor",classImp:QU,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:ZU},{name:"agDateStringCellEditor",classImp:t2},{name:"agCheckboxCellEditor",classImp:r2}],dependantModules:[zO]},R2={version:Oe,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:qU}],dependantModules:[ra]},b2={version:Oe,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:$U}],dependantModules:[ra]},D2={version:Oe,moduleName:"@ag-grid-community/all-editors",dependantModules:[zO,S2,R2,b2]},E2={version:Oe,moduleName:"@ag-grid-community/editing",dependantModules:[ra,w2,y2,D2,C2]},P2=class extends Q{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const i=this.getAutoSizePadding();return n+i}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(u=>o.classList.contains(u))){for(let u=0;u<o.classList.length;u++){const d=o.classList[u];d!="ag-row-position-absolute"&&i.add(d)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},F2=class extends Q{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=vt(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(i=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((i==null?void 0:i.heightPx)??0)+((i==null?void 0:i.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Be(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,i=new Set,s=d=>{if(i.add(d),t){const p=this.getLastPixelOfGroup(d),f=n+r+d.rowHeight;p<f?d.stickyRowTop=r+(p-f):d.stickyRowTop=r}else{const p=this.getFirstPixelOfGroup(d),f=n-(r+d.rowHeight);p>f?d.stickyRowTop=r-(p-f):d.stickyRowTop=r}r=0,i.forEach(p=>{const f=p.stickyRowTop+p.rowHeight;r<f&&(r=f)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),u=d=>{if(!d.displayed)return!1;if(d.footer){if(o===!0||o==="grand"&&d.level===-1||o==="group"&&d.level>-1)return!1;const p=d.sibling.rowIndex?d.sibling.rowIndex+1===d.rowIndex:!1;return e==="bottom"&&p?!1:!i.has(d)}return d.isExpandable()?a===!0||e==="bottom"?!1:!i.has(d)&&d.expanded:!1};for(let d=0;d<100;d++){let p=n+r;t||(p=n-r);const f=this.rowModel.getRowIndexAtPixel(p),g=this.rowModel.getRow(f);if(g==null)break;const w=this.getStickyAncestors(g).find(S=>(t?S.rowIndex<f:S.rowIndex>f)&&u(S));if(w){s(w);continue}if((t?g.rowTop<p:g.rowTop+g.rowHeight>p)&&u(g)){s(g);continue}break}return t||i.forEach(d=>{d.stickyRowTop=r-(d.stickyRowTop+d.rowHeight)}),this.refreshNodesAndContainerHeight(e,i,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=jp(this.gos),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const n=this.stickyTopRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const n=this.stickyBottomRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const n=e==="top",i=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},o=[];for(let g=0;g<i.length;g++){const v=i[g].getRowNode();if(!t.has(v)){s[v.id]=i[g],v.sticky=!1;continue}o.push(i[g])}const a=new Set;for(let g=0;g<o.length;g++)a.add(o[g].getRowNode());const u=[];t.forEach(g=>{a.has(g)||(g.sticky=!0,u.push(this.createRowCon(g,!1,!1)))});let d=!!u.length||o.length!==i.length;n?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),d=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),d=!0),this.destroyRowCtrls(s,!1);const p=[...o,...u];p.sort((g,v)=>v.getRowNode().rowIndex-g.getRowNode().rowIndex),n||p.reverse(),p.forEach(g=>g.setRowTop(g.getRowNode().stickyRowTop));let f=0;return n?(t.forEach(g=>{g.rowIndex<this.pageBoundsService.getFirstRow()&&(f+=g.rowHeight)}),f>this.topContainerHeight&&(f=this.topContainerHeight),this.setOffsetTop(f)):(t.forEach(g=>{g.rowIndex>this.pageBoundsService.getLastRow()&&(f+=g.rowHeight)}),f>this.bottomContainerHeight&&(f=this.bottomContainerHeight),this.setOffsetBottom(f)),d?(n?this.stickyTopRowCtrls=p:this.stickyBottomRowCtrls=p,!0):!1}ensureRowHeightsValid(){let e=!1;const t=r=>{const n=r.getRowNode();if(n.rowHeightEstimated){const i=Us(this.gos,n);n.setRowHeight(i.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},x2=class extends Q{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ji(this.gos)?r():n()}),Ji(this.gos)&&r()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),jp(this.gos)&&(vt(this.gos)||yi(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new F2(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=sr(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new M2(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=lS(this.rowCtrlsByRowIndex),t=lS(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const r=u=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===t&&u(d)})},n=()=>{r(u=>u.onLeftChanged())},i=()=>{r(u=>u.onWidthChanged())},s=()=>{r(u=>u.onFirstRightPinnedChanged())},o=()=>{r(u=>u.onLastLeftPinnedChanged())},a=()=>{r(u=>u.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=sr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:i}=this,s=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));r.forEachPinnedRow(t,(a,u)=>{const d=e[u];d&&r.getPinnedRowById(d.getRowNode().id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),a.id in s?(e[u]=s[a.id],delete s[a.id]):e[u]=new Ao(a,n,!1,!1,i)});const o=t==="top"?r.getPinnedTopRowCount():r.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const s=i[e.rowIndex];s&&s.getRowNode()===e&&(s.destroyFirstPass(),s.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=xt(this.gos),n=Yu(this.gos,r,ko.DOM_DATA_KEY_CELL_CTRL),i=Yu(this.gos,r,Ao.DOM_DATA_KEY_ROW_CTRL);return n||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Wa(this.gos),i=r?this.getRowsToRecycle():null;if(r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const i=t[n].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[n]);return r}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&gP()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var i;const t=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if((i=e.columns)!=null&&i.length)return t;const r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(n&&!this.isRowInMap(s.getRowNode(),n)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const u=o[a];u!=null&&r.push(u)}}),[...r,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const i=n.getRowNode();return this.isRowInMap(i,t)})}getCellCtrls(e,t){let r;ae(t)&&(r={},t.forEach(i=>{const s=this.columnModel.getCol(i);ae(s)&&(r[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();r&&!r[o]||n.push(s)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Ln(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return Ln(this.rowCtrlsByRowIndex,(r,n)=>{const i=n.getRowNode();t[i.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&gP()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==n||this.lastRenderedRow!==i;if(!(t&&!s&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(s=>r[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!r[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=OV(this.firstRenderedRow,this.lastRenderedRow),r=(i,s)=>{const o=s.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(o)};Ln(this.rowCtrlsByRowIndex,r),Ln(e,r),t.sort((i,s)=>i-s);const n=[];for(let i=0;i<t.length;i++){const s=t[i],o=this.rowModel.getRow(s);o&&!o.sticky&&n.push(s)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),ae(i)&&ae(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),ae(i))s=this.createRowCon(i,r,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const r=[];Ln(e,(n,i)=>{if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);return}if(i.destroyFirstPass(!t),t){const s=i.instanceId;this.zombieRowCtrls[s]=i,r.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[s]})}else i.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),JH(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Mo(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),d=this.gos.get("suppressRowVirtualisation");let p=!1,f,g;do{const b=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:E,pageLastPixel:P}=this.pageBoundsService.getCurrentPagePixelRange(),F=this.rowContainerHeightService.getDivStretchOffset(),k=u.getScrollFeature().getVScrollPosition(),A=k.top,T=k.bottom;d?(f=E+F,g=P+F):(f=Math.max(A+b-a,E)+F,g=Math.min(T+b+a,P)+F),this.firstVisibleVPixel=Math.max(A+b,E)+F,this.lastVisibleVPixel=Math.min(T+b,P)+F,p=this.ensureAllRowsInRangeHaveHeightsCalculated(f,g)}while(p);let v=this.rowModel.getRowIndexAtPixel(f),w=this.rowModel.getRowIndexAtPixel(g);const y=this.pageBoundsService.getFirstRow(),S=this.pageBoundsService.getLastRow();v<y&&(v=y),w>S&&(w=S),e=v,t=w}const r=sr(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),i=Math.max(this.getRowBuffer(),500);r&&!n&&t-e>i&&(t=e+i);const s=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(s||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var s,o;const r=(s=this.pinnedRowModel)==null?void 0:s.ensureRowHeightsValid(),n=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),i=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(i||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||i||r?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),i=this.focusService.isRowNodeFocused(n),s=e.isEditing(),o=n.detail;return i||s||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const i=this.gos.get("suppressAnimationFrame"),s=r&&!i&&!this.printLayout;return new Ao(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},M2=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],Fr(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Fr(this.entriesList,e)}getEntries(){return this.entriesList}},T2=class extends Q{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new PP,this.pinnedBottomRows=new PP}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,i;let e=!1,t=0;const r=s=>{if(s.rowHeightEstimated){const o=Us(this.gos,s);s.setRowTop(t),s.setRowHeight(o.height),t+=o.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(r),t=0,(i=this.pinnedTopRows)==null||i.forEach(r),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){r.clear();return}const n=fl(this.gos),i=t==="top"?$i.ID_PREFIX_TOP_PINNED:$i.ID_PREFIX_BOTTOM_PINNED,s=r.getIds(),o=[],a=new Set;let u=0,d=-1;for(const p of e){const f=(n==null?void 0:n({data:p,level:0,rowPinned:t}))??i+this.nextId++;if(a.has(f)){ee("Duplicate ID",f,"found for pinned row with data",p,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}d++,a.add(f),o.push(f);const g=r.getById(f);if(g!==void 0)g.data!==p&&g.setData(p),u+=this.setRowTopAndRowIndex(g,u,d),s.delete(f);else{const v=new $i(this.beans);v.id=f,v.data=p,v.rowPinned=t,u+=this.setRowTopAndRowIndex(v,u,d),r.push(v)}}s.forEach(p=>{var f;(f=r.getById(p))==null||f.clearRowTopAndRowIndex()}),r.removeAllById(s),r.setOrder(o)}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(Us(this.gos,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}},PP=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,r)=>{const n=this.cache[t];n&&e(n,r)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},k2=class extends Q{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},A2=class extends Q{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Pr(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Fr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&_n("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(yi(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.gos.get("debug")&&_n(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},O2={version:Oe,moduleName:"@ag-grid-community/row-node-block",beans:[A2]},I2=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.root.id,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),r?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(r,e).find(i=>{var s;return i.id===((s=this.end)==null?void 0:s.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},L2=class extends Q{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,r,n){this.processClassRules(void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,n,i){if(t==null&&e==null)return;const s={},o={},a=(u,d)=>{u.split(" ").forEach(p=>{p.trim()!=""&&d(p)})};if(t){const u=Object.keys(t);for(let d=0;d<u.length;d++){const p=u[d],f=t[p];let g;typeof f=="string"?g=this.expressionService.evaluate(f,r):typeof f=="function"&&(g=f(r)),a(p,v=>{g?s[v]=!0:o[v]=!0})}}e&&i&&Object.keys(e).forEach(u=>a(u,d=>{s[d]||(o[d]=!0)})),i&&Object.keys(o).forEach(i),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(i=>{r(i)})}},Oh=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Oh||{}),UO=class extends Q{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:p,onTabKeyDown:f,handleKeyDown:g,eFocusableElement:v}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=v,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=g}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new ea(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var u;const t=Ot(this.gos),r=this.focusService.findFocusableElements(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,s;e?(i=0,s=n):(i=n+1,s=r.length);const o=r.slice(i,s),a=this.gos.get("tabIndex");o.sort((d,p)=>{const f=parseInt(d.getAttribute("tabindex")||"0"),g=parseInt(p.getAttribute("tabindex")||"0");return g===a?1:f===a?-1:f===0?1:g===0?-1:f-g}),(u=o[e?o.length-1:0])==null||u.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},_2=class extends Q{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,i=[t,r],s={setTabIndex:y=>{i.forEach(S=>y!=null?S.setAttribute("tabindex",y):S.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:u,focusInnerElement:d,handleKeyDown:p,onTabKeyDown:f,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new UO({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:u,focusInnerElement:d,handleKeyDown:p,onTabKeyDown:f,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Ot(this.gos).createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",r),Hn(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];tn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){fR(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},N2=class extends ut{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new _2(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},G2=0,H2=200,W2=class extends Q{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const v=this.popupList[n];v.alignedToElement=t}const i=t.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(r,i.top-s.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const d=s.right-s.left-a;let p;this.gos.get("enableRtl")?(p=g(),p<0&&(p=f(),this.setAlignedStyles(r,"left")),p>d&&(p=0,this.setAlignedStyles(r,"right"))):(p=f(),p>d&&(p=g(),this.setAlignedStyles(r,"right")),p<0&&(p=0,this.setAlignedStyles(r,"left"))),r.style.left=`${p}px`,r.style.top=`${o}px`;function f(){return i.right-s.left-2}function g(){return i.left-s.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:u,rowNode:d,type:p}=e,f=s.getBoundingClientRect(),g=this.getParentRect(),v=this.getPopupIndex(t);if(v!==-1){const y=this.popupList[v];y.alignedToElement=s}const w=()=>{let y=f.left-g.left;o==="right"&&(y-=t.offsetWidth-f.width);let S;return a==="over"?(S=f.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,g,e.nudgeY||0)==="under"?S=f.top-g.top+f.height:S=f.top-t.offsetHeight-(n||0)*2-g.top),{x:y,y:S}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,updatePosition:w,postProcessCallback:()=>this.callPostProcessPopup(p,t,s,null,u,d)})}shouldRenderUnderOrAbove(e,t,r,n){const i=r.bottom-t.bottom,s=t.top-r.top,o=e.offsetHeight+n;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},u=(d=!1)=>{let{x:p,y:f}=o();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(p+=n),i&&(f+=i),r&&(p=this.keepXYWithinBounds(t,p,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${p}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const d=this.resizeObserverService.observeResize(t,()=>u(!0));setTimeout(()=>d(),H2)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Ot(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),UA(t)}keepXYWithinBounds(e,t,r){const n=r===0,i=n?"clientHeight":"clientWidth",s=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",u=Ot(this.gos),d=u.documentElement,p=this.getPopupParent(),f=e.getBoundingClientRect(),g=p.getBoundingClientRect(),v=u.documentElement.getBoundingClientRect(),w=p===u.body,y=Math.ceil(f[o]);let b=w?(n?zA:dp)(d)+d[a]:p[i];w&&(b-=Math.abs(v[s]-g[s]));const E=b-y;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=Ot(this.gos),{eChild:r,ariaLabel:n,alwaysOnTop:i,positionCallback:s,anchorToElement:o}=e;if(!t)return ee("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const u=this.createPopupWrapper(r,n,!!i),d=this.addEventListenersToPopup({...e,wrapperEl:u});return s&&s(),this.addPopupToPopupList(r,u,d,o),{hideFunc:d}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();ae(e.style.top)||(e.style.top=`${r.top*-1}px`),ae(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),i=document.createElement("div");return this.environment.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Hn(e,"dialog"),Qa(e,t),i.appendChild(e),n.appendChild(i),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Ot(this.gos),r=this.getPopupParent(),{wrapperEl:n,eChild:i,closedCallback:s,afterGuiAttached:o,closeOnEsc:a,modal:u}=e;let d=!1;const p=w=>{if(!n.contains(xt(this.gos)))return;w.key===q.ESCAPE&&!Ui(w)&&v({keyboardEvent:w})},f=w=>v({mouseEvent:w}),g=w=>v({touchEvent:w}),v=(w={})=>{const{mouseEvent:y,touchEvent:S,keyboardEvent:b,forceHide:E}=w;!E&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:S},i)||d)||(d=!0,r.removeChild(n),t.removeEventListener("keydown",p),t.removeEventListener("mousedown",f),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",f),this.eventService.removeEventListener("dragStarted",f),s&&s(y||S||b),this.removePopupFromPopupList(i))};return o&&o({hidePopup:v}),window.setTimeout(()=>{a&&t.addEventListener("keydown",p),u&&(t.addEventListener("mousedown",f),this.eventService.addEventListener("dragStarted",f),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",f))},0),v}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:G2++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:i}=e,s=n.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,g)=>{const v=r[f]-s[f],w=o(i.style[f]);return{initialDiff:v,lastDiff:v,initial:w,last:w,direction:g}},u=a("top",0),d=a("left",1),p=this.getFrameworkOverrides();return new At(f=>{p.wrapIncoming(()=>{p.setInterval(()=>{const g=t.getBoundingClientRect(),v=n.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const y=(S,b)=>{const E=o(i.style[b]);S.last!==E&&(S.initial=E,S.last=E);const P=g[b]-v[b];if(P!=S.lastDiff){const F=this.keepXYWithinBounds(i,S.initial+S.initialDiff-P,S.direction);i.style[b]=`${F}px`,S.last=F}S.lastDiff=P};y(u,"top"),y(d,"left")},200).then(g=>{f(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,i=r||n;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(vW(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Ot(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const s=[],o=[];for(const g of r)g!==i&&(g.classList.contains("ag-always-on-top")?o.push(g):s.push(g));const a=[],u=o.length,f=i.classList.contains("ag-always-on-top")||!u?[...s,...o,i]:[...s,i,...o];for(let g=0;g<=n;g++){const v=f[g];if(r[g]===f[g]||v===i)continue;v.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",v):f[g-1].insertAdjacentElement("afterend",v)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},B2=["touchstart","touchend","touchmove","touchcancel"],$O=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new At(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){const i=To(B2,t);e.addEventListener(t,r,{capture:!!n,passive:i})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},V2=class extends Q{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===q.UP,n=e===q.DOWN,i=e===q.LEFT;let s,o;if(r||n)o=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=t.column;else{const a=this.visibleColsService.getAllCols(),u=this.gos.get("enableRtl");o=t.rowIndex,s=i!==u?a[0]:Be(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case q.UP:r=this.getCellAbove(r);break;case q.DOWN:r=this.getCellBelow(r);break;case q.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case q.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,ee("unknown key for navigation ",e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const i=this.rowModel.getRow(e.rowIndex),s=n?void 0:this.getNextStickyPosition(i);return s||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!jp(this.gos)||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let n=[];r?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,u)=>a.getRowNode().rowIndex-u.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,u)=>u.getRowNode().rowIndex-a.getRowNode().rowIndex);const i=t?-1:1,s=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[s+i];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=r:this.pageBoundsService.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,n=r?t===0:t===this.pageBoundsService.getFirstRow();let i=!1;if(n)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;r&&(i=!0);const s=this.rowModel.getRow(e.rowIndex),o=i?void 0:this.getNextStickyPosition(s,!0);return o||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var s;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColAfter(e.column);if(!i){i=t[0];const o=this.getRowBelow(e);if(Ve(o)||!o.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:i,rowPinned:n}}getNextTabbedCellBackwards(e){var s;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColBefore(e.column);if(!i){i=Be(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ve(o)||!o.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:i,rowPinned:n}}},yr=(e,t)=>{for(const r in t)t[r]=e;return t},FP={...yr("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...yr("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...yr("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...yr("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...yr("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...yr("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...yr("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...yr("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...yr("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...yr("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...yr("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...yr("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...yr("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...yr("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...yr("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Zm={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},z2=(e,t)=>e.eventService.dispatchEvent(t),YO=class{};Reflect.defineProperty(YO,"name",{value:"GridApi"});var U2=class extends Q{constructor(){super(),this.beanName="apiFunctionService",this.api=new YO,this.fns={...Zm,dispatchEvent:z2},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in FP)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:r,beans:n}=this;r!==Zm&&(r[e]=((i=n==null?void 0:n.validationService)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)ee(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const i=FP[e];r.assertModuleRegistered(i,`api.${e}`)&&ee(`API function '${e}' not registered to module '${i}'`)}}destroy(){super.destroy(),this.fns=Zm,this.beans=null}};function $2(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var Y2=class extends Q{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,r){const n=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,r);let a=!0,u=o,d=s.getOriginalParent(),p=null;for(;d;){let f=null;if(d.isPadding()){d=d.getOriginalParent();continue}const g=i[d.getGroupId()];if(g){g.children.push(u),a=!1;break}if(f=this.createDefFromGroup(d),f&&(f.children=[u],i[f.groupId]=f,u=f,d=d.getOriginalParent()),d!=null&&p===d){a=!1;break}p=d}a&&n.push(u)}),n}createDefFromGroup(e){const t=aS(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=aS(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},q2=class extends Q{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:r})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:r,toIndex:n,finished:i}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:i,source:r})}columnPinned(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,i=>i.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:r,source:t})}columnVisible(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,i=>i.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:r,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}columnChanged(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r})}columnResized(e,t,r,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:r})}},j2=class extends Q{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Ve(e)||!this.columnModel.isAlive())return[];const r=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(r),r}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,i=e.isPivotActive()?r.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,u=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:u}}orderColumnStateList(e){const t=this.columnModel.getCols(),r=new Map(t.map((n,i)=>[n.getColId(),i]));e.sort((n,i)=>{const s=r.has(n.colId)?r.get(n.colId):-1,o=r.has(i.colId)?r.get(i.colId):-1;return s-o})}},K2=class extends Q{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return Zi(null,t,r=>{br(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const r=[];Zi(null,t,n=>{if(br(n)){const i=n.getColGroupDef(),s={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(s)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(i=>{const s=i.groupId,o=i.open,a=this.columnModel.getProvidedColGroup(s);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},Q2=class extends Q{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,s=t<n&&r<n,o=t>i&&r>i;return!s&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=i=>{const s=i.getLeft();return ae(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),r=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(r).forEach(s=>e[s.getId()]=!0);const i=(s,o,a)=>{let u=!1;for(let d=0;d<s.length;d++){const p=s[d];let f=!1;if($s(p))f=e[p.getId()]===!0;else{const v=p.getDisplayedChildren();v&&(f=i(v,o,a+1))}f&&(u=!0,o[a]||(o[a]=[]),o[a].push(p))}return u};i(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),i(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),i(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}},X2=class extends Q{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const i=e(n),s=typeof i;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Ju("<span>"+i+"</span>");return}if(i==null){this.eGui=Ju("<span></span>");return}this.eGui=i}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},J2=class extends Q{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},Z2=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],xP=Object.fromEntries(Z2.map((e,t)=>[e,t]));function e$(e,t){const r=(e.beanName?xP[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?xP[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function t$(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var r$=class extends Q{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const r=this.registry[e];if(r!=null)return new r(...t)}},n$=class extends Q{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,r;this.runReadyCallbacksAsync=((r=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:r.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},i$=class extends Q{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}equals(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&n&&i}},s$=class extends Q{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}},o$=class extends Q{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ae(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},MP={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},TP={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},kP={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},a$=class extends Q{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(MP),this.getSizeEl(TP),this.getSizeEl(kP)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(MP)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(TP)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(kP)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&!t.includes(r)&&e.classList.remove(r);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===AP?"no-styles":(this.sizesMeasured=!0,r)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let r=this.eMeasurementContainer;r||(r=this.eMeasurementContainer=document.createElement("div"),r.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(r),this.eGridDiv.appendChild(r)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${AP}px)`,r.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&ee(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const i=this.resizeObserverService.observeResize(t,()=>{const s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>i()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const r=this.readAncestorThemeClasses();l$(r,this.ancestorThemeClasses)||(this.ancestorThemeClasses=r,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const r=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of r)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:r}=this,n=e.get("theme")||null;n!==r&&(r==null||r.stopUse(),this.gridTheme=n,n==null||n.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},l$=(e,t)=>e.length===t.length&&e.findIndex((r,n)=>e[n]!==t[n])===-1,AP=15538,u$=class extends Q{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new pl}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=sp(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},TR=class dn extends Q{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",dn.toggleKeyboardMode),t.addEventListener("mousedown",dn.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",dn.toggleKeyboardMode),t.removeEventListener("mousedown",dn.toggleKeyboardMode))}static toggleKeyboardMode(t){const r=dn.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||r!==n&&(dn.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,r=>{this.gridCtrl=r.gridCtrl})}registerKeyboardFocusEvents(){const t=Ot(this.gos);dn.addKeyboardModeEvents(t),dn.instanceCount++,this.addDestroyFunc(()=>{dn.instanceCount--,dn.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,r=this.columnModel.getCol(t.getId());t!==r&&this.clearFocusedCell()}isKeyboardMode(){return dn.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(xt(this.gos),Ao.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(xt(this.gos),Zp.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,r){let n=t;for(;n;){if(Yu(this.gos,n,r))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,r){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),r())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:r,rowPinned:n,column:i}=t,s={rowIndex:r,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:r,rowIndex:n,rowPinned:i,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(r);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:zi(i),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:s,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const r=t.getColumnGroupChild(),n=t.getRowIndex(),i=t.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return r===s&&n===o&&i==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,r){this.focusedHeaderPosition={headerRowIndex:t,column:r}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var d;if(this.isHeaderFocusSuppressed())return!1;const{direction:r,fromTab:n,allowUserOverride:i,event:s,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:u}=t;if(o&&((d=this.filterManager)!=null&&d.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(u);if(i){const p=this.getFocusedHeader(),f=this.headerNavigationService.getHeaderRowCount();if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(u=this.getHeaderPositionFromUserFunc({userFunc:g,direction:r,currentPosition:p,headerPosition:u,headerRowCount:f}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&s){const v={key:s.key,previousHeaderPosition:p,nextHeaderPosition:u,headerRowCount:f,event:s};u=g(v)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:r,event:s,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:r,headerPosition:n,direction:i,event:s}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),u=this.getHeaderPositionFromUserFunc({userFunc:r,direction:i,currentPosition:o,headerPosition:n,headerRowCount:a});return!!u&&this.focusProvidedHeaderPosition({headerPosition:u,direction:i,event:s})}getHeaderPositionFromUserFunc(t){const{userFunc:r,direction:n,currentPosition:i,headerPosition:s,headerRowCount:o}=t,u=r({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:s,headerRowCount:o});return u===!0||u===null?(u===null&&ee("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):u===!1?null:u}focusProvidedHeaderPosition(t){var f;const{headerPosition:r,direction:n,fromCell:i,rowWithoutSpanValue:s,event:o}=t,{column:a,headerRowIndex:u}=r;if(u===-1)return(f=this.filterManager)!=null&&f.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(r):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const d=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),p=(d==null?void 0:d.focusHeader(r.headerRowIndex,a,o))||!1;return p&&(s!=null||i)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),p}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const r=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const r=this.headerNavigationService.getHeaderRowCount()-1,n=Be(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var r;return(r=this.filterManager)!=null&&r.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===zi(r)}findFocusableElements(t,r,n=!1){const i=lB;let s=VA;r&&(s+=", "+r),n&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(i)).filter(d=>gi(d)),a=Array.prototype.slice.apply(t.querySelectorAll(s));return a.length?((d,p)=>d.filter(f=>p.indexOf(f)===-1))(o,a):o}focusInto(t,r=!1,n=!1){const i=this.findFocusableElements(t,null,n),s=r?Be(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,r){if(!r)return null;const n=this.findFocusableElements(t),i=n.indexOf(r);if(i===-1)return null;let s=-1;for(let o=i-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:n[s-1]}findNextFocusableElement(t=this.eGridDiv,r,n){const i=this.findFocusableElements(t,r?':not([tabindex="-1"])':null),s=xt(this.gos);let o;r?o=i.findIndex(u=>u.contains(s)):o=i.indexOf(s);const a=o+(n?-1:1);return a<0||a>=i.length?null:i[a]}isTargetUnderManagedComponent(t,r){if(!r)return!1;const n=t.querySelectorAll(`.${ea.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(r))return!0;return!1}findTabbableParent(t,r=5){let n=0;for(;t&&hS(t)===null&&++n<=r;)t=t.parentElement;return hS(t)===null?null:t}focusOverlay(t){var n;const r=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!r&&this.focusInto(r,t)}focusGridViewFailed(t,r){return r&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,r=!1,n=!0){var s,o;if(this.overlayService.isExclusive())return n&&this.focusOverlay(r);if(this.isCellFocusSuppressed())return r&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(r)?!0:this.focusNextGridCoreContainer(!1);const i=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(i){const{rowIndex:a,rowPinned:u}=i;if(t??(t=(s=this.getFocusedHeader())==null?void 0:s.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:u}),r){const d=this.rowRenderer.getRowByPosition(i);if(d!=null&&d.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(i,r))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:zi(u),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:u,column:t}),!0}}return!!(n&&this.focusOverlay(r)||r&&this.focusLastHeader())}isGridFocused(){const t=xt(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,r=!1){return!r&&this.gridCtrl.focusNextInnerContainer(t)?!0:((r||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var r;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((r=this.advancedFilterService)==null?void 0:r.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,r){var i;const n=(r?void 0:this.advancedFilterFocusColumn)??((i=this.visibleColsService.getAllCols())==null?void 0:i[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};TR.keyboardModeActive=!1;TR.instanceCount=0;var c$=TR,d$=class extends Q{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=sr(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),r=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},h$=class extends Q{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:i,ctrlsService:s,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:d=>d===1||d===0,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),i.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new MR(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const u=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>u()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,i,s;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(r=e.columnDropZonesService)==null?void 0:r.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(i=e.statusBarService)==null?void 0:i.getStatusPanelSelector(),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const i=this.visibleColsService.getAllCols(),s=Be(i);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(r.length>1)return this.focusContainer(Be(r),!0);const i=Be(n);if(this.focusService.focusGridView(i,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let i=1;i<r.length;i++)if(this.focusService.focusInto(r[i].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const i=t[r];(s=i.setAllowFocus)==null||s.call(i,!0),setTimeout(()=>{var o;(o=i.setAllowFocus)==null||o.call(i,!1)})}getNextFocusableIndex(e,t){const r=xt(this.gos),n=e.findIndex(s=>s.getGui().contains(r)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){var n,i;(n=e.setAllowFocus)==null||n.call(e,!0);const r=this.focusService.focusInto(e.getGui(),t);return(i=e.setAllowFocus)==null||i.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},p$=class extends Q{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(i=>{var o;if(!i){Xe("alignedGrids contains an undefined option."),t||Xe(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Xe(r());return}if(this.isGridApi(i))return i;const s=i;return"current"in s?(o=s.current)==null?void 0:o.api:(s.api||Xe(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),s.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ee("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var d;const t=e.column;let r=null;if(t&&(r=this.columnModel.getColDefCol(t.getColId())),t&&!r)return;const n=this.getMasterColumns(e),{columnApplyStateService:i,columnSizeService:s,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(g=>({colId:g.colId}));i.applyColumnState({state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));i.applyColumnState({state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));i.applyColumnState({state:f},"alignedGridChanged")}break;case"columnResized":{const p=e,f={};n.forEach(g=>{f[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),(d=p.flexColumns)==null||d.forEach(g=>{f[g.getId()]&&delete f[g.getId()]}),s.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}}const u=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",u)})}},f$={version:Oe,moduleName:"@ag-grid-community/aligned-grid",beans:[p$]};function g$(e,t){const r=e.columnModel.getColDefCol(t);return r?r.getColDef():null}function m$(e){return e.columnModel.getColumnDefs()}function v$(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function C$(e,t,r){e.columnModel.setColumnGroupOpened(t,r,"api")}function w$(e,t,r){return e.visibleColsService.getColumnGroup(t,r)}function y$(e,t){return e.columnModel.getProvidedColGroup(t)}function S$(e,t,r){return e.columnNameService.getDisplayNameForColumn(t,r)||""}function R$(e,t,r){return e.columnNameService.getDisplayNameForColumnGroup(t,r)||""}function b$(e,t){return e.columnModel.getColDefCol(t)}function D$(e){return e.columnModel.getColDefCols()}function E$(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function P$(e){return e.columnGetStateService.getColumnState()}function F$(e){e.columnApplyStateService.resetColumnState("api")}function x$(e){return e.columnGroupStateService.getColumnGroupState()}function M$(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function T$(e){e.columnGroupStateService.resetColumnGroupState("api")}function k$(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function A$(e){return e.visibleColsService.isPinningLeft()}function O$(e){return e.visibleColsService.isPinningRight()}function I$(e,t){return e.visibleColsService.getColAfter(t)}function L$(e,t){return e.visibleColsService.getColBefore(t)}function _$(e,t,r){e.columnModel.setColsVisible([t],r,"api")}function N$(e,t,r){e.columnModel.setColsVisible(t,r,"api")}function G$(e,t,r){e.columnModel.setColsPinned([t],r,"api")}function H$(e,t,r){e.columnModel.setColsPinned(t,r,"api")}function W$(e){return e.columnModel.getCols()}function B$(e){return e.visibleColsService.getLeftCols()}function V$(e){return e.visibleColsService.getCenterCols()}function z$(e){return e.visibleColsService.getRightCols()}function U$(e){return e.visibleColsService.getAllCols()}function $$(e){return e.columnViewportService.getViewportColumns()}function Y$(e,t,r){e.columnMoveService.moveColumns([t],r,"api")}function q$(e,t,r){e.columnMoveService.moveColumnByIndex(t,r,"api")}function j$(e,t,r){e.columnMoveService.moveColumns(t,r,"api")}function K$(e,t,r,n=!0,i="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:r}],!1,n,i)}function Q$(e,t,r=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,r,n)}function X$(e){return e.visibleColsService.getTreeLeft()}function J$(e){return e.visibleColsService.getTreeCenter()}function Z$(e){return e.visibleColsService.getTreeRight()}function eY(e){return e.visibleColsService.getAllTrees()}function tY(e,t,r){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:r,source:"api"})}function rY(e,t,r){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function nY(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var iY=class extends Q{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(So(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>i=>{const{column:s,node:o,value:a}=i;let u=s.getColDef().valueFormatter;return u===n.groupSafeValueFormatter&&(u=n.valueFormatter),this.valueService.formatValue(s,o,a,u)};Object.entries(e).forEach(([n,i])=>{const s={...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)};this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});const r=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,i])=>{const s=this.processDataTypeDefinition(i,r,[n],e);s&&(this.dataTypeDefinitions[n]=s,i.dataTypeMatcher&&(this.dataTypeMatchers[n]=i.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const i=this.dataTypeMatchers[n];i&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=i??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...Ah(e.columnTypes),...Ah(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,n){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s];const a=t[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,s))return;i=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(s)){ee('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[s];if(!this.validateDataTypeDefinition(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...r,s],n);if(!a)return;i=this.mergeDataTypeDefinitions(a,e)}return{...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)}}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(ee('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ee(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,n;if((r=t.node)!=null&&r.group){const i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,r):!1),!n){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[n];if(!s){ee(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,r),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){if(!vt(this.gos))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;const n=t.type===null?e.type:t.type;if(n){const i=this.gos.get("columnTypes")??{};if(Ah(n).some(o=>{const a=i[o.trim()];return a&&this.doColDefPropsPreventInference(a,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,t,r,n))}doesColDefPropPreventInference(e,t,r,n){if(!t[r])return!1;const i=e[r];return i===null?(t[r]=!1,!1):n===void 0?!!i:i===n}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=Lu(n,e,s)}else this.initWaitForRowData(t);if(r==null)return;const[i]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(r))??["object"];return i}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[r]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:i}=n;i&&(r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getCol(s);if(!a)return;const u=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const d=a.getColDef();if(t&&d.type&&d.type!==u.type){const p=this.getUpdatedColumnState(a,o);p.rowGroup&&p.rowGroupIndex==null&&(n[s]=p),p.pivot&&p.pivotIndex==null&&(i[s]=p),r.push(p)}}),t&&r.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,i)),r.length&&this.columnApplyStateService.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>ee(`Cell data type is "object" but no Value ${r} has been provided. Please either provide an object data type definition with a Value ${r}, or set "colDef.value${r}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,r,n){var s;const i=this.formatValueFuncs[t];switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===q.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const u=this.columnModel.getColDefCol(n),d=u==null?void 0:u.getColDef();if(!u||!d)return 0;const p=o==null?"":i({column:u,node:null,value:o}),f=a==null?"":i({column:u,node:null,value:a});return p===f?0:p>f?1:-1},e.keyCreator=i;break}}(s=this.filterManager)==null||s.setColDefPropertiesForDataType(e,r,i)}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,i;return((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:eS(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,i;return r.newValue==null?r.newValue:((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>Hr(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):wn(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>Hr(r)??void 0,dateFormatter:r=>wn(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>eS(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},sY={version:Oe,moduleName:"@ag-grid-community/data-type",beans:[iY]},oY={version:Oe,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:g$,getColumnDefs:m$,sizeColumnsToFit:v$,setColumnGroupOpened:C$,getColumnGroup:w$,getProvidedColumnGroup:y$,getDisplayNameForColumn:S$,getDisplayNameForColumnGroup:R$,getColumn:b$,getColumns:D$,applyColumnState:E$,getColumnState:P$,resetColumnState:F$,getColumnGroupState:x$,setColumnGroupState:M$,resetColumnGroupState:T$,isPinning:k$,isPinningLeft:A$,isPinningRight:O$,getDisplayedColAfter:I$,getDisplayedColBefore:L$,setColumnVisible:_$,setColumnsVisible:N$,setColumnPinned:G$,setColumnsPinned:H$,getAllGridColumns:W$,getDisplayedLeftColumns:B$,getDisplayedCenterColumns:V$,getDisplayedRightColumns:z$,getAllDisplayedColumns:U$,getAllDisplayedVirtualColumns:$$,moveColumn:Y$,moveColumnByIndex:q$,moveColumns:j$,setColumnWidth:K$,setColumnWidths:Q$,getLeftDisplayedColumnGroups:X$,getCenterDisplayedColumnGroups:J$,getRightDisplayedColumnGroups:Z$,getAllDisplayedColumnGroups:eY,autoSizeColumn:tY,autoSizeColumns:rY,autoSizeAllColumns:nY}};function aY(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function lY(e,t){const r=e.dragAndDropService.findExternalZone(t);r&&e.dragAndDropService.removeDropTarget(r)}function uY(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var cY={version:Oe,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:aY,removeRowDropZone:lY,getRowDropZoneParams:uY}};function dY(e){return e.pinnedRowModel.getPinnedTopRowCount()}function hY(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function pY(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function fY(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var gY={version:Oe,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:dY,getPinnedBottomRowCount:hY,getPinnedTopRow:pY,getPinnedBottomRow:fY}};function mY(e){e.overlayService.showLoadingOverlay()}function vY(e){e.overlayService.showNoRowsOverlay()}function CY(e){e.overlayService.hideOverlay()}var wY={version:Oe,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:mY,showNoRowsOverlay:vY,hideOverlay:CY}};function yY(e,t,r){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;r===null?n.removeAttribute(i):n.setAttribute(i,r)}function SY(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function RY(e,t={}){const r=n=>ee(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);ae(t.fadeDelay)&&r("fade"),ae(t.flashDelay)&&r("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function bY(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function DY(e){return e.animationFrameService.isQueueEmpty()}function EY(e){e.animationFrameService.flushAllFrames()}function PY(e){return{rowHeight:Mo(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function FY(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Nu)}var xY={version:Oe,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:yY,refreshCells:SY,flashCells:RY,refreshHeader:bY,isAnimationFrameQueueEmpty:DY,flushAllAnimationFrames:EY,getSizesForCurrentTheme:PY,getCellRendererInstances:FY}};function MY(e){e.valueCache.expire()}function TY(e,t,r){return qO(e,{colKey:t,rowNode:r})}function qO(e,t){const{colKey:r,rowNode:n,useFormatter:i}=t,s=e.columnModel.getColDefCol(r)??e.columnModel.getCol(r);if(Ve(s))return null;const o=e.valueService.getValueForDisplay(s,n);return i?e.valueService.formatValue(s,n,o)??ai(o,!0):o}function kY(e){return e.context.getGridId()}function AY(e){e.gridDestroyService.destroy()}function OY(e){return e.gridDestroyService.isDestroyCalled()}function IY(e,t){return e.gos.get(t)}function LY(e,t,r){jO(e,{[t]:r})}function jO(e,t){e.gos.updateGridOptions({options:t})}function _Y(e,t,r){e.apiEventService.addEventListener(t,r)}function NY(e,t,r){e.apiEventService.removeEventListener(t,r)}function GY(e,t){e.apiEventService.addGlobalListener(t)}function HY(e,t){e.apiEventService.removeGlobalListener(t)}function WY(e){return e.focusService.getFocusedCell()}function BY(e){return e.focusService.clearFocusedCell()}function VY(e,t,r,n){e.focusService.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function zY(e,t){return e.navigationService.tabToNextCell(!1,t)}function UY(e,t){return e.navigationService.tabToNextCell(!0,t)}function $Y(e,t,r=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,r);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function YY(e,t,r){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:r,positionBy:"button"})}function qY(e,t,r){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Xe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:r,positionBy:"mouse"})}function jY(e,t){const r=e.columnModel.getCol(t);if(!r){Xe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,positionBy:"auto"})}function KY(e){e.menuService.hidePopupMenu()}function QY(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function XY(e,t,r,n,i){e.expansionService.setRowNodeExpanded(t,r,n,i)}function JY(e,t){return e.rowModel.getRowNode(t)}function ZY(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function eq(e){return e.rowRenderer.getRenderedNodes()}function tq(e,t,r){e.rowModel.forEachNode(t,r)}function rq(e){return KO(e)}function KO(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function nq(e){return QO(e)}function QO(e){return e.rowRenderer.getLastVirtualRenderedRow()}function iq(e,t){return e.rowModel.getRow(t)}function sq(e){return e.rowModel.getRowCount()}function oq(e){return e.rowModel}function aq(e,t){if(!t.nodes.every(a=>a.rowPinned?(ee("cannot select pinned rows"),!1):a.id===void 0?(ee("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:i,newValue:s}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:i??"api",newValue:s})}function lq(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function uq(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function cq(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function dq(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function hq(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function pq(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function fq(e){return e.selectionService.getSelectedNodes()}function gq(e){return e.selectionService.getSelectedRows()}function mq(e){e.sortController.onSortChanged("api")}var vq={version:Oe,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:kY,destroy:AY,isDestroyed:OY,getGridOption:IY,setGridOption:LY,updateGridOptions:jO}},Cq={version:Oe,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:aq,selectAll:lq,deselectAll:uq,selectAllFiltered:cq,deselectAllFiltered:dq,selectAllOnCurrentPage:hq,deselectAllOnCurrentPage:pq,getSelectedNodes:fq,getSelectedRows:gq}},wq={version:Oe,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:QY,setRowNodeExpanded:XY,getRowNode:JY,addRenderedRowListener:ZY,getRenderedNodes:eq,forEachNode:tq,getFirstDisplayedRow:rq,getFirstDisplayedRowIndex:KO,getLastDisplayedRow:nq,getLastDisplayedRowIndex:QO,getDisplayedRowAtIndex:iq,getDisplayedRowCount:sq,getModel:oq}},yq={version:Oe,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:s2,getHorizontalPixelRange:o2,ensureColumnVisible:BO,ensureIndexVisible:VO,ensureNodeVisible:a2}},Sq={version:Oe,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:WY,clearFocusedCell:BY,setFocusedCell:VY,setFocusedHeader:$Y,tabToNextCell:zY,tabToPreviousCell:UY}},Rq={version:Oe,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:_Y,addGlobalListener:GY,removeEventListener:NY,removeGlobalListener:HY}},bq={version:Oe,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:MY,getValue:TY,getCellValue:qO}},Dq={version:Oe,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:YY,showColumnMenuAfterMouseClick:qY,showColumnMenu:jY,hidePopupMenu:KY}},Eq={version:Oe,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:mq}},Pq={version:Oe,moduleName:"@ag-grid-community/api",dependantModules:[vq,gY,Cq,oY,wq,cY,yq,wY,Sq,Rq,xY,bq,Dq,Eq]};function Fq(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function xq(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Mq(e)}return e}function Mq(e){return e.cellSelection=Tq(e,"rangeSelection"),e}function Tq(e,t){if(e&&typeof e=="object")return e[t]}var kq=class extends Q{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Pr(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Pr(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Pr(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=vt(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Oe),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,r]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return xq(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.getInitialState(),i=this.gos.get("advancedFilterModel");(e||i)&&this.setFilterState(e,i),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:r,columnOrder:n}=this.getInitialState();r&&this.setFocusedCellState(r),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const i=this.getRangeSelectionState();this.updateCachedState("rangeSelection",i),this.updateCachedState("cellSelection",i),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],n=[],i=[],s=[],o=[],a=[],u=[],d=[];let p=0;const f=this.columnGetStateService.getColumnState();for(let g=0;g<f.length;g++){const{colId:v,sort:w,sortIndex:y,rowGroup:S,rowGroupIndex:b,aggFunc:E,pivot:P,pivotIndex:F,pinned:k,hide:A,width:T,flex:I}=f[g];d.push(v),w&&(t[y??p++]={colId:v,sort:w}),S&&(r[b??0]=v),typeof E=="string"&&n.push({colId:v,aggFunc:E}),P&&(i[F??0]=v),k&&(k==="right"?o:s).push(v),A&&a.push(v),(I||T)&&u.push({colId:v,flex:I??void 0,width:T})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:i.length||e?{pivotMode:e,pivotColIds:i}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:i,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:u,partialColumnState:d}=e,p={},f=S=>{let b=p[S];return b||(b={colId:S},p[S]=b,b)},g=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:S,sort:b},E)=>{const P=f(S);P.sort=b,P.sortIndex=E}),g.sort=null,g.sortIndex=null),r&&(r.groupColIds.forEach((S,b)=>{const E=f(S);E.rowGroup=!0,E.rowGroupIndex=b}),g.rowGroup=null,g.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:S,aggFunc:b})=>{f(S).aggFunc=b}),g.aggFunc=null),i&&(i.pivotColIds.forEach((S,b)=>{const E=f(S);E.pivot=!0,E.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),s&&(s.leftColIds.forEach(S=>{f(S).pinned="left"}),s.rightColIds.forEach(S=>{f(S).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(S=>{f(S).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:S,flex:b,width:E})=>{const P=f(S);P.flex=b??null,P.width=E}),g.flex=null);const v=u==null?void 0:u.orderedColIds,w=!!(v!=null&&v.length),y=w?v.map(S=>f(S)):Object.values(p);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:w,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const i of t)this.pivotResultColsService.getPivotResultCol(i.colId)&&n.push(i);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var i;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((i=e.columnGroup)==null?void 0:i.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:s})=>{const o=t.has(s);return o&&t.delete(s),{groupId:s,open:o}});t.forEach(s=>{n.push({groupId:s,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var r,n;let e=(r=this.filterManager)==null?void 0:r.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var i,s;const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:t};r&&((i=this.filterManager)==null||i.setFilterModel(r,"columnFilter")),n&&((s=this.filterManager)==null||s.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:i,startRow:s,endRow:o,columns:a,startColumn:u}=r;return{id:n,type:i,startRow:s,endRow:o,colIds:a.map(d=>d.getColId()),startColId:u.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:r,columnModel:n,visibleColsService:i}=this;if(!Ji(t)||!r)return;const s=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(d=>{const p=n.getCol(d);p&&a.push(p)}),!a.length)return;let u=n.getCol(o.startColId);if(!u){const d=i.getAllCols(),p=new Set(a);u=d.find(f=>p.has(f))}s.push({...o,columns:a,startColumn:u})}),aW(t)&&lW(t)&&s.length>1)return ee("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");r.setCellRanges(s)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:r}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,r)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var r;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((r=e==null?void 0:e.toggledNodes)!=null&&r.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([n,i])=>{$u(i,this.cachedState[n])||(r=!0)}),this.cachedState={...this.cachedState,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),$u(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},XO={version:Oe,moduleName:"@ag-grid-community/state-core",beans:[kq]},Aq={version:Oe,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:Fq},dependantModules:[XO]},Oq={version:Oe,moduleName:"@ag-grid-community/state",dependantModules:[XO,Aq]};function Iq(e){return e.rowModel.isLastRowIndexKnown()}function Lq(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function _q(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function Nq(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function Gq(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function Hq(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function Wq(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function Bq(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function Vq(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function zq(e,t){var r;(r=e.paginationService)==null||r.goToPage(t)}var Uq=class extends Q{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=Math.max(Mo(this.gos),1),n=Math.floor(e/r);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?Pr(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function $q(e,t,r){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===q.TAB){const i=n.shiftKey;r.findNextFocusableElement(t,!1,i)||r.focusNextGridCoreContainer(i)&&n.preventDefault()}}})}var Cu="paginationPageSizeSelector",Yq=class extends ut{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Cu,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){tn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Cu)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),r=!t||!e.includes(t);if(r){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(Cu)!==!0;ee(`'paginationPageSize=${t}'${i?"":" (default value)"}, but ${t} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||ee(`Either set '${Cu}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(Qs(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),i=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new yR).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Cu);return!Array.isArray(t)||Zr(t)?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},qq={selector:"AG-PAGE-SIZE-SELECTOR",component:Yq},jq=class extends N2{constructor(){super(),this.btFirst=Fe,this.btPrevious=Fe,this.btNext=Fe,this.btLast=Fe,this.lbRecordCount=Fe,this.lbFirstRowOnPage=Fe,this.lbLastRowOnPage=Fe,this.lbCurrent=Fe,this.lbTotal=Fe,this.pageSizeComp=Fe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[qq]);const{btFirst:t,btPrevious:r,btNext:n,btLast:i}=this;this.activateTabIndex([t,r,n,i]),t.insertAdjacentElement("afterbegin",Jr(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",Jr(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Jr(e?"previous":"next",this.gos)),i.insertAdjacentElement("afterbegin",Jr(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===q.ENTER||n.key===q.SPACE)&&(n.preventDefault(),r())}})}),$q(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");return IV(e,n,i)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${u}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${r}</span>
                    <span id="ag-${u}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${n}</span>
                    <span id="ag-${u}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${u}-start-page">${t}</span>
                        <span id="ag-${u}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${n}</span>
                        <span id="ag-${u}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===r-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){jW(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),r=this.paginationService.getMasterRowCount(),n=e?r:null;if(n===1){const E=this.rowModel.getRow(0);if(E&&E.group&&!(E.groupData||E.aggData)){this.setTotalLabelsToZero();return}}const i=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>n&&(a=n));const u=o+s-1,d=!e&&r<u,p=this.formatNumber(o);this.lbFirstRowOnPage.textContent=p;let f;const g=this.localeService.getLocaleTextFunc();d?f=g("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const w=t>0?i+1:0,y=this.formatNumber(w);this.lbCurrent.textContent=y;let S,b;if(e)S=this.formatNumber(t),b=this.formatNumber(n);else{const E=g("more","more");S=E,b=E}this.lbTotal.textContent=S,this.lbRecordCount.textContent=b,this.announceAriaStatus(p,f,b,y,S)}announceAriaStatus(e,t,r,n,i){const s=this.localeService.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),u=s("of","of"),d=`${e} ${a} ${t} ${u} ${r}`,p=`${o} ${n} ${u} ${i}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationRow")),p!==this.ariaPageStatus&&(this.ariaPageStatus=p,this.ariaAnnouncementService.announceValue(p,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Kq={selector:"AG-PAGINATION",component:jq},Qq=class extends Q{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Kq}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ae(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ae(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ae(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ae(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},JO={version:Oe,moduleName:"@ag-grid-community/pagination-core",beans:[Qq,Uq]},Xq={version:Oe,moduleName:"@ag-grid-community/pagination-api",dependantModules:[JO],apiFunctions:{paginationIsLastPageFound:Iq,paginationGetPageSize:Lq,paginationGetCurrentPage:_q,paginationGetTotalPages:Nq,paginationGetRowCount:Gq,paginationGoToNextPage:Hq,paginationGoToPreviousPage:Wq,paginationGoToFirstPage:Bq,paginationGoToLastPage:Vq,paginationGoToPage:zq}},Jq={version:Oe,moduleName:"@ag-grid-community/pagination",dependantModules:[JO,Xq]},Nr="clientSide",Sr="serverSide",Ta="infinite",Zq={onGroupExpandedOrCollapsed:[Nr],refreshClientSideRowModel:[Nr],isRowDataEmpty:[Nr],forEachLeafNode:[Nr],forEachNodeAfterFilter:[Nr],forEachNodeAfterFilterAndSort:[Nr],resetRowHeights:[Nr],applyTransaction:[Nr],applyTransactionAsync:[Nr],flushAsyncTransactions:[Nr],getBestCostNodeSelection:[Nr],getServerSideSelectionState:[Sr],setServerSideSelectionState:[Sr],applyServerSideTransaction:[Sr],applyServerSideTransactionAsync:[Sr],applyServerSideRowData:[Sr],retryServerSideLoads:[Sr],flushServerSideAsyncTransactions:[Sr],refreshServerSide:[Sr],getServerSideGroupLevelState:[Sr],refreshInfiniteCache:[Ta],purgeInfiniteCache:[Ta],getInfiniteRowCount:[Ta],isLastRowIndexKnown:[Ta,Sr],expandAll:[Nr,Sr],collapseAll:[Nr,Sr],onRowHeightChanged:[Nr,Sr],setRowCount:[Ta,Sr],getCacheBlockState:[Ta,Sr]},ej={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function tj(e,t,r){const n=ej[e];if(n){const{version:s,new:o,old:a,message:u}=n,d=a??e;return(...p)=>{const f=o?`Please use ${o} instead. `:"";return ee(`Since ${s} api.${d} is deprecated. ${f}${u??""}`),t.apply(t,p)}}const i=Zq[e];return i?(...s)=>{const o=r.rowModel.getType();if(!i.includes(o)){Xe(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var rj={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},ks=(e,t)=>{const r=t.rowModelType??"clientSide";return r==="clientSide"||r==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},nj={enableRowGroup:ks,rowGroup:ks,rowGroupIndex:ks,enablePivot:ks,enableValue:ks,pivot:ks,pivotIndex:ks,aggFunc:ks,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Ia},ij={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},sj=Object.keys(ij),Ia={objectName:"colDef",allProperties:sj,docsUrl:"column-properties/",deprecations:rj,validations:nj},oj=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),aj={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},lj=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const r=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:r}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Ia,defaultColDef:()=>Ia,defaultColGroupDef:()=>Ia,autoGroupColumnDef:()=>Ia,selectionColumnDef:()=>Ia}),uj=()=>({objectName:"gridOptions",allProperties:[...ju.ALL_PROPERTIES,...Ku.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:oj(),validations:lj()}),cj=class extends Q{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,uj())}validateApiFunction(e,t){return tj(e,t,this.beans)}processOptions(e,t){const{validations:r,deprecations:n,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(n)],i,o,a);const u=new Set;Object.keys(e).forEach(p=>{const f=n[p];if(f)if("renamed"in f){const{renamed:P,version:F}=f;u.add(`As of v${F}, ${String(p)} is deprecated. Please use ${String(P)} instead.`),e[P]=e[p]}else{const{message:P,version:F}=f;u.add(`As of v${F}, ${String(p)} is deprecated. ${P??""}`)}const g=e[p];if(g==null||g===!1)return;const v=r[p];let w;if(v)if(typeof v=="function"){const P=v(e,this.gridOptions);if(!P)return;if("objectName"in P){const F=e[p];if(Array.isArray(F)){F.forEach(k=>{this.processOptions(k,P)});return}this.processOptions(e[p],P);return}w=P}else w=v;else return;const{module:y,dependencies:S,validate:b,supportedRowModels:E}=w;if(E){const P=this.gridOptions.rowModelType??"clientSide";if(!E.includes(P)){u.add(`${String(p)} is not supported with the '${P}' row model.`);return}}if(y){const P=Array.isArray(y)?y:[y];let F=!0;if(P.forEach(k=>{this.gos.assertModuleRegistered(k,String(p))||(F=!1,u.add(`${String(p)} is only available when ${k} is loaded.`))}),!F)return}if(S){const P=this.checkForRequiredDependencies(p,S,e);if(P){u.add(P);return}}if(b){const P=b(e,this.gridOptions);if(P){u.add(P);return}}}),u.size>0&&u.forEach(p=>{ee(p)})}checkForRequiredDependencies(e,t,r){const i=Object.entries(t).find(([a,u])=>{const d=r[a];return!u.includes(d)});if(!i)return null;const[s,o]=i;return o.length>1?`'${String(e)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${o[0]}.`}checkProperties(e,t,r,n,i){const s=["__ob__","__v_skip","__metadata__"],o=dj(Object.getOwnPropertyNames(e),[...s,...t,...r],r);if(Ln(o,(a,u)=>{let d=`invalid ${n} property '${a}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;r.includes("context")&&(d+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),ee(d)}),Object.keys(o).length>0&&i){const a=this.getFrameworkOverrides().getDocLink(i);ee(`to see all the valid ${n} properties please check: ${a}`)}}};function dj(e,t,r){const n={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>n[s]=ZA({inputValue:s,allSuggestions:r}).values),n}var hj={version:Oe,moduleName:"@ag-grid-community/core"},pj={version:Oe,moduleName:"@ag-grid-community/core-validations",beans:[cj]},ZO={version:Oe,moduleName:"@ag-grid-community/core-community-features",dependantModules:[hj,pj,E2,Cz,Oq,sY,f$,Jq,Pq]},fj=class extends Q{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Ih=new Set(["gridPreDestroyed","fillStart","pasteStart"]),gj=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",mj=new Map([...ju.BOOLEAN_PROPERTIES.map(e=>[e,rS]),...ju.NUMBER_PROPERTIES.map(e=>[e,vO]),["groupAggFiltering",e=>typeof e=="function"?e:rS(e)],["pageSize",Xn(1)],["autoSizePadding",Xn(0)],["keepDetailRowsCount",Xn(1)],["rowBuffer",Xn(0)],["infiniteInitialRowCount",Xn(1)],["cacheOverflowSize",Xn(1)],["cacheBlockSize",Xn(1)],["serverSideInitialRowCount",Xn(1)],["viewportRowModelPageSize",Xn(1)],["viewportRowModelBufferSize",Xn(0)]]);function eI(e,t){const r=mj.get(e);return r?r(t):t}function vj(e){const t={};return Object.entries(e).forEach(([r,n])=>{const i=eI(r,n);t[r]=i}),t}var tI=class rI extends Q{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new pl,this.globalEventHandlerFactory=t=>(r,n)=>{if(!this.isAlive())return;const i=Ih.has(r);if(i&&!t||!i&&t)return;const s=Ku.getCallbackForEvent(r),o=this.gridOptions[s];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:r})=>{this.updateGridOptions({options:r,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??aj[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return ae(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const i=n;return i.api=this.api,i.context=this.gridOptionsContext,t(i)})}updateGridOptions({options:t,force:r,source:n="api"}){var o;const i={id:rI.changeSetId++,properties:[]},s=[];Object.entries(t).forEach(([a,u])=>{n==="api"&&BW[a]&&ee(`${a} is an initial property and cannot be updated.`);const d=eI(a,u),p=r||typeof d=="object"&&n==="api",f=this.gridOptions[a];if(p||f!==d){this.gridOptions[a]=d;const g={type:a,currentValue:d,previousValue:f,changeSet:i,source:n};s.push(g)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),i.properties=s.map(a=>a.type),s.forEach(a=>{this.gridOptions.debug&&_n(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,r){this.propertyEventService.addEventListener(t,r)}removePropertyEventListener(t,r){this.propertyEventService.removeEventListener(t,r)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const r=t;return r.api=this.api,r.context=this.gridOptionsContext,r}assertModuleRegistered(t,r){return ti.__assertRegistered(t,r,this.gridId)}isModuleRegistered(t){return ti.__isRegistered(t,this.gridId)}};tI.changeSetId=0;var Cj=tI,wj=class extends Q{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let r,n;if(Wt(e.column)?r=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,r=this.visibleColsService[n](e.column)),!r)return;const{headerRowIndex:i}=e;if(this.getHeaderRowType(i)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-i]}const{column:s,headerRowIndex:o}=this.getHeaderIndexToFocus(r,i);return{column:s,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(Wt(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let i=r;for(;i!==n;)t++,i=i.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),n=r==="filter",i=r==="column";let s=n?e:e.getParent(),o=t-1,a=o;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=e,o=t,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const n=this.getHeaderRowType(t);let i=e,s=t+1;const o=s;if(n==="group"){const a=e.getDisplayedLeafColumns(),u=r==="After"?a[0]:Be(a),d=[];let p=u;for(;p.getParent()!==e;)p=p.getParent(),d.push(p);if(i=u,u.isSpanHeaderHeight())for(let f=d.length-1;f>=0;f--){const g=d[f];if(!g.isPadding()){i=g;break}s++}else i=Be(d),i||(i=u)}return{column:i,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.visibleColsService.getAllCols(),n=r[t==="start"?0:r.length-1];if(!n)return;const i=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),s=i==null?void 0:i.getRowType(e);if(s=="group"){const o=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:s==null?-1:e,column:n}}},yj=class extends Q{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,n,i)=>e({key:r,defaultValue:n,variableValues:i});const t=this.gos.get("localeText");return(r,n,i)=>{let s=t&&t[r];if(s&&i&&i.length){let o=0;for(;!(o>=i.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",i[o++])}return s??n}}},Sj=class extends Q{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new sR(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(t),n=sp(this.gos)&&!Ih.has(e),i=n?this.asyncEventListeners:this.syncEventListeners;i.has(e)||i.set(e,new Set),i.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,t){var s;const r=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),i=!!(n!=null&&n.delete(r));i||(s=this.syncEventListeners.get(e))==null||s.delete(r),this.eventService.removeEventListener(e,r,i)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(sp(this.gos)){const n=(s,o)=>{Ih.has(s)&&t(s,o)},i=(s,o)=>{Ih.has(s)||t(s,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:i}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:i}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(i,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(i=>this.eventService.removeEventListener(n,i,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},Rj=class extends Q{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},bj=class extends Q{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Ve(this.topRowBounds)||Ve(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=ae(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Dj=class extends Q{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Pr(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Ot(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),LA(t,"polite"),qW(t,"additions text"),YW(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(tn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},Ej=class extends Q{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const r=n=>{for(;n.length;){const i=n.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),r(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),r(this.executeLaterFuncs)},200)})}},Pj=class extends Q{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},Fj=class extends Q{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=vt(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ee("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){var i;const n=e.newAgStackInstance();(i=this.overlayWrapperComp)==null||i.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},xj=class extends Q{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return ae(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),cP(t,this.processClassesFromGridOptions(e.rowNode)),cP(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=s=>{typeof s=="string"?t.push(s):Array.isArray(s)&&s.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return ee("rowClass should not be a function, please use getRowClass instead"),[];r(n)}const i=this.gos.getCallback("getRowClass");if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex},o=i(s);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},()=>{}),t}processRowClassRules(e,t,r){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},Mj=class extends Q{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=iB(),this.gos.get("debug")&&_n("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&_n(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},Tj=class extends Q{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=ei(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=ei(this.gos))}doFullSort(e,t){const r=(i,s)=>({currentPos:s,rowNode:i}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,i=r.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],u=a.sort==="desc",d=this.getValue(n,a.column),p=this.getValue(i,a.column);let f;const g=this.getComparator(a,n);if(g?f=g(d,p,n,i,u):f=rW(d,p,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const i=!t.group&&r.getColDef().field;if(!i)return;const s=this.columnModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){var n,i,s;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(Kp(this.gos,this.columnModel.isPivotActive())){const u=(n=e.allLeafChildren)==null?void 0:n[0];return u?this.valueService.getValue(t,u,!1,!1):void 0}const a=(i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCol(t.getId());return a?(s=e.groupData)==null?void 0:s[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},tf=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const i=this.mapToItems[r.id],s=this.mapToItems[r.parent.id];s.children||(s.children=[]),s.children.push(i),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>r[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>!r[i.getId()])}},nI=class extends Q{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new I2,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:r}=this;this.selectionCtx.init(t),this.rowSelectionMode=ap(e),this.groupSelectsChildren=Wo(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Wo(e),i=ap(e);(n!==this.groupSelectsChildren||i!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=i,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:r.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!gj(t))return e;const r=this.selectionCtx.getRoot();return r?r.isSelected()??!1:!0}setNodesSelected(e){var f;const{newValue:t,clearSelection:r,suppressFinishActions:n,rangeSelect:i,nodes:s,event:o,source:a}=e;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return ee("cannot multi select unless selection mode is 'multiRow'"),0;const u=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=s.map(g=>g.footer?g.sibling:g);if(i){if(d.length>1)return ee("cannot range select while selecting multiple rows"),0;const g=d[0],v=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(g)){const w=this.selectionCtx.truncate(g);return v&&this.selectRange(w.discard,!1,a),this.selectRange(w.keep,v,a)}else if(this.selectionCtx.getRoot()!==g){const S=this.selectionCtx.extend(g,this.groupSelectsChildren);return v&&this.selectRange(S.discard,!1,a),this.selectRange(S.keep,v,a)}}}n||this.selectionCtx.setRoot(d[0]);let p=0;for(let g=0;g<d.length;g++){const v=d[g];u&&v.group||v.selectThisNode(t,o,a)&&p++,this.groupSelectsChildren&&((f=v.childrenAfterGroup)!=null&&f.length)&&(p+=this.selectChildren(v,t,u,a))}return n||(t&&(r||!this.isMultiSelect())&&(p+=this.clearOtherNodes(d[0],a)),p>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),p}selectRange(e,t,r){let n=0;return e.forEach(i=>{if(i.group&&this.groupSelectsChildren)return;i.selectThisNode(t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r,n){const i=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return Ve(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:i})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!vt(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new tf(!0,n),t.setInactive());let i=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==n){const o=s.calculateSelectedFromChildren();i=s.selectThisNode(o===null?!1:o,void 0,e)||i}}),i}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const s=this.selectedNodes.get(i.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&i.parent&&r.set(i.parent.id,i.parent)}}),r.forEach(i=>{const s=i.calculateSelectedFromChildren();i.selectThisNode(s===null?!1:s,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ae(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!vt(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function n(i){for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isSelected())r.push(a);else{const u=a;u.group&&u.children&&n(u.children)}}}return n(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),r=vt(this.gos),{source:n,justFiltered:i,justCurrentPage:s}=e;if(s||i){if(!r){Xe("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(i,s).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let r=0,n=0;const i=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?r++:s.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(i),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,t);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const r=[];if(t)return this.forEachNodeOnPage(i=>{if(!i.group){r.push(i);return}if(!i.expanded){const s=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(s)};s(i);return}this.groupSelectsChildren||r.push(i)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(i=>{r.push(i)}),r):(n.forEachNode(i=>{r.push(i)}),r)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow();for(let n=t;n<=r;n++){const i=this.rowModel.getRow(n);i&&e(i)}}selectAllRowNodes(e){if(oW(this.gos)&&!SA(this.gos))return ee("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:r,justCurrentPage:n}=e,i=this.getNodesToSelect(r,n);i.forEach(s=>s.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(i[0]??null),this.selectionCtx.setEndRange(Be(i)??null),vt(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Xe("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const r=new Set(e),n=[];this.rowModel.forEachNode(i=>{r.has(i.id)&&n.push(i)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!vt(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},kj=class extends Q{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,r=ip(t),n=rR(t);if(!r||!n)return;const i=Wo(t),s=vt(t)&&i,o=[],a=u=>{if(e&&!u.group)return;if(s&&u.group){const p=u.childrenAfterGroup.some(f=>f.selectable===!0);u.setRowSelectable(p,!0);return}const d=(n==null?void 0:n(u))??!0;u.setRowSelectable(d,!0),!d&&u.isSelected()&&o.push(u)};if(s){const u=this.rowModel;new tf(!1,u.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof nI&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},OP=["asc","desc",null],Aj=class extends Q{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const i=ei(this.gos);let s=[e];if(i&&e.getColDef().showRowGroup){const u=this.funcColsService.getSourceColumnsForGroupColumn(e),d=u==null?void 0:u.filter(p=>p.isSortable());d&&(s=[e,...d])}s.forEach(u=>u.setSort(t,n));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const u=this.clearSortBarTheseColumns(s,n);a.push(...u)}this.updateSortIndex(e),a.push(...s),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){var a;const t=ei(this.gos),r=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),n=t&&r||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(u=>u.setSortIndex(null));const s=i.filter(u=>t&&u.getColDef().showRowGroup?!1:u!==n);(n.getSort()?[...s,n]:s).forEach((u,d)=>{u.setSortIndex(d)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=OP,!Array.isArray(t)||t.length<=0)return ee(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),n=r<0,i=r==t.length-1;let s;return n||i?s=t[0]:s=t[r+1],OP.indexOf(s)<0?(ee("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=ei(this.gos);e=e.filter(o=>{var p;const a=!!o.getAggFunc(),u=!o.isPrimary(),d=s?(p=this.showRowGroupColsService)==null?void 0:p.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||u||d})}const t=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),r={};e.forEach((s,o)=>r[s.getId()]=o),e.sort((s,o)=>{const a=s.getSortIndex(),u=o.getSortIndex();if(a!=null&&u!=null)return a-u;if(a==null&&u==null){const d=r[s.getId()],p=r[o.getId()];return d>p?1:-1}else return u==null?-1:1});const n=ei(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(s=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(s.getId()))??s}))]);const i=new Map;return e.forEach((s,o)=>i.set(s,o)),n&&t.forEach(s=>{const o=this.showRowGroupColsService.getShowRowGroupCol(s.getId());i.set(s,i.get(o))}),i}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=ei(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},Oj=class extends Q{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&_n(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,So(e.source))}}},Ij="paste",Lj=class extends Q{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==Ij&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),i=new tf(n,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst(s=>{r.push(s)})}this.rowRenderer.refreshCells({rowNodes:r})}},_j=class extends Q{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Xe("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return _n("Processing of the expression failed"),_n("Expression = ",e),_n("Params = ",t),_n("Exception = ",r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Nj=class extends Q{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Gj=class extends Q{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=yi(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=sp(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValueForDisplay(e,t){const r=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!r,i=this.gos.get("groupSuppressBlankHeader");if(!n||i)return this.getValue(e,t);let s=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?s=!!o:s=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=n&&s;return this.getValue(e,t,!1,a)}getValue(e,t,r=!1,n=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId(),a=t.data;let u;const d=t.groupData&&t.groupData[o]!==void 0,p=!n&&t.aggData&&t.aggData[o]!==void 0,f=this.isSsrm&&n&&!!e.getColDef().aggFunc,g=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&i.filterValueGetter?u=this.executeFilterValueGetter(i.filterValueGetter,a,e,t):this.isTreeData&&p?u=t.aggData[o]:this.isTreeData&&i.valueGetter?u=this.executeValueGetter(i.valueGetter,a,e,t):this.isTreeData&&s&&a?u=Lu(a,s,e.isFieldContainsDots()):d?u=t.groupData[o]:p?u=t.aggData[o]:i.valueGetter?u=this.executeValueGetter(i.valueGetter,a,e,t):g?u=Lu(a,t.field,e.isFieldContainsDots()):s&&a&&!f&&(u=Lu(a,s,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const v=u.substring(1);u=this.executeValueGetter(v,a,e,t)}if(u==null){const v=this.getOpenedGroup(t,e);if(v!=null)return v}return u}parseValue(e,t,r,n){const i=e.getColDef(),s=i.valueParser;if(ae(s)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionService.evaluate(s,o)}return r}getDeleteValue(e,t){return ae(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,r,n,i=!0){let s=null,o;const a=e.getColDef();if(n?o=n:i&&(o=a.valueFormatter),o){const u=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?s=o(u):s=this.expressionService.evaluate(o,u)}else if(a.refData)return a.refData[r]||"";return s==null&&Array.isArray(r)&&(s=r.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(n===!0||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,r,n){const i=this.columnModel.getColDefCol(t);if(!e||!i)return!1;Ve(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Ve(s)&&Ve(o))return ee("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(i,r))return ee("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:r,colDef:i.getColDef(),column:i});a.newValue=r;let u;if(ae(o)?typeof o=="function"?u=o(a):u=this.expressionService.evaluate(o,a):u=this.setValueUsingField(e.data,s,r,i.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const d=this.getValue(i,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:d,value:d,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===r,i||(e[t]=r);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===r,i||(o[a]=r)):o=o[a]}}return!i}executeFilterValueGetter(e,t,r,n){const i=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(i):this.expressionService.evaluate(e,i)}executeValueGetter(e,t,r,n){const i=r.getColId(),s=this.valueCache.getValue(n,i);if(s!==void 0)return s;const o=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(n,i,a),a}getValueCallback(e,t){const r=this.columnModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let i=r;if(n){const s=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&ee("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),i}},kR=class Co{static applyGlobalGridOptions(t){if(!Co.gridOptions)return t;let r={};return Er(r,Co.gridOptions,!0,!0),Co.mergeStrategy==="deep"?Er(r,t,!0,!0):r={...r,...t},Co.gridOptions.context&&(r.context=Co.gridOptions.context),t.context&&(Co.mergeStrategy==="deep"&&r.context&&Er(t.context,r.context,!0,!0),r.context=t.context),r}};kR.gridOptions=void 0;kR.mergeStrategy="shallow";var iI=kR;function Hj(e){var t;return(t=iI.gridOptions)==null?void 0:t[e]}var Wj=1,Bj=class{create(e,t,r,n,i){const s=iI.applyGlobalGridOptions(t),o=vj(s),a=o.gridId??String(Wj++),u=this.getRegisteredModules(i,a),d=this.createBeansList(o.rowModelType,u,a),p=this.createProvidedBeans(e,o,i);if(!d){Xe("Failed to create grid.");return}const f={providedBeanInstances:p,beanClasses:d,gridId:a,beanInitComparator:e$,beanDestroyComparator:t$,derivedBeans:[$2]},g=new iV(f);return this.registerModuleUserComponents(g,u),this.registerControllers(g,u),this.registerModuleApiFunctions(g,u),r(g),g.getBean("syncService").start(),n&&n(g),g.getBean("gridApi")}registerControllers(e,t){const r=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(i=>r.register(i))})}getRegisteredModules(e,t){const r=e?e.modules:null,n=ti.__getRegisteredModules(t),i=[],s={},o=(a,u,d)=>{(f=>{s[f.moduleName]||(s[f.moduleName]=!0,i.push(f),ti.__register(f,a,d))})(u),u.dependantModules&&u.dependantModules.forEach(f=>o(a,f,d))};return o(!!(r!=null&&r.length)||!ti.__isPackageBased(),ZO,void 0),r&&r.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!ti.__isPackageBased(),a,void 0)),i}registerModuleUserComponents(e,t){const r=this.extractModuleEntity(t,i=>i.userComponents?i.userComponents:[]),n=e.getBean("userComponentRegistry");r.forEach(({name:i,classImp:s,params:o})=>{n.registerDefaultComponent(i,s,o)})}registerModuleApiFunctions(e,t){const r=e.getBean("apiFunctionService");t.forEach(n=>{const i=n.apiFunctions;i&&Object.keys(i).forEach(o=>{r==null||r.addFunction(o,i[o])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Ve(n)&&(n=new $O);const i={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i}createBeansList(e="clientSide",t,r){const n=t.filter(u=>!u.rowModel||u.rowModel===e),i={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!i[e]){Xe("Could not find row model for rowModelType = ",e);return}if(!ti.__assertRegistered(i[e],`rowModelType = '${e}'`,r))return;const s=[o$,i$,wj,fj,U2,GB,X2,J2,HU,eO,Mj,NU,yj,T2,lV,GW,u$,Cj,W2,nI,FW,wz,bj,Rj,x2,_j,PW,_U,Nj,Gj,P2,GU,sV,c$,LU,a$,V2,L2,IU,Aj,Pj,Ej,kj,Lj,WU,Y2,xj,Tj,n$,d$,s$,r$,Oj,Fj,BU,Sj,Dj,VU,TW,q2,kW,xW,j2,K2,NW,MW,LW,Q2,_W,SW],o=this.extractModuleEntity(n,u=>u.beans?u.beans:[]);s.push(...o);const a=[];return s.forEach(u=>{a.indexOf(u)<0&&a.push(u)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},sI=class extends Q{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function Vj(e){e.expansionService.expandAll(!0)}function zj(e){e.expansionService.expandAll(!1)}function Uj(e){var n,i;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),r=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function $j(e,t,r){var s,o;const n=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,r);return}Xe("setRowCount cannot be used while using row grouping.");return}const i=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(i){i.setRowCount(t,r);return}}function Yj(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function qj(e){return e.rowModel.isLastRowIndexKnown()}var jj={version:Oe,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:Vj,collapseAll:zj,onRowHeightChanged:Uj}},Kj={version:Oe,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:$j,getCacheBlockState:Yj,isLastRowIndexKnown:qj}},Qj=class{wrap(e,t,r=[],n){const i=this.createWrapper(e,n);return t.forEach(s=>{this.createMethod(i,s,!0)}),r.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&ee("Framework component is missing the method "+t+"()"),null)}}},Cl=typeof global>"u"?{}:global;Cl.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Cl.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Cl.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Cl.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Cl.Node=typeof Node>"u"?{}:Node;Cl.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Xj="ROOT_NODE_ID",ev=0,Jj=class{constructor(e,t,r,n,i,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=r,this.funcColsService=n,this.beans=s,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Xj,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return FA(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ee("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,r=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,i)=>this.createNode(n,this.rootNode,ev,i)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=t.childrenAfterFilter,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenAfterAggFilter=t.childrenAfterAggFilter,r.childrenAfterSort=t.childrenAfterSort,r.childrenMapped=t.childrenMapped,r.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[];return this.executeRemove(e,t,r),this.executeUpdate(e,t,r),this.executeAdd(e,t),this.updateSelection(r,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,r=(t==null?void 0:t.length)??0,n=new Map;let i=-1,s=-1;for(let o=0;o<r;++o){const a=t[o],u=a.data;u!==e[o]&&(s<0&&(i=o),s=o,n.set(u,a))}if(i<0)return!1;for(let o=i;o<=s;++o){const a=n.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const r=e.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const r=e.add;if(Zr(r))return;const n=this.rootNode.allLeafChildren;let i=n.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")))for(let u=0;u<n.length;u++){const d=n[u];if((d==null?void 0:d.rowIndex)==i-1){i=u+1;break}}const s=r.map((a,u)=>this.createNode(a,this.rootNode,ev,i+u));if(i<n.length){const a=n.slice(0,i),u=n.slice(i,n.length),d=a.length+s.length;for(let p=0,f=u.length;p<f;++p)u[p].sourceRowIndex=d+p;this.rootNode.allLeafChildren=[...a,...s,...u],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(s);const o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=s}sanitizeAddIndex(e){var r;const t=((r=this.rootNode.allLeafChildren)==null?void 0:r.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},r){var o,a;const{remove:n}=e;if(Zr(n))return;const i={};n.forEach(u=>{const d=this.lookupRowNode(u);d&&(d.isSelected()&&r.push(d),d.clearRowTopAndRowIndex(),i[d.id]=!0,delete this.allNodesMap[d.id],t.remove.push(d))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(u=>!i[u.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((u,d)=>{u.sourceRowIndex=d});const s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},r){const{update:n}=e;Zr(n)||n.forEach(i=>{const s=this.lookupRowNode(i);s&&(s.updateData(i),!s.selectable&&s.isSelected()&&r.push(s),this.setMasterForRow(s,i,ev,!1),t.update.push(s))})}lookupRowNode(e){var n;const t=fl(this.gos);let r;if(t){const i=t({data:e,level:0});if(r=this.allNodesMap[i],!r)return Xe(`could not find row id=${i}, data item was not found for this id`),null}else if(r=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(i=>i.data===e),!r)return Xe("could not find data item as object was not found",e),Xe("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,t,r,n){const i=new $i(this.beans);return i.sourceRowIndex=n,i.group=!1,this.setMasterForRow(i,e,r,!0),t&&(i.parent=t),i.level=r,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&ee(`duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,r,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,u=r+a;e.expanded=e.master?this.isExpanded(u):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},Zj=class extends Q{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Pr(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new $i(this.beans),this.nodeManager=new Jj(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),u=[...e,...t,...r,...n,...n,...i,...s,...o,...a];this.addManagedPropertyListeners(u,d=>{var g;const p=(g=d.changeSet)==null?void 0:g.properties;if(!p)return;const f=v=>p.some(w=>v.has(w));if(f(e)){this.setRowData(this.rootNode.allLeafChildren.map(v=>v.data));return}if(f(t)){this.refreshModel({step:"group"});return}if(f(r)){this.refreshModel({step:"filter"});return}if(f(n)){this.refreshModel({step:"pivot"});return}if(f(i)){this.refreshModel({step:"aggregate"});return}if(f(s)){this.refreshModel({step:"sort"});return}if(f(o)){this.refreshModel({step:"filter_aggregates"});return}f(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,n){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),u=Math.max(o,r),d=Math.min(a,n);for(let p=u;p<=d;p++){const f=this.getRow(p);if(f.rowHeightEstimated){const g=Us(this.gos,f);f.setRowHeight(g.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,n=sr(this.gos,"normal");for(let i=0;i<this.rowsToDisplay.length;i++){const s=this.rowsToDisplay[i];if(s.id!=null&&r.add(s.id),s.rowHeight==null){const o=Us(this.gos,s,n,e);s.setRowHeight(o.height,o.estimated)}s.setRowTop(t),s.setRowIndex(i),t+=s.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),n=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const o=s.level==-1;r&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const n=this.getRowIndexAtPixel(t),i=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{Fr(o,a)}),e.forEach((a,u)=>{lp(o,a,Math.max(n+r,0)+u)}),e.forEach((a,u)=>{a.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,n),s=this.isHighlightingCurrentPosition(e,n,i),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(s||o)&&(this.clearHighlightedRow(),s)||(n.setHighlighted(i),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return 1}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,r){if(e===t)return!0;const n=r===0?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,r=this.rootNode.sibling?1:0;return(t?t.length:0)+r}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;r-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],i=r>=this.rootNode.childrenAfterSort.length;if(n.footer&&i)return n.rowIndex;let s=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(Ve(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Wa(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Wa(this.gos),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Wa(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Zr(e),r=new tf(!1,this.rootNode);return t&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(ae(e)&&(t=r[e]),Ve(t)){Xe(`invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,r,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Ve(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ve(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return ae(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const i=[],s=Wo(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!s){i.push(o);return}}),i}setDatasource(e){Xe("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Be(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let i=-1,s=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),i===t&&s===r))return o;i=t,s=r}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:i}=e;let{index:s}=e;const o=a=>{var v;const u=(v=t[0])==null?void 0:v.parent;if(!u)return;const d=i&&vA(this.gos),p=CA(this.gos),f=i&&p({node:u});if(u===this.rootNode){d===a&&(u.createFooter(),r(u.sibling,s++));return}f===a&&(u.createFooter(),r(u.sibling,s++))};o("top");for(let a=0;a<t.length;a++){const u=t[a];if(r(u,s++),u.hasChildren()&&!u.footer){let d=null;switch(n){case 0:d=u.childrenAfterGroup;break;case 1:d=u.childrenAfterAggFilter;break;case 2:d=u.childrenAfterSort;break;case 3:d=u.leafGroup?null:u.childrenAfterSort;break}d&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:r,recursionType:n,index:s,includeFooterNodes:i}))}}return o("bottom"),s}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),n=i=>{i&&i.forEach(s=>{const o=()=>{s.expanded=e,n(s.childrenAfterGroup)};if(t){ae(s.childrenAfterGroup)&&o();return}if(r){!s.leafGroup&&o();return}s.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:r,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Wo(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const i=this.rootNode,s=i.sibling;i.childrenAfterGroup=i.allLeafChildren,s&&(s.childrenAfterGroup=i.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf($i.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n;this.valueCache.onDataChanged();const e=[],t=[];let r=!1;(n=this.rowDataTransactionBatch)==null||n.forEach(i=>{const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commonUpdateRowData(t,r),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:r}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],r),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const r=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function eK(e){e.expansionService.onGroupExpandedOrCollapsed()}function tK(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.refreshModel(t)}function rK(e){var t,r;return((r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.isEmpty())??!0}function nK(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachLeafNode(t)}function iK(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function sK(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function oK(e){var t,r;if(e.columnModel.isAutoRowHeightActive()){ee("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||r.resetRowHeights()}function aK(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r,n;return(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function lK(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n,i;return(i=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:i.batchUpdateRowData(t,r)})}function uK(e){e.frameworkOverrides.wrapIncoming(()=>{var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.flushAsyncTransactions()})}function cK(e){return e.selectionService.getBestCostNodeSelection()}var dK=class extends Q{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const u=s.childrenAfterGroup[a],d=o||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?n(s.childrenAfterGroup[a],d):r(u,d)}r(s,o)},i=s=>n(s,!1);t.executeFromRootNode(i)}else{const n=i=>r(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},hK=class extends Q{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,r=[],n=this.columnModel.isPivotMode(),i=n&&t.leafGroup,s=i?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,s,r,n,0);const a=r.length>0;if(!i&&a&&o.grandTotalRow){t.createFooter();const d=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,d)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:wA(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:vA(this.gos),groupTotalRow:CA(this.gos)}}recursivelyAddToRowsToDisplay(e,t,r,n,i){if(!Zr(t))for(let s=0;s<t.length;s++){const o=t[s],a=o.hasChildren(),u=n&&!a,d=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,f=n&&o.leafGroup,g=e.hideOpenParents&&o.expanded&&!o.master&&!f;if(!u&&!g&&!d&&!p&&this.addRowNodeToRowsToDisplay(e,o,r,i),!(n&&o.leafGroup)){if(a){const w=d||p;if(o.expanded||w){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const S=w?i:i+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,S)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,n,S),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,S))}}else if(o.master&&o.expanded){const w=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,w,r,i)}}}}addRowNodeToRowsToDisplay(e,t,r,n,i){i?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(ae(e.detailNode))return e.detailNode;const t=new $i(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,ae(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},pK=class extends Q{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const r=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:i}=r.updateRowData(t);let s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=r.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,s||i)}createTransactionForRowData(e){if(!vt(this.gos))return Xe("ImmutableService only works with ClientSideRowModel"),null;const t=fl(this.gos);if(t==null)return Xe("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const r=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],i=[],s=[];return ae(e)&&e.forEach(o=>{const a=t({data:o,level:0}),u=r[a];u?(u.data!==o&&i.push(o),r[a]=void 0):s.push(o)}),Ln(r,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:i,add:s}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},fK=class extends Q{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,r,n,i,s){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(g=>g.isRowGroupActive());let u={};r&&n&&(u=this.calculateDirtyNodes(n));const d=this.columnModel.isPivotMode(),p=this.gos.getCallback("postSortRows"),f=g=>{var y;this.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);const v=d&&g.leafGroup;if(o&&a&&!g.leafGroup&&!s){const S=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[g.level+1],b=(S==null?void 0:S.getSort())===null,E=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!b){const P={};g.childrenAfterSort.forEach((F,k)=>{P[F.id]=k}),E.sort((F,k)=>(P[F.id]??0)-(P[k.id]??0))}g.childrenAfterSort=E}else!t||v?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=this.doDeltaSort(g,u,i,e):g.childrenAfterSort=this.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),this.updateChildIndexes(g),p){const S={nodes:g.childrenAfterSort};p(S)}};i&&i.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(i)}calculateDirtyNodes(e){const t={},r=n=>{n&&n.forEach(i=>t[i.id]=!0)};return e&&e.forEach(n=>{r(n.add),r(n.update),r(n.remove)}),t}doDeltaSort(e,t,r,n){const i=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(i,n);const o={},a=[];i.forEach(f=>{t[f.id]||!r.canSkip(f)?a.push(f):o[f.id]=!0});const u=s.filter(f=>o[f.id]),d=(f,g)=>({currentPos:g,rowNode:f}),p=a.map(d).sort((f,g)=>this.rowNodeSorter.compareRowNodes(n,f,g));return this.mergeSortedArrays(n,p,u.map(d)).map(({rowNode:f})=>f)}mergeSortedArrays(e,t,r){const n=[];let i=0,s=0;for(;i<t.length&&s<r.length;)this.rowNodeSorter.compareRowNodes(e,t[i],r[s])<0?n.push(t[i++]):n.push(r[s++]);for(;i<t.length;)n.push(t[i++]);for(;s<r.length;)n.push(r[s++]);return n}updateChildIndexes(e){if(Ve(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],i=r===0,s=r===e.childrenAfterSort.length-1;n.setFirstChild(i),n.setLastChild(s),n.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ee("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Ve(e)||e.forEach(r=>{var i;(((i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCols())??[]).forEach(s=>{const o=s.getColDef().showRowGroup;if(typeof o!="string"){Xe("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,u=this.columnModel.getColDefCol(a);if(u!==r.rowGroupColumn)if(t)r.setGroupValue(s.getId(),void 0);else{const p=this.getFirstChildOfFirstChild(r,u);p&&r.setGroupValue(s.getId(),p.key)}})})}getFirstChildOfFirstChild(e,t){let r=e;for(;r;){const n=r.parent;if(n&&r.firstChild){if(n.rowGroupColumn===t)return n}else return null;r=n}return null}},gK=class extends Q{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),r=ae(t)&&t.length>0,n=r&&ae(e.rowNodeTransactions)&&this.gos.get("deltaSort"),i=t.some(s=>ei(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,i)}},AR="32.3.3",oI={version:AR,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[Zj,dK,gK,hK,fK,pK]},mK={version:AR,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[sI],apiFunctions:{onGroupExpandedOrCollapsed:eK,refreshClientSideRowModel:tK,isRowDataEmpty:rK,forEachLeafNode:nK,forEachNodeAfterFilter:iK,forEachNodeAfterFilterAndSort:sK,resetRowHeights:oK,applyTransaction:aK,applyTransactionAsync:lK,flushAsyncTransactions:uK,getBestCostNodeSelection:cK},dependantModules:[oI,jj]},vK={version:AR,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[oI,mK]},CK=class extends Q{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},wK=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:r,columnNameService:n,valueService:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.columnModel=t,this.funcColsService=r,this.columnNameService=n,this.valueService=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,i){const o=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueService.getValue(e,i);return this.processCell({accumulatedRowIndex:r,rowNode:i,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(o=e.groupData)==null?void 0:o[t.getId()],u=this.gos.get("suppressGroupMaintainValueType");if(u&&a!=null||!u&&a!==void 0||yi(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const d=t.getColDef();return d==null||d.showRowGroup===!0||d.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=Kp(this.gos,this.columnModel.isPivotMode());return r===0&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),i=u=>{var p;if(r||n)return u.key;const d=(p=u.groupData)==null?void 0:p[e.getId()];return!d||!u.rowGroupColumn||u.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:this.valueService.formatValue(u.rowGroupColumn,u,d)??d},s=t.footer,o=[i(t)];if(!wA(this.gos))for(;t.parent;)t=t.parent,o.push(i(t));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:i,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:i,type:o,parseValue:a=>this.valueService.parseValue(n,r,a,this.valueService.getValue(n,r)),formatValue:a=>this.valueService.formatValue(n,r,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueService.formatValue(n,r,i)}:{value:i??""}}},yK=class{static download(e,t){const r=document.defaultView||window;if(!r){ee("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),i=r.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(i)},0)}},IP=`\r
`,SK=class extends wK{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,IP),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ee("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=IP),this.isFirstLine=!1}},RK=class extends CK{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ee("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;yK.download(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:r,funcColsService:n,valueService:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:p,columnSeparator:f}=e;return new SK({columnModel:t,columnNameService:r,funcColsService:n,valueService:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:p||!1,columnSeparator:f||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function bK(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function DK(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var EK=class extends Q{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:i}=t,s=this.getColumnsToExport(r,i,n);return tW(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,r,n){var b;const i=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),u=t.rowPositions!=null||!!t.onlySelected,d=this.gos.get("groupHideOpenParents")&&!u,p=this.columnModel.isPivotMode()?n.leafGroup:!n.group,f=!!n.footer,g=o&&n.leafGroup,v=n.allChildrenCount===1&&((b=n.childrenAfterGroup)==null?void 0:b.length)===1&&(s||g);if(!p&&!f&&(t.skipRowGroups||v||d)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!p&&!f||i(this.gos.addGridCommonParams({node:n})))return;const S=e.onNewBodyRow(n);if(r.forEach((E,P)=>{S.onColumn(E,P,n)}),t.getCustomContentBelowRow){const E=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));E&&e.addCustomContent(E)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new kA,i=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(i,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((i,s)=>{n.onColumn(i,s,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel.getPinnedTopRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,i=vt(this.gos),s=yi(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,p)=>d.rowIndex-p.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())i?n.forEachPivotNode(a,!0):s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(a)}else u==="all"?n.forEachNode(a):i||s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(n,i)=>{var s,o;return n.rowIndex!=null&&i.rowIndex!=null?n.rowIndex-i.rowIndex:n.level===i.level?((s=n.parent)==null?void 0:s.id)===((o=i.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:i,currentPos:i.rowIndex??-1}):r(n.parent,i.parent):n.level>i.level?r(n.parent,i):r(n,i.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel.getPinnedBottomRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getColsForKeys(r);const i=this.gos.get("treeData");let s=[];return e&&!n?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),t&&!i&&(s=s.filter(o=>oS(o)||bc(o))),s}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>n.push(o))}),e.length>0&&Wt(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const u=o.getLeafColumns().reduce((d,p,f,g)=>{let v=Be(d);return p.getColumnGroupShow()==="open"?(!v||v[1]!=null)&&(v=[f],d.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),d},[]);n.onColumn(o,a||"",i++,o.getLeafColumns().length-1,u)})}},OR="32.3.3",aI={version:OR,moduleName:"@ag-grid-community/csv-export-core",beans:[RK,EK]},PK={version:OR,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:bK,exportDataAsCsv:DK},dependantModules:[aI]},FK={version:OR,moduleName:"@ag-grid-community/csv-export",dependantModules:[aI,PK]},xK=class extends k2{wireBeans(e){this.beans=e}constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){ae(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Ve(this.params.datasource.getRows)){ee("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,i)=>{this.startRow+i<r&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new $i(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,n)=>{const i=e.rowData?e.rowData[n]:void 0;!r.id&&r.alreadyRendered&&i&&(this.rowNodes[n]=new $i(this.beans),this.rowNodes[n].setRowIndex(r.rowIndex),this.rowNodes[n].setRowTop(r.rowTop),this.rowNodes[n].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],i,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},MK=2,TK=class extends Q{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.createBean(new xK(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&_n(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(r);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,s=MK-1;t.forEach((o,a)=>{const u=o.getState()==="needsLoading"&&a>=s,d=n?a>=i:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,ae(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Xa;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return lS(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,i=!1;const s=new Xa;let o=!1;return this.getBlocksInOrder().forEach(u=>{if(!o){if(i&&n+1!==u.getId()){o=!0;return}n=u.getId(),u.forEachNode(d=>{const p=d===e||d===t;(i||p)&&r.push(d),p&&(i=!i)},s,this.rowCount)}}),o||i?[]:r}},kK=class extends Q{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Mo(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ee("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Mo(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!$u(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;fl(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:Mo(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Xa},this.infiniteCache=this.createBean(new TK(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function AK(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.refreshCache()}function OK(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.purgeCache()}function IK(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.getRowCount()}var IR="32.3.3",lI={version:IR,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[kK],dependantModules:[O2]},LK={version:IR,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[sI],apiFunctions:{refreshInfiniteCache:AK,purgeInfiniteCache:OK,getInfiniteRowCount:IK},dependantModules:[lI,Kj]},_K={version:IR,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[lI,LK]};ti.__registerModules([ZO,vK,_K,FK],!1,void 0);var gr=x.createContext({}),xc=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();if(s==null)return;let o,a,u=!1;return s.then(d=>{if(u){t.destroyBean(d);return}o=d,a=o.getGui(),r.appendChild(a),LP(n,o)}),()=>{var d;u=!0,o&&((d=a==null?void 0:a.parentElement)==null||d.removeChild(a),t.destroyBean(o),n&&LP(n,void 0))}},LP=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},In=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),mn=class uI{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const i=new uI;return i.classesMap={...this.classesMap},i.classesMap[t]=r,i}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},wl=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Kk,RS=(Kk=x.version)==null?void 0:Kk.split(".")[0],NK=RS==="16"||RS==="17";function GK(){return RS==="19"}var Lh=!1;function HK(e){return Lh||setTimeout(()=>Lh=!1,0),Lh=!0,e()}var LR=(e,t)=>{!NK&&e&&!Lh?qp.flushSync(t):t()};function _R(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const u=t[a];o.set(u.instanceId,u)}for(let a=0;a<e.length;a++){const u=e[a];s.set(u.instanceId,u),o.has(u.instanceId)&&n.push(u)}for(let a=0;a<t.length;a++){const u=t[a],d=u.instanceId;s.has(d)||i.push(u)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var cI=D.forwardRef((e,t)=>{var Z;const{ctrlsFactory:r,context:n}=D.useContext(gr),i=D.useRef(null),s=D.useRef(null),o=D.useRef(null),a=D.useRef(null),u=D.useRef(null),d=D.useRef(),[p,f]=D.useState(),[g,v]=D.useState(),[w,y]=D.useState(),[S,b]=D.useState(()=>new mn),[E,P]=D.useState(()=>new mn("ag-hidden")),[F,k]=D.useState(()=>new mn("ag-hidden")),[A,T]=D.useState(()=>new mn("ag-invisible"));D.useImperativeHandle(t,()=>({refresh(){return!1}})),D.useLayoutEffect(()=>xc(p,n,s.current),[p]);const I=D.useCallback(z=>{if(i.current=z,!z){d.current=n.destroyBean(d.current);return}const ne={setInnerRenderer:(O,N)=>{f(O),y(N)},setChildCount:O=>v(O),addOrRemoveCssClass:(O,N)=>b(J=>J.setClass(O,N)),setContractedDisplayed:O=>k(N=>N.setClass("ag-hidden",!O)),setExpandedDisplayed:O=>P(N=>N.setClass("ag-hidden",!O)),setCheckboxVisible:O=>T(N=>N.setClass("ag-invisible",!O))},re=r.getInstance("groupCellRendererCtrl");re&&(d.current=n.createBean(re),d.current.init(ne,z,o.current,a.current,u.current,cI,e))},[]),L=D.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),H=D.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),G=D.useMemo(()=>`ag-group-contracted ${F.toString()}`,[F]),V=D.useMemo(()=>`ag-group-checkbox ${A.toString()}`,[A]),$=p&&p.componentFromFramework,te=$?p.componentClass:void 0,se=p==null&&w!=null,X=ai(w,!0);return x.createElement("span",{className:L,ref:I,...e.colDef?{}:{role:(Z=d.current)==null?void 0:Z.getCellAriaRole()}},x.createElement("span",{className:H,ref:a}),x.createElement("span",{className:G,ref:u}),x.createElement("span",{className:V,ref:o}),x.createElement("span",{className:"ag-group-value",ref:s},se&&x.createElement(x.Fragment,null,X),$&&x.createElement(te,{...p.params})),x.createElement("span",{className:"ag-group-child-count"},g))}),_P=cI,NR=D.createContext({setMethods:()=>{}}),WK=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:i}=e,[{key:s,...o},a]=D.useState(t);return D.useEffect(()=>{r(u=>a(u))},[]),x.createElement(NR.Provider,{value:{setMethods:i}},x.createElement(n,{key:s,...o}))},BK=D.memo(WK),VK=0;function NP(){return`agPortalKey_${++VK}`}var dI=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=NP(),this.portalKey=NP(),this.instanceCreated=this.isStatelessComponent()?At.resolve(!1):new At(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ee('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ee('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new At(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Yp.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return D.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function GR(e,t,r){e.forEach(n=>{const i=t[n];i&&(r[n]=i)})}var Ri=class extends dI{constructor(){super(...arguments),this.awaitUpdateCallback=new At(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=BK}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new At(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,GR(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new At(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},zK=class extends Ri{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},UK=class extends Ri{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},$K=class extends Ri{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},YK=class extends Ri{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function hI(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||At.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var qK=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){GR(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),hI(this.floatingFilterParams,e)}},jK=class extends Ri{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),hI(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},KK=class extends Ri{refresh(e){this.sourceParams=e,this.refreshProps()}},QK=class extends Ri{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},XK=class extends Ri{refresh(e){this.sourceParams=e,this.refreshProps()}},JK=class extends Ri{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ZK=class extends Ri{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function HR(){ee("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var e3=1e3,t3=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},r3=({ctrl:e})=>{const t=e.isAlive(),{context:r}=D.useContext(gr),n=t?e.getColId():void 0,[i,s]=D.useState(),o=D.useRef(),a=D.useRef(null),u=D.useRef(null),d=D.useRef(null),p=D.useRef(),f=D.useRef();t&&!f.current&&(f.current=new Ec(()=>a.current));const g=D.useCallback(S=>{var P;if(a.current=S,o.current=S?r.createBean(new gl):r.destroyBean(o.current),!S||!t)return;const b={setWidth:F=>{a.current&&(a.current.style.width=F)},addOrRemoveCssClass:(F,k)=>f.current.addOrRemoveCssClass(F,k),setAriaSort:F=>{a.current&&(F?tB(a.current,F):rB(a.current))},setUserCompDetails:F=>s(F),getUserCompInstance:()=>p.current||void 0};e.setComp(b,S,u.current,d.current,o.current);const E=e.getSelectAllGui();(P=u.current)==null||P.insertAdjacentElement("afterend",E),o.current.addDestroyFunc(()=>E.remove())},[]);D.useLayoutEffect(()=>xc(i,r,d.current,p),[i]),D.useEffect(()=>{e.setDragSource(a.current)},[i]);const v=D.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&wl(i.componentClass)),[i]),w=i&&i.componentFromFramework,y=i&&i.componentClass;return x.createElement("div",{ref:g,className:"ag-header-cell","col-id":n,role:"columnheader"},x.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),x.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},w&&v&&x.createElement(y,{...i.params}),w&&!v&&x.createElement(y,{...i.params,ref:p})))},n3=D.memo(r3),i3=({ctrl:e})=>{const{context:t,gos:r}=D.useContext(gr),[n,i]=D.useState(()=>new mn("ag-header-cell","ag-floating-filter")),[s,o]=D.useState(()=>new mn),[a,u]=D.useState(()=>new mn("ag-floating-filter-button","ag-hidden")),[d,p]=D.useState("false"),[f,g]=D.useState(),[,v]=D.useState(1),w=D.useRef(),y=D.useRef(null),S=D.useRef(null),b=D.useRef(null),E=D.useRef(null),P=D.useRef(),F=D.useRef(),k=X=>{X!=null&&P.current&&P.current(X)},A=D.useCallback(X=>{if(y.current=X,w.current=X?t.createBean(new gl):t.destroyBean(w.current),!X)return;F.current=new At(z=>{P.current=z});const Z={addOrRemoveCssClass:(z,ne)=>i(re=>re.setClass(z,ne)),addOrRemoveBodyCssClass:(z,ne)=>o(re=>re.setClass(z,ne)),setButtonWrapperDisplayed:z=>{u(ne=>ne.setClass("ag-hidden",!z)),p(z?"false":"true")},setWidth:z=>{y.current&&(y.current.style.width=z)},setCompDetails:z=>g(z),getFloatingFilterComp:()=>F.current?F.current:null,setMenuIcon:z=>{var ne;return(ne=E.current)==null?void 0:ne.appendChild(z)}};e.setComp(Z,X,E.current,S.current,w.current)},[]);D.useLayoutEffect(()=>xc(f,t,S.current,k),[f]);const T=D.useMemo(()=>n.toString(),[n]),I=D.useMemo(()=>s.toString(),[s]),L=D.useMemo(()=>a.toString(),[a]),H=D.useMemo(()=>!!(f&&f.componentFromFramework&&wl(f.componentClass)),[f]),G=D.useMemo(()=>r.get("reactiveCustomComponents"),[]),V=D.useMemo(()=>{if(f)if(G){const X=new qK(f.params,()=>v(Z=>Z+1));return k(X),X}else f.componentFromFramework&&HR()},[f]),$=V==null?void 0:V.getProps(),te=f&&f.componentFromFramework,se=f&&f.componentClass;return x.createElement("div",{ref:A,className:T,role:"gridcell"},x.createElement("div",{ref:S,className:I,role:"presentation"},te&&!G&&x.createElement(se,{...f.params,ref:H?()=>{}:k}),te&&G&&x.createElement(NR.Provider,{value:{setMethods:X=>V.setMethods(X)}},x.createElement(se,{...$}))),x.createElement("div",{ref:b,"aria-hidden":d,className:L,role:"presentation"},x.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},s3=D.memo(i3),o3=({ctrl:e})=>{const{context:t}=D.useContext(gr),[r,n]=D.useState(()=>new mn),[i,s]=D.useState(()=>new mn),[o,a]=D.useState("false"),[u,d]=D.useState(),[p,f]=D.useState(),g=D.useMemo(()=>e.getColId(),[]),v=D.useRef(),w=D.useRef(null),y=D.useRef(null),S=D.useRef(null),b=D.useRef(),E=D.useCallback(I=>{if(w.current=I,v.current=I?t.createBean(new gl):t.destroyBean(v.current),!I)return;const L={setWidth:H=>{w.current&&(w.current.style.width=H)},addOrRemoveCssClass:(H,G)=>n(V=>V.setClass(H,G)),setHeaderWrapperHidden:H=>{const G=S.current;G&&(H?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:H=>{const G=S.current;G&&(H!=null?G.style.setProperty("max-height",`${H}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",H!=null))},setUserCompDetails:H=>f(H),setResizableDisplayed:H=>{s(G=>G.setClass("ag-hidden",!H)),a(H?"false":"true")},setAriaExpanded:H=>d(H),getUserCompInstance:()=>b.current||void 0};e.setComp(L,I,y.current,S.current,v.current)},[]);D.useLayoutEffect(()=>xc(p,t,S.current),[p]),D.useEffect(()=>{w.current&&e.setDragSource(w.current)},[p]);const P=D.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&wl(p.componentClass)),[p]),F=D.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),k=D.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),A=p&&p.componentFromFramework,T=p&&p.componentClass;return x.createElement("div",{ref:E,className:F,"col-id":g,role:"columnheader","aria-expanded":u},x.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},A&&P&&x.createElement(T,{...p.params}),A&&!P&&x.createElement(T,{...p.params,ref:b})),x.createElement("div",{ref:y,"aria-hidden":o,className:k}))},a3=D.memo(o3),l3=({ctrl:e})=>{const{context:t}=D.useContext(gr),{topOffset:r,rowHeight:n}=D.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),s=e.getHeaderRowClass(),[o,a]=D.useState(()=>n+"px"),[u,d]=D.useState(()=>r+"px"),p=D.useRef(null),f=D.useRef(null),[g,v]=D.useState(()=>e.getHeaderCtrls()),w=D.useRef(),y=D.useRef(null),S=D.useCallback(P=>{if(y.current=P,w.current=P?t.createBean(new gl):t.destroyBean(w.current),!P)return;const F={setHeight:k=>a(k),setTop:k=>d(k),setHeaderCtrls:(k,A,T)=>{f.current=p.current,p.current=k;const I=_R(f.current,k,A);I!==f.current&&LR(T,()=>v(I))},setWidth:k=>{y.current&&(y.current.style.width=k)}};e.setComp(F,w.current,!1)},[]),b=D.useMemo(()=>({height:o,top:u}),[o,u]),E=D.useCallback(P=>{switch(e.getType()){case vS.COLUMN_GROUP:return x.createElement(a3,{ctrl:P,key:P.instanceId});case vS.FLOATING_FILTER:return x.createElement(s3,{ctrl:P,key:P.instanceId});default:return x.createElement(n3,{ctrl:P,key:P.instanceId})}},[]);return x.createElement("div",{ref:S,className:s,role:"row",style:b,"aria-rowindex":i},g.map(E))},u3=D.memo(l3),c3=({pinned:e})=>{const[t,r]=D.useState(!0),[n,i]=D.useState([]),{context:s}=D.useContext(gr),o=D.useRef(null),a=D.useRef(null),u=D.useRef(),d=e==="left",p=e==="right",f=!d&&!p,g=D.useCallback(y=>{if(o.current=y,u.current=y?s.createBean(new Nz(e)):s.destroyBean(u.current),!y)return;const S={setDisplayed:r,setCtrls:b=>i(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};u.current.setComp(S,o.current)},[]),v=t?"":"ag-hidden",w=()=>n.map(y=>x.createElement(u3,{ctrl:y,key:y.instanceId}));return x.createElement(x.Fragment,null,d&&x.createElement("div",{ref:g,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},w()),p&&x.createElement("div",{ref:g,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},w()),f&&x.createElement("div",{ref:g,className:"ag-header-viewport "+v,role:"presentation"},x.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},w())))},tv=D.memo(c3),d3=()=>{const[e,t]=D.useState(()=>new mn),[r,n]=D.useState(),{context:i}=D.useContext(gr),s=D.useRef(null),o=D.useRef(),a=D.useCallback(p=>{if(s.current=p,o.current=p?i.createBean(new yz):i.destroyBean(o.current),!p)return;const f={addOrRemoveCssClass:(g,v)=>t(w=>w.setClass(g,v)),setHeightAndMinHeight:g=>n(g)};o.current.setComp(f,p,p)},[]),u=D.useMemo(()=>"ag-header "+e.toString(),[e]),d=D.useMemo(()=>({height:r,minHeight:r}),[r]);return x.createElement("div",{ref:a,className:u,style:d,role:"presentation"},x.createElement(tv,{pinned:"left"}),x.createElement(tv,{pinned:null}),x.createElement(tv,{pinned:"right"}))},h3=D.memo(d3),p3=(e,t)=>{D.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,r),()=>{n.removeChild(i)}}}},[e])},bo=p3,f3=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new At(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){GR(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},g3=e=>{const t=D.useRef(e),r=D.useRef(),n=D.useRef(!1),i=D.useRef(!1),[,s]=D.useState(0);n.current&&(i.current=!0),D.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),s(o=>o+1),()=>{var o;i.current&&((o=r.current)==null||o.call(r))}),[])},m3=e=>{const[t,r]=D.useState(),{context:n,popupService:i,localeService:s,gos:o,editService:a}=D.useContext(gr);return g3(()=>{var F,k;const{editDetails:u,cellCtrl:d,eParentCell:p}=e,{compDetails:f}=u,g=o.get("stopEditingWhenCellsLoseFocus"),v=n.createBean(a.createPopupEditorWrapper(f.params)),w=v.getGui();if(e.jsChildComp){const A=e.jsChildComp.getGui();A&&w.appendChild(A)}const y={column:d.getColumn(),rowNode:d.getRowNode(),type:"popupCellEditor",eventSource:p,ePopup:w,position:u.popupPosition,keepWithinBounds:!0},S=i.positionPopupByComponent.bind(i,y),b=s.getLocaleTextFunc(),E=i.addPopup({modal:g,eChild:w,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:p,positionCallback:S,ariaLabel:b("ariaLabelCellEditor","Cell Editor")}),P=E?E.hideFunc:void 0;return r(v),(k=(F=e.jsChildComp)==null?void 0:F.afterGuiAttached)==null||k.call(F),()=>{P==null||P(),n.destroyBean(v)}}),x.createElement(x.Fragment,null,t&&e.wrappedContent&&Yp.createPortal(e.wrappedContent,t.getGui()))},GP=D.memo(m3),v3=(e,t,r,n,i,s)=>{const{context:o}=D.useContext(gr),a=D.useCallback(()=>{const u=i.current;if(!u)return;const d=u.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),o.destroyBean(u),i.current=void 0},[]);D.useEffect(()=>{const u=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,p=t&&r==null;if(!(u&&d&&!p)){a();return}const g=e.compDetails;if(i.current){const w=i.current,S=w.refresh!=null&&e.force==!1?w.refresh(g.params):!1;if(S===!0||S===void 0)return;a()}const v=g.newAgStackInstance();v!=null&&v.then(w=>{if(!w)return;const y=w.getGui();if(!y)return;(t?r:s.current).appendChild(y),i.current=w})},[e,t,n]),D.useEffect(()=>a,[])},C3=v3,w3=(e,t,r)=>{const{compProxy:n}=e;r(n);const i=n.getProps(),s=wl(t);return x.createElement(NR.Provider,{value:{setMethods:o=>n.setMethods(o)}},s?x.createElement(t,{...i}):x.createElement(t,{...i,ref:o=>n.setRef(o)}))},HP=(e,t,r)=>{const n=e.compProxy;return x.createElement(x.Fragment,null,n?w3(e,t,r):x.createElement(t,{...e.compDetails.params,ref:r}))},y3=(e,t,r,n,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,u=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return x.createElement(x.Fragment,null,a&&HP(e,o,t),u&&x.createElement(GP,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:HP(e,o,t)}),d&&i&&x.createElement(GP,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:i}))},S3=(e,t,r,n,i,s,o)=>{const{compDetails:a,value:u}=e,d=!a,p=a&&a.componentFromFramework,f=a&&a.componentClass,g=u!=null&&u.toString?u.toString():u,v=()=>x.createElement(x.Fragment,null,d&&x.createElement(x.Fragment,null,g),p&&!s&&x.createElement(f,{...a.params,key:t,ref:n}),p&&s&&x.createElement(f,{...a.params,key:t}));return x.createElement(x.Fragment,null,i?x.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},v()):v())},R3=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=D.useContext(gr),{colIdSanitised:i,instanceId:s}=e,o=D.useRef(),[a,u]=D.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,p]=D.useState(),[f,g]=D.useState(1),[v,w]=D.useState(),[y,S]=D.useState(!1),[b,E]=D.useState(!1),[P,F]=D.useState(!1),[k,A]=D.useState(),T=D.useMemo(()=>e.isForceWrapper(),[e]),I=D.useMemo(()=>e.getCellAriaRole(),[e]),L=D.useRef(null),H=D.useRef(null),G=D.useRef(),V=D.useRef(),$=D.useRef(),te=D.useRef([]),se=D.useRef(),[X,Z]=D.useState(0),z=D.useCallback(be=>{se.current=be,Z(Le=>Le+1)},[]),ne=a!=null&&(y||P||b),re=T||ne,O=D.useCallback(be=>{if(V.current=be,be){const Le=be.isCancelBeforeStart&&be.isCancelBeforeStart();setTimeout(()=>{Le?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),N=D.useRef();N.current||(N.current=new Ec(()=>L.current)),C3(a,re,se.current,X,G,L);const J=D.useRef();D.useLayoutEffect(()=>{var ct;const be=J.current,Le=a;if(J.current=a,be==null||be.compDetails==null||Le==null||Le.compDetails==null)return;const et=be.compDetails,Ge=Le.compDetails;if(et.componentClass!=Ge.componentClass||((ct=H.current)==null?void 0:ct.refresh)==null)return;H.current.refresh(Ge.params)!=!0&&g(Me=>Me+1)},[a]),D.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const Le=d.compDetails,et=d.popup===!0,Ge=Le.newAgStackInstance();return Ge.then(je=>{if(!je)return;const ct=je.getGui();if(O(je),!et){const Me=(T?$:L).current;Me==null||Me.appendChild(ct),je.afterGuiAttached&&je.afterGuiAttached()}A(je)}),()=>{Ge.then(je=>{var Me;const ct=je.getGui();n.destroyBean(je),O(void 0),A(void 0),(Me=ct==null?void 0:ct.parentElement)==null||Me.removeChild(ct)})}},[d]);const K=D.useCallback(be=>{if($.current=be,!be){te.current.forEach(et=>et()),te.current=[];return}const Le=et=>{if(et){const Ge=et.getGui();be.insertAdjacentElement("afterbegin",Ge),te.current.push(()=>{n.destroyBean(et),Bo(Ge)})}return et};if(y){const et=e.createSelectionCheckbox();Le(et)}P&&Le(e.createDndSource()),b&&Le(e.createRowDragComp())},[e,n,P,b,y]),ie=D.useCallback(be=>{if(L.current=be,o.current=be?n.createBean(new gl):n.destroyBean(o.current),!be||!e)return;const Le={addOrRemoveCssClass:(Ge,je)=>N.current.addOrRemoveCssClass(Ge,je),setUserStyles:Ge=>w(Ge),getFocusableElement:()=>L.current,setIncludeSelection:Ge=>S(Ge),setIncludeRowDrag:Ge=>E(Ge),setIncludeDndSource:Ge=>F(Ge),getCellEditor:()=>V.current||null,getCellRenderer:()=>H.current??G.current,getParentOfValue:()=>se.current??$.current??L.current,setRenderDetails:(Ge,je,ct)=>{u(Me=>(Me==null?void 0:Me.compDetails)!==Ge||(Me==null?void 0:Me.value)!==je||(Me==null?void 0:Me.force)!==ct?{value:je,compDetails:Ge,force:ct}:Me)},setEditDetails:(Ge,je,ct,Me)=>{if(Ge){let Ut;Me?Ut=new f3(Ge.params,()=>g(Ne=>Ne+1)):Ge.componentFromFramework&&HR(),p({compDetails:Ge,popup:je,popupPosition:ct,compProxy:Ut}),je||u(void 0)}else p(Ut=>{Ut!=null&&Ut.compProxy&&(V.current=void 0)})}},et=$.current||void 0;e.setComp(Le,be,et,t,r,o.current)},[]),de=D.useMemo(()=>{var Le;return!!(((Le=a==null?void 0:a.compDetails)==null?void 0:Le.componentFromFramework)&&wl(a.compDetails.componentClass))},[a]);D.useLayoutEffect(()=>{var be;L.current&&(N.current.addOrRemoveCssClass("ag-cell-value",!re),N.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),N.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),N.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),(be=e.getRowCtrl())==null||be.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&L.current.focus({preventScroll:!0}))});const Re=()=>x.createElement(x.Fragment,null,a!=null&&S3(a,f,s,H,re,de,z),d!=null&&y3(d,O,L.current,e,k)),ye=D.useCallback(()=>e.onFocusOut(),[]);return x.createElement("div",{ref:ie,style:v,role:I,"col-id":i,onBlur:ye},re?x.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},Re()):Re())},b3=D.memo(R3),D3=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=D.useContext(gr),i=D.useRef(),s=D.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.getRowNode().displayed,[u,d]=D.useState(()=>a?e.getRowIndex():null),[p,f]=D.useState(()=>e.getRowId()),[g,v]=D.useState(()=>e.getBusinessKey()),[w,y]=D.useState(()=>e.getRowStyles()),S=D.useRef(null),b=D.useRef(null),[E,P]=D.useState(()=>null),[F,k]=D.useState(),[A,T]=D.useState(()=>a?e.getInitialRowTop(t):void 0),[I,L]=D.useState(()=>a?e.getInitialTransform(t):void 0),H=D.useRef(null),G=D.useRef(),V=D.useRef(!1),[$,te]=D.useState(0);D.useEffect(()=>{var ie;if(V.current||!F||$>10)return;const K=(ie=H.current)==null?void 0:ie.firstChild;K?(e.setupDetailRowAutoHeight(K),V.current=!0):te(de=>de+1)},[F,$]);const se=D.useRef();se.current||(se.current=new Ec(()=>H.current));const X=D.useCallback(K=>{if(H.current=K,i.current=K?r.createBean(new gl):r.destroyBean(i.current),!K){e.unsetComp(t);return}if(!e.isAlive())return;const ie={setTop:T,setTransform:L,addOrRemoveCssClass:(de,Re)=>se.current.addOrRemoveCssClass(de,Re),setDomOrder:de=>s.current=de,setRowIndex:d,setRowId:f,setRowBusinessKey:v,setUserStyles:y,setCellCtrls:(de,Re)=>{b.current=S.current,S.current=de;const ye=_R(b.current,de,s.current);ye!==b.current&&LR(Re,()=>P(ye))},showFullWidth:de=>k(de),getFullWidthCellRenderer:()=>G.current,refreshFullWidth:de=>O.current?(k(Re=>({...Re,params:de()})),!0):!G.current||!G.current.refresh?!1:G.current.refresh(de())};e.setComp(ie,K,t,i.current)},[]);D.useLayoutEffect(()=>xc(F,r,H.current,G),[F]);const Z=D.useMemo(()=>{const K={top:A,transform:I};return Object.assign(K,w),K},[A,I,w]),z=o&&(F==null?void 0:F.componentFromFramework),ne=!o&&E!=null,re=D.useMemo(()=>!!((F==null?void 0:F.componentFromFramework)&&wl(F.componentClass)),[F]),O=D.useRef(!1);D.useEffect(()=>{O.current=re&&!!F&&!!n.get("reactiveCustomComponents")},[re,F]);const N=()=>E==null?void 0:E.map(K=>x.createElement(b3,{cellCtrl:K,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:K.instanceId})),J=()=>{const K=F.componentClass;return x.createElement(x.Fragment,null,re?x.createElement(K,{...F.params}):x.createElement(K,{...F.params,ref:G}))};return x.createElement("div",{ref:X,role:"row",style:Z,"row-index":u,"row-id":p,"row-business-key":g},ne&&N(),z&&J())},E3=D.memo(D3),P3=({name:e})=>{const{context:t}=D.useContext(gr),r=D.useMemo(()=>Ga(e),[e]),n=D.useRef(null),i=D.useRef(null),s=D.useRef([]),o=D.useRef([]),[a,u]=D.useState(()=>[]),d=D.useRef(!1),p=D.useRef(),f=D.useMemo(()=>In(r.viewport),[r]),g=D.useMemo(()=>In(r.container),[r]),v=r.type==="center",w=v?n:i;bo(" AG Row Container "+e+" ",w);const y=D.useCallback(()=>v?n.current!=null&&i.current!=null:i.current!=null,[]),S=D.useCallback(()=>v?n.current==null&&i.current==null:i.current==null,[]),b=D.useCallback(()=>{if(S()&&(p.current=t.destroyBean(p.current)),y()){const k=T=>{const I=_R(o.current,s.current,d.current);I!==o.current&&(o.current=I,LR(T,()=>u(I)))},A={setHorizontalScroll:T=>{n.current&&(n.current.scrollLeft=T)},setViewportHeight:T=>{n.current&&(n.current.style.height=T)},setRowCtrls:({rowCtrls:T,useFlushSync:I})=>{const L=!!I&&s.current.length>0&&T.length>0;s.current=T,k(L)},setDomOrder:T=>{d.current!=T&&(d.current=T,k(!1))},setContainerWidth:T=>{i.current&&(i.current.style.width=T)},setOffsetTop:T=>{i.current&&(i.current.style.transform=`translateY(${T})`)}};p.current=t.createBean(new MU(e)),p.current.setComp(A,i.current,n.current)}},[y,S]),E=D.useCallback(k=>{i.current=k,b()},[b]),P=D.useCallback(k=>{n.current=k,b()},[b]),F=()=>x.createElement("div",{className:g,ref:E,role:"rowgroup"},a.map(k=>x.createElement(E3,{rowCtrl:k,containerType:r.type,key:k.instanceId})));return x.createElement(x.Fragment,null,v?x.createElement("div",{className:f,ref:P,role:"presentation"},F()):F())},F3=D.memo(P3),x3=()=>{const{context:e,resizeObserverService:t}=D.useContext(gr),[r,n]=D.useState(""),[i,s]=D.useState(0),[o,a]=D.useState(0),[u,d]=D.useState("0px"),[p,f]=D.useState("0px"),[g,v]=D.useState("100%"),[w,y]=D.useState("0px"),[S,b]=D.useState("0px"),[E,P]=D.useState("100%"),[F,k]=D.useState(""),[A,T]=D.useState(""),[I,L]=D.useState(null),[H,G]=D.useState(""),[V,$]=D.useState(null),[te,se]=D.useState("ag-layout-normal"),X=D.useRef();X.current||(X.current=new Ec(()=>Z.current));const Z=D.useRef(null),z=D.useRef(null),ne=D.useRef(null),re=D.useRef(null),O=D.useRef(null),N=D.useRef(null),J=D.useRef(null),K=D.useRef([]),ie=D.useRef([]);bo(" AG Grid Body ",Z),bo(" AG Pinned Top ",z),bo(" AG Sticky Top ",ne),bo(" AG Middle ",N),bo(" AG Pinned Bottom ",J);const de=D.useCallback(dt=>{if(Z.current=dt,!dt){K.current=e.destroyBeans(K.current),ie.current.forEach(rt=>rt()),ie.current=[];return}if(!e)return;const _t=(rt,bt)=>{rt.appendChild(bt),ie.current.push(()=>rt.removeChild(bt))},$t=rt=>{const bt=e.createBean(new rt);return K.current.push(bt),bt},ht=(rt,bt,ar)=>{_t(rt,document.createComment(ar)),_t(rt,$t(bt).getGui())};ht(dt,Hz," AG Fake Horizontal Scroll "),ht(dt,Gz," AG Overlay Wrapper "),O.current&&ht(O.current,Wz," AG Fake Vertical Scroll ");const Ur={setRowAnimationCssOnBodyViewport:n,setColumnCount:rt=>{Z.current&&ZW(Z.current,rt)},setRowCount:rt=>{Z.current&&XW(Z.current,rt)},setTopHeight:s,setBottomHeight:a,setStickyTopHeight:d,setStickyTopTop:f,setStickyTopWidth:v,setTopDisplay:k,setBottomDisplay:T,setColumnMovingCss:(rt,bt)=>X.current.addOrRemoveCssClass(rt,bt),updateLayoutClasses:se,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:G,setCellSelectableCss:(rt,bt)=>$(bt?rt:null),setBodyViewportWidth:rt=>{N.current&&(N.current.style.width=rt)},registerBodyViewportResizeListener:rt=>{if(N.current){const bt=t.observeResize(N.current,rt);ie.current.push(()=>bt())}},setStickyBottomHeight:y,setStickyBottomBottom:b,setStickyBottomWidth:P},$r=e.createBean(new OU);K.current.push($r),$r.setComp(Ur,dt,N.current,z.current,J.current,ne.current,re.current)},[]),Re=D.useMemo(()=>In("ag-root","ag-unselectable",te),[te]),ye=D.useMemo(()=>In("ag-body-viewport",r,te,I,V),[r,te,I,V]),be=D.useMemo(()=>In("ag-body",te),[te]),Le=D.useMemo(()=>In("ag-floating-top",V),[V]),et=D.useMemo(()=>In("ag-sticky-top",V),[V]),Ge=D.useMemo(()=>In("ag-sticky-bottom",w==="0px"?"ag-hidden":null,V),[V,w]),je=D.useMemo(()=>In("ag-floating-bottom",V),[V]),ct=D.useMemo(()=>({height:i,minHeight:i,display:F,overflowY:H}),[i,F,H]),Me=D.useMemo(()=>({height:u,top:p,width:g}),[u,p,g]),Ut=D.useMemo(()=>({height:w,bottom:S,width:E}),[w,S,E]),Ne=D.useMemo(()=>({height:o,minHeight:o,display:A,overflowY:H}),[o,A,H]),zr=dt=>x.createElement(F3,{name:dt,key:`${dt}-container`}),Xt=({section:dt,children:_t,className:$t,style:ht})=>x.createElement("div",{ref:dt,className:$t,role:"presentation",style:ht},_t.map(zr));return x.createElement("div",{ref:de,className:Re,role:"treegrid"},x.createElement(h3,null),Xt({section:z,className:Le,style:ct,children:["topLeft","topCenter","topRight","topFullWidth"]}),x.createElement("div",{className:be,ref:O,role:"presentation"},Xt({section:N,className:ye,children:["left","center","right","fullWidth"]})),Xt({section:ne,className:et,style:Me,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Xt({section:re,className:Ge,style:Ut,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Xt({section:J,className:je,style:Ne,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},M3=D.memo(x3),T3=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=D.useContext(gr),u=D.useRef(null),d=D.useRef(null),p=D.useRef(),f=S=>{const b=S==null?void 0:parseInt(S,10).toString();[u,d].forEach(E=>{var P,F;b===void 0?(P=E.current)==null||P.removeAttribute("tabindex"):(F=E.current)==null||F.setAttribute("tabindex",b)})};D.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){var b;(b=p.current)==null||b.forceFocusOutOfContainer(S)}}));const g=D.useCallback(()=>{const S=u.current,b=d.current;if(!S&&!b){p.current=a.destroyBean(p.current);return}if(S&&b){const E={setTabIndex:f};p.current=a.createBean(new UO({comp:E,eTopGuard:S,eBottomGuard:b,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:P=>s.focusInnerElement(P)}))}},[]),v=D.useCallback(S=>{u.current=S,g()},[g]),w=D.useCallback(S=>{d.current=S,g()},[g]),y=S=>{const b=S==="top"?Oh.TAB_GUARD_TOP:Oh.TAB_GUARD_BOTTOM;return x.createElement("div",{className:`${Oh.TAB_GUARD} ${b}`,role:"presentation",ref:S==="top"?v:w})};return x.createElement(x.Fragment,null,y("top"),r,y("bottom"))},k3=D.forwardRef(T3),A3=D.memo(k3),O3=({context:e})=>{const[t,r]=D.useState(""),[n,i]=D.useState(""),[s,o]=D.useState(""),[a,u]=D.useState(null),[d,p]=D.useState(null),[f,g]=D.useState(!1),[v,w]=D.useState(),y=D.useRef(),S=D.useRef(null),b=D.useRef(),[E,P]=D.useState(null),F=D.useRef(()=>{}),k=D.useRef(),A=D.useRef([]),T=D.useCallback(()=>{},[]),I=D.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);bo(" AG Grid ",S);const L=D.useCallback(te=>{if(S.current=te,y.current=te?e.createBean(new h$):e.destroyBean(y.current),!te||e.isDestroyed())return;const se=y.current;F.current=se.focusInnerElement.bind(se);const X={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:i,forceFocusOutOfContainer:Z=>{var z,ne;if(!Z&&((z=k.current)!=null&&z.isDisplayed())){k.current.forceFocusOutOfContainer(Z);return}(ne=b.current)==null||ne.forceFocusOutOfContainer(Z)},updateLayoutClasses:o,getFocusableContainers:()=>{var ne;const Z=[],z=(ne=S.current)==null?void 0:ne.querySelector(".ag-root");return z&&Z.push({getGui:()=>z}),A.current.forEach(re=>{re.isDisplayed()&&Z.push(re)}),Z},setCursor:u,setUserSelect:p};se.setComp(X,te,te),g(!0)},[]);D.useEffect(()=>{const te=y.current,se=S.current;if(!v||!I||!te||!E||!se)return;const X=[],{watermarkSelector:Z,paginationSelector:z,sideBarSelector:ne,statusBarSelector:re,gridHeaderDropZonesSelector:O}=te.getOptionalSelectors(),N=[];if(O){const K=e.createBean(new O.component),ie=K.getGui();se.insertAdjacentElement("afterbegin",ie),N.push(ie),X.push(K)}if(ne){const K=e.createBean(new ne.component),ie=K.getGui(),de=E.querySelector(".ag-tab-guard-bottom");de&&(de.insertAdjacentElement("beforebegin",ie),N.push(ie)),X.push(K),A.current.push(K)}const J=K=>{const ie=e.createBean(new K),de=ie.getGui();return se.insertAdjacentElement("beforeend",de),N.push(de),X.push(ie),ie};if(re&&J(re.component),z){const K=J(z.component);k.current=K,A.current.push(K)}return Z&&J(Z.component),()=>{e.destroyBeans(X),N.forEach(K=>{var ie;(ie=K.parentElement)==null||ie.removeChild(K)})}},[v,E,I]);const H=D.useMemo(()=>In("ag-root-wrapper",t,n,s),[t,n,s]),G=D.useMemo(()=>In("ag-root-wrapper-body","ag-focus-managed",s),[s]),V=D.useMemo(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),$=D.useCallback(te=>{b.current=te,w(te!==null)},[]);return x.createElement("div",{ref:L,className:H,style:V,role:"presentation"},x.createElement("div",{className:G,ref:P,role:"presentation"},f&&E&&I&&x.createElement(gr.Provider,{value:I},x.createElement(A3,{ref:$,eFocusableElement:E,onTabKeyDown:T,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},x.createElement(M3,null)))))},I3=D.memo(O3),L3=class extends Q{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},pI=e=>{var S;const t=D.useRef(),r=D.useRef(null),n=D.useRef(null),i=D.useRef([]),s=D.useRef([]),o=D.useRef(e),a=D.useRef(),u=D.useRef(),d=D.useRef(!1),[p,f]=D.useState(void 0),[,g]=D.useState(0),v=D.useCallback(b=>{if(r.current=b,!b){i.current.forEach(G=>G()),i.current.length=0;return}const E=e.modules||[];n.current||(n.current=new t3(()=>g(G=>G+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var G;(G=n.current)==null||G.destroy(),n.current=null}));const P=VW(e.gridOptions,e),F=()=>{if(d.current){const G=()=>{var $;return($=a.current)!=null&&$.shouldQueueUpdates()?void 0:s.current.shift()};let V=G();for(;V;)V(),V=G()}},k=new H3(F);a.current=k;const A=new L3,T={providedBeanInstances:{frameworkComponentWrapper:new N3(n.current,P.reactiveCustomComponents??Hj("reactiveCustomComponents")??!0),renderStatusService:A},modules:E,frameworkOverrides:k},I=G=>{f(G),G.createBean(A),i.current.push(()=>{G.destroy()}),G.getBean("ctrlsService").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{var $;if(G.isDestroyed())return;const V=t.current;V&&(($=e.setGridApi)==null||$.call(e,V))})},L=G=>{G.getBean("ctrlsService").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{s.current.forEach(V=>V()),s.current.length=0,d.current=!0})},H=new Bj;P.gridId??(P.gridId=u.current),t.current=H.create(b,P,I,L,T),i.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),w=D.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=D.useCallback(b=>{var E;d.current&&!((E=a.current)!=null&&E.shouldQueueUpdates())?b():s.current.push(b)},[]);return D.useEffect(()=>{const b=_3(o.current,e);o.current=e,y(()=>{t.current&&zW(b,t.current)})},[e]),x.createElement("div",{style:w,className:e.className,ref:v},p&&!p.isDestroyed()?x.createElement(I3,{context:p}):null,((S=n.current)==null?void 0:S.getPortals())??null)};function _3(e,t){const r={};return Object.keys(t).forEach(n=>{const i=t[n];e[n]!==i&&(r[n]=i)}),r}var N3=class extends Qj{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(s=>{switch(s){case"filter":return YK;case"floatingFilterComponent":return jK;case"dateComponent":return UK;case"dragAndDropImageComponent":return $K;case"loadingOverlayComponent":return KK;case"noRowsOverlayComponent":return XK;case"statusPanel":return JK;case"toolPanel":return ZK;case"menuItem":return QK;case"cellRenderer":return zK}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":HR();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new dI(e,this.parent,t,r)}},G3=D.forwardRef((e,t)=>{const{ctrlsFactory:r,context:n,gos:i,resizeObserverService:s,rowModel:o}=D.useContext(gr),[a,u]=D.useState(()=>new mn),[d,p]=D.useState(()=>new mn),[f,g]=D.useState(),[v,w]=D.useState(),y=D.useRef(),S=D.useRef(null),b=D.useRef(),E=D.useMemo(()=>ti.__getGridRegisteredModules(e.api.getGridId()),[e]),P=D.useMemo(()=>a.toString()+" ag-details-row",[a]),F=D.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&D.useImperativeHandle(t,()=>({refresh(){var T;return((T=y.current)==null?void 0:T.refresh())??!1}})),e.template&&ee("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const k=D.useCallback(T=>{var H;if(S.current=T,!T){y.current=n.destroyBean(y.current),(H=b.current)==null||H.call(b);return}const I={addOrRemoveCssClass:(G,V)=>u($=>$.setClass(G,V)),addOrRemoveDetailGridCssClass:(G,V)=>p($=>$.setClass(G,V)),setDetailGrid:G=>g(G),setRowData:G=>w(G),getGui:()=>S.current},L=r.getInstance("detailCellRenderer");if(L&&(n.createBean(L),L.init(I,e),y.current=L,i.get("detailRowAutoHeight"))){const G=()=>{if(S.current==null)return;const V=S.current.clientHeight;V!=null&&V>0&&setTimeout(()=>{e.node.setRowHeight(V),(vt(i)||yi(i))&&o.onRowHeightChanged()},0)};b.current=s.observeResize(T,G),G()}},[]),A=D.useCallback(T=>{var I;(I=y.current)==null||I.registerDetailWithMaster(T)},[]);return x.createElement("div",{className:P,ref:k},f&&x.createElement(pI,{className:F,...f,modules:E,rowData:v,setGridApi:A}))}),H3=class extends $O{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:_P,agGroupRowRenderer:_P,agDetailCellRenderer:G3},this.wrapIncoming=(t,r)=>r==="ensureVisible"?HK(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return GK()}},fI=class extends D.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return x.createElement(pI,{...this.props,setGridApi:this.setGridApi})}},rv={exports:{}},nv,WP;function W3(){if(WP)return nv;WP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nv=e,nv}var iv,BP;function B3(){if(BP)return iv;BP=1;var e=W3();function t(){}function r(){}return r.resetWarningCache=t,iv=function(){function n(o,a,u,d,p,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},iv}var VP;function V3(){return VP||(VP=1,rv.exports=B3()()),rv.exports}var Qr=V3();const ce=Tr(Qr),z3=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),gI=e=>Array.isArray(e)&&e.every(t=>typeof t=="object"&&!(t instanceof Array)),U3=e=>Array.isArray(e)&&e.every(t=>Array.isArray(t)),$3=e=>Array.from(e.map(t=>Object.keys(t)).reduce((t,r)=>new Set([...t,...r]),[])),Y3=(e,t)=>{t=t||$3(e);let r=t,n=t;gI(t)&&(r=t.map(s=>s.label),n=t.map(s=>s.key));const i=e.map(s=>n.map(o=>q3(o,s)));return[r,...i]},q3=(e,t)=>{const r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(n,i,s,o){const a=n[i];if(a==null)o.splice(1);else return a},t);return r===void 0?e in t?t[e]:"":r},j3=e=>typeof e>"u"||e===null?"":e,mI=(e,t=",",r='"')=>e.filter(n=>n).map(n=>n.map(i=>j3(i)).map(i=>`${r}${i}${r}`).join(t)).join(`
`),K3=(e,t,r,n)=>mI(t?[t,...e]:e,r,n),Q3=(e,t,r,n)=>mI(Y3(e,t),r,n),X3=(e,t,r,n)=>t?`${t.join(r)}
${e}`:e.replace(/"/g,'""'),vI=(e,t,r,n)=>{if(gI(e))return Q3(e,t,r,n);if(U3(e))return K3(e,t,r,n);if(typeof e=="string")return X3(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},CI=(e,t,r,n,i)=>{const s=vI(e,r,n,i),o=z3()?"application/csv":"text/csv",a=new Blob([t?"\uFEFF":"",s],{type:o}),u=`data:${o};charset=utf-8,${t?"\uFEFF":""}${s}`,d=window.URL||window.webkitURL;return typeof d.createObjectURL>"u"?u:d.createObjectURL(a)},wI={data:Qr.oneOfType([Qr.string,Qr.array,Qr.func]).isRequired,headers:Qr.array,target:Qr.string,separator:Qr.string,filename:Qr.string,uFEFF:Qr.bool,onClick:Qr.func,asyncOnClick:Qr.bool,enclosingCharacter:Qr.string},yI={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},J3={target:"_blank"};class zP extends x.Component{constructor(t){super(t),this.state={}}buildURI(){return CI(...arguments)}componentDidMount(){const{data:t,headers:r,separator:n,enclosingCharacter:i,uFEFF:s,target:o,specs:a,replace:u}=this.props;this.state.page=window.open(this.buildURI(t,s,r,n,i),o,a,u)}getWindow(){return this.state.page}render(){return null}}ge(zP,"defaultProps",Object.assign(yI,J3)),ge(zP,"propTypes",wI);var Fh;let Z3=(Fh=class extends x.Component{constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return CI(...arguments)}handleLegacy(t,r=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();const{data:n,headers:i,separator:s,filename:o,enclosingCharacter:a,uFEFF:u}=this.props,d=r&&typeof n=="function"?n():n;let p=new Blob([u?"\uFEFF":"",vI(d,i,s,a)]);return window.navigator.msSaveBlob(p,o),!1}}handleAsyncClick(t){const r=n=>{if(n===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,r)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){const{data:t,headers:r,separator:n,filename:i,uFEFF:s,children:o,onClick:a,asyncOnClick:u,enclosingCharacter:d,...p}=this.props,g=typeof window>"u"?"":this.buildURI(t,s,r,n,d);return xe.jsx("a",{download:i,...p,ref:v=>this.link=v,target:"_self",href:g,onClick:this.handleClick(),children:o})}},ge(Fh,"defaultProps",yI),ge(Fh,"propTypes",wI),Fh);const e4=Z3,SI=({customers:e})=>{const t=[{label:"First Name",key:"firstname"},{label:"Last Name",key:"lastname"},{label:"City",key:"city"},{label:"Email",key:"email"}],r=e.map(n=>({firstname:n.firstname,lastname:n.lastname,city:n.city,email:n.email}));return xe.jsx("div",{children:xe.jsx("button",{children:xe.jsx(e4,{data:r,headers:t,filename:"customers.csv",children:"Export Customers"})})})};SI.propTypes={customers:ce.arrayOf(ce.shape({firstname:ce.string.isRequired,lastname:ce.string.isRequired,city:ce.string.isRequired,email:ce.string.isRequired})).isRequired};const t4=()=>{const[e,t]=D.useState([]);D.useEffect(()=>{fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/customers").then(n=>n.json()).then(n=>t(n._embedded.customers)).catch(n=>console.error(n))},[]);const r=[{headerName:"First Name",field:"firstname",sortable:!0,filter:!0},{headerName:"Last Name",field:"lastname",sortable:!0,filter:!0},{headerName:"City",field:"city",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0}];return xe.jsxs("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:[xe.jsx("h1",{children:"Customer List"}),xe.jsx(fI,{rowData:e,columnDefs:r,pagination:!0,paginationPageSize:10,defaultColDef:{resizable:!0,sortable:!0,filter:!0}}),xe.jsx(SI,{customers:e})]})},r4=()=>{const[e,t]=D.useState({firstname:"",lastname:"",email:"",phone:"",streetaddress:"",postcode:"",city:""}),r=i=>{t({...e,[i.target.name]:i.target.value})},n=i=>{i.preventDefault(),fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(s=>{s.ok?alert("Customer added successfully!"):alert("Failed to add customer.")}).catch(s=>console.error("Error adding customer:",s))};return xe.jsxs("form",{onSubmit:n,children:[xe.jsx("h2",{children:"Add Customer"}),xe.jsx("input",{name:"firstname",placeholder:"First Name",onChange:r,required:!0}),xe.jsx("input",{name:"lastname",placeholder:"Last Name",onChange:r,required:!0}),xe.jsx("input",{name:"email",placeholder:"Email",onChange:r,required:!0}),xe.jsx("input",{name:"phone",placeholder:"Phone",onChange:r,required:!0}),xe.jsx("input",{name:"streetaddress",placeholder:"Street Address",onChange:r,required:!0}),xe.jsx("input",{name:"postcode",placeholder:"Postcode",onChange:r,required:!0}),xe.jsx("input",{name:"city",placeholder:"City",onChange:r,required:!0}),xe.jsx("button",{type:"submit",children:"Add"})]})},n4=()=>{const[e,t]=D.useState([]),[r]=D.useState(null);D.useEffect(()=>{fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/trainings").then(o=>o.json()).then(o=>{const a=o._embedded.trainings.map(u=>({...u,formattedDate:new Date(u.date).toLocaleString()}));t(a)}).catch(o=>console.error("Error fetching trainings:",o))},[]);const n=o=>{window.confirm("Are you sure you want to delete this training session?")&&fetch(o,{method:"DELETE"}).then(a=>{a.ok?(t(e.filter(u=>u._links.self.href!==o)),alert("Training session deleted successfully.")):alert("Error deleting training session.")}).catch(a=>console.error("Error deleting training session:",a))},i=o=>{r(o.api)},s=[{headerName:"Date",field:"formattedDate",sortable:!0,filter:!0},{headerName:"Duration (minutes)",field:"duration",sortable:!0,filter:!0},{headerName:"Activity",field:"activity",sortable:!0,filter:!0},{headerName:"Actions",field:"_links.self.href",cellRendererFramework:o=>xe.jsx("button",{onClick:()=>n(o.value),style:{padding:"5px",cursor:"pointer"},children:"Delete"})}];return xe.jsxs("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:[xe.jsx("h2",{children:"Training Sessions"}),xe.jsx(fI,{rowData:e,columnDefs:s,onGridReady:i,pagination:!0,paginationPageSize:10,defaultColDef:{resizable:!0,filter:!0,sortable:!0}})]})};function RI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=RI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=RI(e))&&(n&&(n+=" "),n+=t);return n}function Ce(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function st(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function es(e,t){const r=Ce(e);return isNaN(t)?st(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Wn(e,t){const r=Ce(e);if(isNaN(t))return st(e,NaN);if(!t)return r;const n=r.getDate(),i=st(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function WR(e,t){const r=+Ce(e);return st(e,r+t)}const bI=6048e5,i4=864e5,rf=6e4,nf=36e5,s4=1e3;function o4(e,t){return WR(e,t*nf)}let a4={};function na(){return a4}function ts(e,t){var a,u,d,p;const r=na(),n=(t==null?void 0:t.weekStartsOn)??((u=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=Ce(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ja(e){return ts(e,{weekStartsOn:1})}function DI(e){const t=Ce(e),r=t.getFullYear(),n=st(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ja(n),s=st(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Ja(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Vo(e){const t=Ce(e);return t.setHours(0,0,0,0),t}function Cp(e){const t=Ce(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Za(e,t){const r=Vo(e),n=Vo(t),i=+r-Cp(r),s=+n-Cp(n);return Math.round((i-s)/i4)}function l4(e){const t=DI(e),r=st(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ja(r)}function bS(e,t){return WR(e,t*rf)}function BR(e,t){const r=t*3;return Wn(e,r)}function u4(e,t){return WR(e,t*1e3)}function wp(e,t){const r=t*7;return es(e,r)}function Yi(e,t){return Wn(e,t*12)}function UP(e){let t;return e.forEach(function(r){const n=Ce(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function $P(e){let t;return e.forEach(r=>{const n=Ce(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function c4(e,t){const r=Vo(e),n=Vo(t);return+r==+n}function qi(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yp(e){if(!qi(e)&&typeof e!="number")return!1;const t=Ce(e);return!isNaN(Number(t))}function Sp(e,t){const r=Ce(e),n=Ce(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Oo(e){const t=Ce(e);return Math.trunc(t.getMonth()/3)+1}function Rp(e,t){const r=Ce(e),n=Ce(t),i=r.getFullYear()-n.getFullYear(),s=Oo(r)-Oo(n);return i*4+s}function bp(e,t){const r=Ce(e),n=Ce(t);return r.getFullYear()-n.getFullYear()}function d4(e,t){const r=Ce(e),n=Ce(t),i=YP(r,n),s=Math.abs(Za(r,n));r.setDate(r.getDate()-i*s);const o=+(YP(r,n)===-i),a=i*(s-o);return a===0?0:a}function YP(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function EI(e){const t=Ce(e);return t.setHours(23,59,59,999),t}function PI(e){const t=Ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function DS(e){const t=Ce(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function FI(e){const t=Ce(e);return t.setDate(1),t.setHours(0,0,0,0),t}function xI(e){const t=Ce(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function sf(e){const t=Ce(e),r=st(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function h4(e,t){var a,u;const r=na(),n=r.weekStartsOn??((u=(a=r.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??0,i=Ce(e),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const p4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},f4=(e,t,r)=>{let n;const i=p4[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function sv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const g4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C4={date:sv({formats:g4,defaultWidth:"full"}),time:sv({formats:m4,defaultWidth:"full"}),dateTime:sv({formats:v4,defaultWidth:"full"})},w4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y4=(e,t,r,n)=>w4[e];function wu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const S4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F4=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},x4={ordinalNumber:F4,era:wu({values:S4,defaultWidth:"wide"}),quarter:wu({values:R4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:b4,defaultWidth:"wide"}),day:wu({values:D4,defaultWidth:"wide"}),dayPeriod:wu({values:E4,defaultWidth:"wide",formattingValues:P4,defaultFormattingWidth:"wide"})};function yu(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(a)?T4(a,f=>f.test(o)):M4(a,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const p=t.slice(o.length);return{value:d,rest:p}}}function M4(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function T4(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function k4(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const A4=/^(\d+)(th|st|nd|rd)?/i,O4=/\d+/i,I4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L4={any:[/^b/i,/^(a|c)/i]},_4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N4={any:[/1/i,/2/i,/3/i,/4/i]},G4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},z4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U4={ordinalNumber:k4({matchPattern:A4,parsePattern:O4,valueCallback:e=>parseInt(e,10)}),era:yu({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),quarter:yu({matchPatterns:_4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yu({matchPatterns:G4,defaultMatchWidth:"wide",parsePatterns:H4,defaultParseWidth:"any"}),day:yu({matchPatterns:W4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),dayPeriod:yu({matchPatterns:V4,defaultMatchWidth:"any",parsePatterns:z4,defaultParseWidth:"any"})},MI={code:"en-US",formatDistance:f4,formatLong:C4,formatRelative:y4,localize:x4,match:U4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $4(e){const t=Ce(e);return Za(t,sf(t))+1}function VR(e){const t=Ce(e),r=+Ja(t)-+l4(t);return Math.round(r/bI)+1}function zR(e,t){var p,f,g,v;const r=Ce(e),n=r.getFullYear(),i=na(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=st(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=ts(o,t),u=st(e,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=ts(u,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Y4(e,t){var a,u,d,p;const r=na(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=zR(e,t),s=st(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ts(s,t)}function TI(e,t){const r=Ce(e),n=+ts(r,t)-+Y4(r,t);return Math.round(n/bI)+1}function it(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const As={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return it(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):it(r+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return it(i,t.length)}},ka={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return As.y(e,t)},Y:function(e,t,r,n){const i=zR(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return it(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):it(s,t.length)},R:function(e,t){const r=DI(e);return it(r,t.length)},u:function(e,t){const r=e.getFullYear();return it(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return it(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return As.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=TI(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):it(i,t.length)},I:function(e,t,r){const n=VR(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):it(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):As.d(e,t)},D:function(e,t,r){const n=$4(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):it(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return it(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return it(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return it(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ka.noon:n===0?i=ka.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ka.evening:n>=12?i=ka.afternoon:n>=4?i=ka.morning:i=ka.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return As.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):As.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):As.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):As.s(e,t)},S:function(e,t){return As.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return KP(n);case"XXXX":case"XX":return wo(n);case"XXXXX":case"XXX":default:return wo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return KP(n);case"xxxx":case"xx":return wo(n);case"xxxxx":case"xxx":default:return wo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jP(n,":");case"OOOO":default:return"GMT"+wo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jP(n,":");case"zzzz":default:return"GMT"+wo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return it(n,t.length)},T:function(e,t,r){const n=e.getTime();return it(n,t.length)}};function jP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+it(s,2)}function KP(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):wo(e,t)}function wo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=it(Math.trunc(n/60),2),s=it(n%60,2);return r+i+t+s}const QP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q4=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return QP(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",QP(n,t)).replace("{{time}}",kI(i,t))},Dp={p:kI,P:q4},j4=/^D+$/,K4=/^Y+$/,Q4=["D","DD","YY","YYYY"];function AI(e){return j4.test(e)}function OI(e){return K4.test(e)}function ES(e,t,r){const n=X4(e,t,r);if(console.warn(n),Q4.includes(e))throw new RangeError(n)}function X4(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e6=/^'([^]*?)'?$/,t6=/''/g,r6=/[a-zA-Z]/;function XP(e,t,r){var p,f,g,v,w,y,S,b;const n=na(),i=(r==null?void 0:r.locale)??n.locale??MI,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((y=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((b=(S=n.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??0,a=Ce(e);if(!yp(a))throw new RangeError("Invalid time value");let u=t.match(Z4).map(E=>{const P=E[0];if(P==="p"||P==="P"){const F=Dp[P];return F(E,i.formatLong)}return E}).join("").match(J4).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const P=E[0];if(P==="'")return{isToken:!1,value:n6(E)};if(qP[P])return{isToken:!0,value:E};if(P.match(r6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(E=>{if(!E.isToken)return E.value;const P=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&OI(P)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&AI(P))&&ES(P,t,String(e));const F=qP[P[0]];return F(a,P,i.localize,d)}).join("")}function n6(e){const t=e.match(e6);return t?t[1].replace(t6,"'"):e}function JP(e){return Ce(e).getDate()}function i6(e){return Ce(e).getDay()}function s6(e){const t=Ce(e),r=t.getFullYear(),n=t.getMonth(),i=st(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function o6(){return Object.assign({},na())}function li(e){return Ce(e).getHours()}function a6(e){let r=Ce(e).getDay();return r===0&&(r=7),r}function ui(e){return Ce(e).getMinutes()}function xr(e){return Ce(e).getMonth()}function ji(e){return Ce(e).getSeconds()}function PS(e){return Ce(e).getTime()}function We(e){return Ce(e).getFullYear()}function Ys(e,t){const r=Ce(e),n=Ce(t);return r.getTime()>n.getTime()}function zo(e,t){const r=Ce(e),n=Ce(t);return+r<+n}function l6(e,t){const r=Ce(e),n=Ce(t);return+r==+n}function u6(e,t){const r=t instanceof Date?st(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const c6=10;class II{constructor(){ge(this,"subPriority",0)}validate(t,r){return!0}}class d6 extends II{constructor(t,r,n,i,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class h6 extends II{constructor(){super(...arguments);ge(this,"priority",c6);ge(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:st(r,u6(r,Date))}}class tt{run(t,r,n,i){const s=this.parse(t,r,n,i);return s?{setter:new d6(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class p6 extends tt{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}const Bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ri={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ft(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ni(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*nf+s*rf+o*s4),rest:t.slice(r[0].length)}}function LI(e){return Ft(Bt.anyDigitsSigned,e)}function Lt(e,t){switch(e){case 1:return Ft(Bt.singleDigit,t);case 2:return Ft(Bt.twoDigits,t);case 3:return Ft(Bt.threeDigits,t);case 4:return Ft(Bt.fourDigits,t);default:return Ft(new RegExp("^\\d{1,"+e+"}"),t)}}function Ep(e,t){switch(e){case 1:return Ft(Bt.singleDigitSigned,t);case 2:return Ft(Bt.twoDigitsSigned,t);case 3:return Ft(Bt.threeDigitsSigned,t);case 4:return Ft(Bt.fourDigitsSigned,t);default:return Ft(new RegExp("^-?\\d{1,"+e+"}"),t)}}function UR(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _I(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const s=n+50,o=Math.trunc(s/100)*100,a=e>=s%100;i=e+o-(a?100:0)}return r?i:1-i}function NI(e){return e%400===0||e%4===0&&e%100!==0}class f6 extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Vt(Lt(4,r),s);case"yo":return Vt(i.ordinalNumber(r,{unit:"year"}),s);default:return Vt(Lt(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){const s=r.getFullYear();if(i.isTwoDigitYear){const a=_I(i.year,s);return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class g6 extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Vt(Lt(4,r),s);case"Yo":return Vt(i.ordinalNumber(r,{unit:"year"}),s);default:return Vt(Lt(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,s){const o=zR(r,s);if(i.isTwoDigitYear){const u=_I(i.year,o);return r.setFullYear(u,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),ts(r,s)}const a=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(a,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),ts(r,s)}}class m6 extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Ep(n==="R"?4:n.length,r)}set(r,n,i){const s=st(r,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Ja(s)}}class v6 extends tt{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Ep(n==="u"?4:n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class C6 extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Lt(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class w6 extends tt{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Lt(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}}class y6 extends tt{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(r,n,i){const s=o=>o-1;switch(n){case"M":return Vt(Ft(Bt.month,r),s);case"MM":return Vt(Lt(2,r),s);case"Mo":return Vt(i.ordinalNumber(r,{unit:"month"}),s);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}class S6 extends tt{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){const s=o=>o-1;switch(n){case"L":return Vt(Ft(Bt.month,r),s);case"LL":return Vt(Lt(2,r),s);case"Lo":return Vt(i.ordinalNumber(r,{unit:"month"}),s);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}}function R6(e,t,r){const n=Ce(e),i=TI(n,r)-t;return n.setDate(n.getDate()-i*7),n}class b6 extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return Ft(Bt.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Lt(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,s){return ts(R6(r,i,s),s)}}function D6(e,t){const r=Ce(e),n=VR(r)-t;return r.setDate(r.getDate()-n*7),r}class E6 extends tt{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return Ft(Bt.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Lt(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Ja(D6(r,i))}}const P6=[31,28,31,30,31,30,31,31,30,31,30,31],F6=[31,29,31,30,31,30,31,31,30,31,30,31];class x6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return Ft(Bt.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Lt(n.length,r)}}validate(r,n){const i=r.getFullYear(),s=NI(i),o=r.getMonth();return s?n>=1&&n<=F6[o]:n>=1&&n<=P6[o]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}}class M6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return Ft(Bt.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Lt(n.length,r)}}validate(r,n){const i=r.getFullYear();return NI(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}}function $R(e,t,r){var f,g,v,w;const n=na(),i=(r==null?void 0:r.weekStartsOn)??((g=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,s=Ce(e),o=s.getDay(),u=(t%7+7)%7,d=7-i,p=t<0||t>6?t-(o+d)%7:(u+d)%7-(o+d)%7;return es(s,p)}class T6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=$R(r,i,s),r.setHours(0,0,0,0),r}}class k6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,s){const o=a=>{const u=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return Vt(Lt(n.length,r),o);case"eo":return Vt(i.ordinalNumber(r,{unit:"day"}),o);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=$R(r,i,s),r.setHours(0,0,0,0),r}}class A6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,s){const o=a=>{const u=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return Vt(Lt(n.length,r),o);case"co":return Vt(i.ordinalNumber(r,{unit:"day"}),o);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,s){return r=$R(r,i,s),r.setHours(0,0,0,0),r}}function O6(e,t){const r=Ce(e),n=a6(r),i=t-n;return es(r,i)}class I6 extends tt{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return Lt(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return Vt(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return Vt(i.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Vt(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Vt(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=O6(r,i),r.setHours(0,0,0,0),r}}class L6 extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(UR(i),0,0,0),r}}class _6 extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(UR(i),0,0,0),r}}class N6 extends tt{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(UR(i),0,0,0),r}}class G6 extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return Ft(Bt.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Lt(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){const s=r.getHours()>=12;return s&&i<12?r.setHours(i+12,0,0,0):!s&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}}class H6 extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return Ft(Bt.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Lt(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}}class W6 extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return Ft(Bt.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Lt(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}}class B6 extends tt{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return Ft(Bt.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Lt(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){const s=i<=24?i%24:i;return r.setHours(s,0,0,0),r}}class V6 extends tt{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return Ft(Bt.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Lt(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}}class z6 extends tt{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return Ft(Bt.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Lt(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}}class U6 extends tt{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(r,n){const i=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Vt(Lt(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}}class $6 extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ni(ri.basicOptionalMinutes,r);case"XX":return ni(ri.basic,r);case"XXXX":return ni(ri.basicOptionalSeconds,r);case"XXXXX":return ni(ri.extendedOptionalSeconds,r);case"XXX":default:return ni(ri.extended,r)}}set(r,n,i){return n.timestampIsSet?r:st(r,r.getTime()-Cp(r)-i)}}class Y6 extends tt{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ni(ri.basicOptionalMinutes,r);case"xx":return ni(ri.basic,r);case"xxxx":return ni(ri.basicOptionalSeconds,r);case"xxxxx":return ni(ri.extendedOptionalSeconds,r);case"xxx":default:return ni(ri.extended,r)}}set(r,n,i){return n.timestampIsSet?r:st(r,r.getTime()-Cp(r)-i)}}class q6 extends tt{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(r){return LI(r)}set(r,n,i){return[st(r,i*1e3),{timestampIsSet:!0}]}}class j6 extends tt{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(r){return LI(r)}set(r,n,i){return[st(r,i),{timestampIsSet:!0}]}}const K6={G:new p6,y:new f6,Y:new g6,R:new m6,u:new v6,Q:new C6,q:new w6,M:new y6,L:new S6,w:new b6,I:new E6,d:new x6,D:new M6,E:new T6,e:new k6,c:new A6,i:new I6,a:new L6,b:new _6,B:new N6,h:new G6,H:new H6,K:new W6,k:new B6,m:new V6,s:new z6,S:new U6,X:new $6,x:new Y6,t:new q6,T:new j6},Q6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J6=/^'([^]*?)'?$/,Z6=/''/g,e5=/\S/,t5=/[a-zA-Z]/;function ov(e,t,r,n){var y,S,b,E,P,F,k,A;const i=o6(),s=(n==null?void 0:n.locale)??i.locale??MI,o=(n==null?void 0:n.firstWeekContainsDate)??((S=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:S.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(b=i.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((F=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:F.weekStartsOn)??i.weekStartsOn??((A=(k=i.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??0;if(t==="")return e===""?Ce(r):st(r,NaN);const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s},d=[new h6],p=t.match(X6).map(T=>{const I=T[0];if(I in Dp){const L=Dp[I];return L(T,s.formatLong)}return T}).join("").match(Q6),f=[];for(let T of p){!(n!=null&&n.useAdditionalWeekYearTokens)&&OI(T)&&ES(T,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&AI(T)&&ES(T,t,e);const I=T[0],L=K6[I];if(L){const{incompatibleTokens:H}=L;if(Array.isArray(H)){const V=f.find($=>H.includes($.token)||$.token===I);if(V)throw new RangeError(`The format string mustn't contain \`${V.fullToken}\` and \`${T}\` at the same time`)}else if(L.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);f.push({token:I,fullToken:T});const G=L.run(e,T,s.match,u);if(!G)return st(r,NaN);d.push(G.setter),e=G.rest}else{if(I.match(t5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(T==="''"?T="'":I==="'"&&(T=r5(T)),e.indexOf(T)===0)e=e.slice(T.length);else return st(r,NaN)}}if(e.length>0&&e5.test(e))return st(r,NaN);const g=d.map(T=>T.priority).sort((T,I)=>I-T).filter((T,I,L)=>L.indexOf(T)===I).map(T=>d.filter(I=>I.priority===T).sort((I,L)=>L.subPriority-I.subPriority)).map(T=>T[0]);let v=Ce(r);if(isNaN(v.getTime()))return st(r,NaN);const w={};for(const T of g){if(!T.validate(v,u))return st(r,NaN);const I=T.set(v,w,u);Array.isArray(I)?(v=I[0],Object.assign(w,I[1])):v=I}return st(r,v)}function r5(e){return e.match(J6)[1].replace(Z6,"'")}function n5(e,t){const r=Ce(e),n=Ce(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function i5(e,t){const r=DS(e),n=DS(t);return+r==+n}function s5(e,t){const r=Ce(e),n=Ce(t);return r.getFullYear()===n.getFullYear()}function Zu(e,t){const r=+Ce(e),[n,i]=[+Ce(t.start),+Ce(t.end)].sort((s,o)=>s-o);return r>=n&&r<=i}function o5(e,t){return es(e,-t)}function a5(e,t){const n=d5(e);let i;if(n.date){const u=h5(n.date,2);i=p5(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(n.time&&(o=f5(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(a=g5(n.timezone),isNaN(a))return new Date(NaN)}else{const u=new Date(s+o),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+o+a)}const fh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d5(e){const t={},r=e.split(fh.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],fh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fh.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=fh.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function h5(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function p5(e,t){if(t===null)return new Date(NaN);const r=e.match(l5);if(!r)return new Date(NaN);const n=!!r[4],i=Su(r[1]),s=Su(r[2])-1,o=Su(r[3]),a=Su(r[4]),u=Su(r[5])-1;if(n)return y5(t,a,u)?m5(t,a,u):new Date(NaN);{const d=new Date(0);return!C5(t,s,o)||!w5(t,i)?new Date(NaN):(d.setUTCFullYear(t,s,Math.max(i,o)),d)}}function Su(e){return e?parseInt(e):1}function f5(e){const t=e.match(u5);if(!t)return NaN;const r=av(t[1]),n=av(t[2]),i=av(t[3]);return S5(r,n,i)?r*nf+n*rf+i*1e3:NaN}function av(e){return e&&parseFloat(e.replace(",","."))||0}function g5(e){if(e==="Z")return 0;const t=e.match(c5);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return R5(n,i)?r*(n*nf+i*rf):NaN}function m5(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const v5=[31,null,31,30,31,30,31,31,30,31,30,31];function GI(e){return e%400===0||e%4===0&&e%100!==0}function C5(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(v5[t]||(GI(e)?29:28))}function w5(e,t){return t>=1&&t<=(GI(e)?366:365)}function y5(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function S5(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function R5(e,t){return t>=0&&t<=59}function Xr(e,t){const r=Ce(e),n=r.getFullYear(),i=r.getDate(),s=st(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=s6(s);return r.setMonth(t,Math.min(i,o)),r}function b5(e,t){let r=Ce(e);return isNaN(+r)?st(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=Xr(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function _h(e,t){const r=Ce(e);return r.setHours(t),r}function Nh(e,t){const r=Ce(e);return r.setMinutes(t),r}function La(e,t){const r=Ce(e),n=Math.trunc(r.getMonth()/3)+1,i=t-n;return Xr(r,r.getMonth()+i*3)}function Gh(e,t){const r=Ce(e);return r.setSeconds(t),r}function Jn(e,t){const r=Ce(e);return isNaN(+r)?st(e,NaN):(r.setFullYear(t),r)}function el(e,t){return Wn(e,-t)}function HI(e,t){return BR(e,-t)}function ZP(e,t){return wp(e,-t)}function tl(e,t){return Yi(e,-t)}function of(){return typeof window<"u"}function yl(e){return WI(e)?(e.nodeName||"").toLowerCase():"#document"}function en(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bi(e){var t;return(t=(WI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WI(e){return of()?e instanceof Node||e instanceof en(e).Node:!1}function Mr(e){return of()?e instanceof Element||e instanceof en(e).Element:!1}function mi(e){return of()?e instanceof HTMLElement||e instanceof en(e).HTMLElement:!1}function eF(e){return!of()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof en(e).ShadowRoot}function Mc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function D5(e){return["table","td","th"].includes(yl(e))}function af(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function YR(e){const t=qR(),r=Mr(e)?yn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function E5(e){let t=qs(e);for(;mi(t)&&!rl(t);){if(YR(t))return t;if(af(t))return null;t=qs(t)}return null}function qR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rl(e){return["html","body","#document"].includes(yl(e))}function yn(e){return en(e).getComputedStyle(e)}function lf(e){return Mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qs(e){if(yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eF(e)&&e.host||bi(e);return eF(t)?t.host:t}function BI(e){const t=qs(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:mi(t)&&Mc(t)?t:BI(t)}function ec(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=BI(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=en(i);if(s){const a=FS(o);return t.concat(o,o.visualViewport||[],Mc(i)?i:[],a&&r?ec(a):[])}return t.concat(i,ec(i,[],r))}function FS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const nl=Math.min,Io=Math.max,Pp=Math.round,gh=Math.floor,ci=e=>({x:e,y:e}),P5={left:"right",right:"left",bottom:"top",top:"bottom"},F5={start:"end",end:"start"};function x5(e,t,r){return Io(e,nl(t,r))}function uf(e,t){return typeof e=="function"?e(t):e}function il(e){return e.split("-")[0]}function Tc(e){return e.split("-")[1]}function M5(e){return e==="x"?"y":"x"}function jR(e){return e==="y"?"height":"width"}function tc(e){return["top","bottom"].includes(il(e))?"y":"x"}function KR(e){return M5(tc(e))}function T5(e,t,r){r===void 0&&(r=!1);const n=Tc(e),i=KR(e),s=jR(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Fp(o)),[o,Fp(o)]}function k5(e){const t=Fp(e);return[xS(e),t,xS(t)]}function xS(e){return e.replace(/start|end/g,t=>F5[t])}function A5(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function O5(e,t,r,n){const i=Tc(e);let s=A5(il(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(xS)))),s}function Fp(e){return e.replace(/left|right|bottom|top/g,t=>P5[t])}function I5(e){return{top:0,right:0,bottom:0,left:0,...e}}function VI(e){return typeof e!="number"?I5(e):{top:e,right:e,bottom:e,left:e}}function xp(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function tF(e,t,r){let{reference:n,floating:i}=e;const s=tc(t),o=KR(t),a=jR(o),u=il(t),d=s==="y",p=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,g=n[a]/2-i[a]/2;let v;switch(u){case"top":v={x:p,y:n.y-i.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-i.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Tc(t)){case"start":v[o]-=g*(r&&d?-1:1);break;case"end":v[o]+=g*(r&&d?-1:1);break}return v}const L5=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:f}=tF(d,n,u),g=n,v={},w=0;for(let y=0;y<a.length;y++){const{name:S,fn:b}=a[y],{x:E,y:P,data:F,reset:k}=await b({x:p,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:e,floating:t}});p=E??p,f=P??f,v={...v,[S]:{...v[S],...F}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:p,y:f}=tF(d,g,u)),y=-1)}return{x:p,y:f,placement:g,strategy:i,middlewareData:v}};async function _5(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=uf(t,e),w=VI(v),S=a[g?f==="floating"?"reference":"floating":f],b=xp(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(S)))==null||r?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:p,strategy:u})),E=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),F=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},k=xp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:P,strategy:u}):E);return{top:(b.top-k.top+w.top)/F.y,bottom:(k.bottom-b.bottom+w.bottom)/F.y,left:(b.left-k.left+w.left)/F.x,right:(k.right-b.right+w.right)/F.x}}const N5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:d,padding:p=0}=uf(e,t)||{};if(d==null)return{};const f=VI(p),g={x:r,y:n},v=KR(i),w=jR(v),y=await o.getDimensions(d),S=v==="y",b=S?"top":"left",E=S?"bottom":"right",P=S?"clientHeight":"clientWidth",F=s.reference[w]+s.reference[v]-g[v]-s.floating[w],k=g[v]-s.reference[v],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=A?A[P]:0;(!T||!await(o.isElement==null?void 0:o.isElement(A)))&&(T=a.floating[P]||s.floating[w]);const I=F/2-k/2,L=T/2-y[w]/2-1,H=nl(f[b],L),G=nl(f[E],L),V=H,$=T-y[w]-G,te=T/2-y[w]/2+I,se=x5(V,te,$),X=!u.arrow&&Tc(i)!=null&&te!==se&&s.reference[w]/2-(te<V?H:G)-y[w]/2<0,Z=X?te<V?te-V:te-$:0;return{[v]:g[v]+Z,data:{[v]:se,centerOffset:te-se-Z,...X&&{alignmentOffset:Z}},reset:X}}}),G5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:d}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=uf(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=il(i),E=tc(a),P=il(a)===a,F=await(u.isRTL==null?void 0:u.isRTL(d.floating)),k=g||(P||!y?[Fp(a)]:k5(a)),A=w!=="none";!g&&A&&k.push(...O5(a,y,w,F));const T=[a,...k],I=await _5(t,S),L=[];let H=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&L.push(I[b]),f){const te=T5(i,o,F);L.push(I[te[0]],I[te[1]])}if(H=[...H,{placement:i,overflows:L}],!L.every(te=>te<=0)){var G,V;const te=(((G=s.flip)==null?void 0:G.index)||0)+1,se=T[te];if(se)return{data:{index:te,overflows:H},reset:{placement:se}};let X=(V=H.filter(Z=>Z.overflows[0]<=0).sort((Z,z)=>Z.overflows[1]-z.overflows[1])[0])==null?void 0:V.placement;if(!X)switch(v){case"bestFit":{var $;const Z=($=H.filter(z=>{if(A){const ne=tc(z.placement);return ne===E||ne==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ne=>ne>0).reduce((ne,re)=>ne+re,0)]).sort((z,ne)=>z[1]-ne[1])[0])==null?void 0:$[0];Z&&(X=Z);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};async function H5(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=il(r),a=Tc(r),u=tc(r)==="y",d=["left","top"].includes(o)?-1:1,p=s&&u?-1:1,f=uf(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),u?{x:v*p,y:g*d}:{x:g*d,y:v*p}}const W5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await H5(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}};function zI(e){const t=yn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=mi(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,a=Pp(r)!==s||Pp(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function QR(e){return Mr(e)?e:e.contextElement}function za(e){const t=QR(e);if(!mi(t))return ci(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=zI(t);let o=(s?Pp(r.width):r.width)/n,a=(s?Pp(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const B5=ci(0);function UI(e){const t=en(e);return!qR()||!t.visualViewport?B5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==en(e)?!1:t}function Uo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=QR(e);let o=ci(1);t&&(n?Mr(n)&&(o=za(n)):o=za(e));const a=V5(s,r,n)?UI(s):ci(0);let u=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,p=i.width/o.x,f=i.height/o.y;if(s){const g=en(s),v=n&&Mr(n)?en(n):n;let w=g,y=FS(w);for(;y&&n&&v!==w;){const S=za(y),b=y.getBoundingClientRect(),E=yn(y),P=b.left+(y.clientLeft+parseFloat(E.paddingLeft))*S.x,F=b.top+(y.clientTop+parseFloat(E.paddingTop))*S.y;u*=S.x,d*=S.y,p*=S.x,f*=S.y,u+=P,d+=F,w=en(y),y=FS(w)}}return xp({width:p,height:f,x:u,y:d})}function XR(e,t){const r=lf(e).scrollLeft;return t?t.left+r:Uo(bi(e)).left+r}function $I(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:XR(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function z5(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=bi(n),a=t?af(t.floating):!1;if(n===o||a&&s)return r;let u={scrollLeft:0,scrollTop:0},d=ci(1);const p=ci(0),f=mi(n);if((f||!f&&!s)&&((yl(n)!=="body"||Mc(o))&&(u=lf(n)),mi(n))){const v=Uo(n);d=za(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const g=o&&!f&&!s?$I(o,u,!0):ci(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+p.x+g.x,y:r.y*d.y-u.scrollTop*d.y+p.y+g.y}}function U5(e){return Array.from(e.getClientRects())}function $5(e){const t=bi(e),r=lf(e),n=e.ownerDocument.body,i=Io(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Io(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+XR(e);const a=-r.scrollTop;return yn(n).direction==="rtl"&&(o+=Io(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Y5(e,t){const r=en(e),n=bi(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const d=qR();(!d||d&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function q5(e,t){const r=Uo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=mi(e)?za(e):ci(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:o,height:a,x:u,y:d}}function rF(e,t,r){let n;if(t==="viewport")n=Y5(e,r);else if(t==="document")n=$5(bi(e));else if(Mr(t))n=q5(t,r);else{const i=UI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xp(n)}function YI(e,t){const r=qs(e);return r===t||!Mr(r)||rl(r)?!1:yn(r).position==="fixed"||YI(r,t)}function j5(e,t){const r=t.get(e);if(r)return r;let n=ec(e,[],!1).filter(a=>Mr(a)&&yl(a)!=="body"),i=null;const s=yn(e).position==="fixed";let o=s?qs(e):e;for(;Mr(o)&&!rl(o);){const a=yn(o),u=YR(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mc(o)&&!u&&YI(e,o))?n=n.filter(p=>p!==o):i=a,o=qs(o)}return t.set(e,n),n}function K5(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?af(t)?[]:j5(t,this._c):[].concat(r),n],a=o[0],u=o.reduce((d,p)=>{const f=rF(t,p,i);return d.top=Io(f.top,d.top),d.right=nl(f.right,d.right),d.bottom=nl(f.bottom,d.bottom),d.left=Io(f.left,d.left),d},rF(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Q5(e){const{width:t,height:r}=zI(e);return{width:t,height:r}}function X5(e,t,r){const n=mi(t),i=bi(t),s=r==="fixed",o=Uo(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=ci(0);if(n||!n&&!s)if((yl(t)!=="body"||Mc(i))&&(a=lf(t)),n){const g=Uo(t,!0,s,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else i&&(u.x=XR(i));const d=i&&!n&&!s?$I(i,a):ci(0),p=o.left+a.scrollLeft-u.x-d.x,f=o.top+a.scrollTop-u.y-d.y;return{x:p,y:f,width:o.width,height:o.height}}function lv(e){return yn(e).position==="static"}function nF(e,t){if(!mi(e)||yn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bi(e)===r&&(r=r.ownerDocument.body),r}function qI(e,t){const r=en(e);if(af(e))return r;if(!mi(e)){let i=qs(e);for(;i&&!rl(i);){if(Mr(i)&&!lv(i))return i;i=qs(i)}return r}let n=nF(e,t);for(;n&&D5(n)&&lv(n);)n=nF(n,t);return n&&rl(n)&&lv(n)&&!YR(n)?r:n||E5(e)||r}const J5=async function(e){const t=this.getOffsetParent||qI,r=this.getDimensions,n=await r(e.floating);return{reference:X5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z5(e){return yn(e).direction==="rtl"}const eQ={convertOffsetParentRelativeRectToViewportRelativeRect:z5,getDocumentElement:bi,getClippingRect:K5,getOffsetParent:qI,getElementRects:J5,getClientRects:U5,getDimensions:Q5,getScale:za,isElement:Mr,isRTL:Z5};function tQ(e,t){let r=null,n;const i=bi(e);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:d,top:p,width:f,height:g}=e.getBoundingClientRect();if(a||t(),!f||!g)return;const v=gh(p),w=gh(i.clientWidth-(d+f)),y=gh(i.clientHeight-(p+g)),S=gh(d),E={rootMargin:-v+"px "+-w+"px "+-y+"px "+-S+"px",threshold:Io(0,nl(1,u))||1};let P=!0;function F(k){const A=k[0].intersectionRatio;if(A!==u){if(!P)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P=!1}try{r=new IntersectionObserver(F,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(F,E)}r.observe(e)}return o(!0),s}function rQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=QR(e),p=i||s?[...d?ec(d):[],...ec(t)]:[];p.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=d&&a?tQ(d,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(b=>{let[E]=b;E&&E.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(t)})),r()}),d&&!u&&v.observe(d),v.observe(t));let w,y=u?Uo(e):null;u&&S();function S(){const b=Uo(e);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&r(),y=b,w=requestAnimationFrame(S)}return r(),()=>{var b;p.forEach(E=>{i&&E.removeEventListener("scroll",r),s&&E.removeEventListener("resize",r)}),f==null||f(),(b=v)==null||b.disconnect(),v=null,u&&cancelAnimationFrame(w)}}const nQ=W5,iQ=G5,iF=N5,sQ=(e,t,r)=>{const n=new Map,i={platform:eQ,...r},s={...i.platform,_c:n};return L5(e,t,{...i,platform:s})};var Hh=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Mp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mp(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Mp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function jI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sF(e,t){const r=jI(e);return Math.round(t*r)/r}function uv(e){const t=D.useRef(e);return Hh(()=>{t.current=e}),t}function oQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=e,[p,f]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=D.useState(n);Mp(g,n)||v(n);const[w,y]=D.useState(null),[S,b]=D.useState(null),E=D.useCallback(z=>{z!==A.current&&(A.current=z,y(z))},[]),P=D.useCallback(z=>{z!==T.current&&(T.current=z,b(z))},[]),F=s||w,k=o||S,A=D.useRef(null),T=D.useRef(null),I=D.useRef(p),L=u!=null,H=uv(u),G=uv(i),V=uv(d),$=D.useCallback(()=>{if(!A.current||!T.current)return;const z={placement:t,strategy:r,middleware:g};G.current&&(z.platform=G.current),sQ(A.current,T.current,z).then(ne=>{const re={...ne,isPositioned:V.current!==!1};te.current&&!Mp(I.current,re)&&(I.current=re,Yp.flushSync(()=>{f(re)}))})},[g,t,r,G,V]);Hh(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[d]);const te=D.useRef(!1);Hh(()=>(te.current=!0,()=>{te.current=!1}),[]),Hh(()=>{if(F&&(A.current=F),k&&(T.current=k),F&&k){if(H.current)return H.current(F,k,$);$()}},[F,k,$,H,L]);const se=D.useMemo(()=>({reference:A,floating:T,setReference:E,setFloating:P}),[E,P]),X=D.useMemo(()=>({reference:F,floating:k}),[F,k]),Z=D.useMemo(()=>{const z={position:r,left:0,top:0};if(!X.floating)return z;const ne=sF(X.floating,p.x),re=sF(X.floating,p.y);return a?{...z,transform:"translate("+ne+"px, "+re+"px)",...jI(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:re}},[r,a,X.floating,p.x,p.y]);return D.useMemo(()=>({...p,update:$,refs:se,elements:X,floatingStyles:Z}),[p,$,se,X,Z])}const aQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iF({element:n.current,padding:i}).fn(r):{}:n?iF({element:n,padding:i}).fn(r):{}}}},lQ=(e,t)=>({...nQ(e),options:[e,t]}),uQ=(e,t)=>({...iQ(e),options:[e,t]}),cQ=(e,t)=>({...aQ(e),options:[e,t]}),KI={...SG},dQ=KI.useInsertionEffect,hQ=dQ||(e=>e());function pQ(e){const t=D.useRef(()=>{});return hQ(()=>{t.current=e}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var Tp=typeof document<"u"?D.useLayoutEffect:D.useEffect;function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}let oF=!1,fQ=0;const aF=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fQ++;function gQ(){const[e,t]=D.useState(()=>oF?aF():void 0);return Tp(()=>{e==null&&t(aF())},[]),D.useEffect(()=>{oF=!0},[]),e}const mQ=KI.useId,QI=mQ||gQ,vQ=D.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:u=7,tipRadius:d=0,strokeWidth:p=0,staticOffset:f,stroke:g,d:v,style:{transform:w,...y}={},...S}=t,b=QI(),[E,P]=D.useState(!1);if(Tp(()=>{if(!i)return;yn(i).direction==="rtl"&&P(!0)},[i]),!i)return null;const[F,k]=n.split("-"),A=F==="top"||F==="bottom";let T=f;(A&&o!=null&&o.x||!A&&o!=null&&o.y)&&(T=null);const I=p*2,L=I/2,H=a/2*(d/-8+1),G=u/2*d/4,V=!!v,$=T&&k==="end"?"bottom":"top";let te=T&&k==="end"?"right":"left";T&&E&&(te=k==="end"?"left":"right");const se=(s==null?void 0:s.x)!=null?T||s.x:"",X=(s==null?void 0:s.y)!=null?T||s.y:"",Z=v||"M0,0"+(" H"+a)+(" L"+(a-H)+","+(u-G))+(" Q"+a/2+","+u+" "+H+","+(u-G))+" Z",z={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[F];return D.createElement("svg",MS({},S,{"aria-hidden":!0,ref:r,width:V?a:a+I,height:a,viewBox:"0 0 "+a+" "+(u>a?u:a),style:{position:"absolute",pointerEvents:"none",[te]:se,[$]:X,[F]:A||V?"100%":"calc(100% - "+I/2+"px)",transform:[z,w].filter(ne=>!!ne).join(" "),...y}}),I>0&&D.createElement("path",{clipPath:"url(#"+b+")",fill:"none",stroke:g,strokeWidth:I+(v?0:1),d:Z}),D.createElement("path",{stroke:I&&!v?S.fill:"none",d:Z}),D.createElement("clipPath",{id:b},D.createElement("rect",{x:-L,y:L*(V?-1:1),width:a+I,height:a})))});function CQ(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const wQ=D.createContext(null),yQ=D.createContext(null),SQ=()=>{var e;return((e=D.useContext(wQ))==null?void 0:e.id)||null},RQ=()=>D.useContext(yQ);function bQ(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=QI(),s=D.useRef({}),[o]=D.useState(()=>CQ()),a=SQ()!=null,[u,d]=D.useState(n.reference),p=pQ((v,w,y)=>{s.current.openEvent=v?w:void 0,o.emit("openchange",{open:v,event:w,reason:y,nested:a}),r==null||r(v,w,y)}),f=D.useMemo(()=>({setPositionReference:d}),[]),g=D.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return D.useMemo(()=>({dataRef:s,open:t,onOpenChange:p,elements:g,events:o,floatingId:i,refs:f}),[t,p,g,o,i,f])}function DQ(e){e===void 0&&(e={});const{nodeId:t}=e,r=bQ({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[s,o]=D.useState(null),[a,u]=D.useState(null),p=(i==null?void 0:i.domReference)||s,f=D.useRef(null),g=RQ();Tp(()=>{p&&(f.current=p)},[p]);const v=oQ({...e,elements:{...i,...a&&{reference:a}}}),w=D.useCallback(P=>{const F=Mr(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;u(F),v.refs.setReference(F)},[v.refs]),y=D.useCallback(P=>{(Mr(P)||P===null)&&(f.current=P,o(P)),(Mr(v.refs.reference.current)||v.refs.reference.current===null||P!==null&&!Mr(P))&&v.refs.setReference(P)},[v.refs]),S=D.useMemo(()=>({...v.refs,setReference:y,setPositionReference:w,domReference:f}),[v.refs,y,w]),b=D.useMemo(()=>({...v.elements,domReference:p}),[v.elements,p]),E=D.useMemo(()=>({...v,...n,refs:S,elements:b,nodeId:t}),[v,S,b,t,n]);return Tp(()=>{n.dataRef.current.floatingContext=E;const P=g==null?void 0:g.nodesRef.current.find(F=>F.id===t);P&&(P.context=E)}),D.useMemo(()=>({...v,context:E,refs:S,elements:b}),[v,S,b,E])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var TS=function(t,r){return TS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},TS(t,r)};function rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qe=function(){return qe=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},qe.apply(this,arguments)};function oi(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var EQ=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,s=e.className,o=e.children,a=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return x.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},PQ=function(e,t){var r=D.useRef(null),n=D.useRef(e);n.current=e;var i=D.useCallback(function(s){var o;r.current&&!r.current.contains(s.target)&&(t&&s.target instanceof HTMLElement&&s.target.classList.contains(t)||(o=n.current)===null||o===void 0||o.call(n,s))},[t]);return D.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r},cf=function(e){var t=e.children,r=e.onClickOutside,n=e.className,i=e.containerRef,s=e.style,o=e.ignoreClass,a=PQ(r,o);return x.createElement("div",{className:n,style:s,ref:function(u){a.current=u,i&&(i.current=u)}},t)},fe;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(fe||(fe={}));function XI(){var e=typeof window<"u"?window:globalThis;return e}var kc=12,FQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ot(e){if(e==null)return new Date;var t=typeof e=="string"?a5(e):Ce(e);return Hi(t)?t:new Date}function cv(e,t,r,n,i){var s,o=null,a=Lo(r)||Lo(Wu()),u=!0;if(Array.isArray(t))return t.forEach(function(p){var f=ov(e,p,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(u=Hi(f,i)&&e===Ct(f,p,r)),Hi(f,i)&&u&&(o=f)}),o;if(o=ov(e,t,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)u=Hi(o)&&e===Ct(o,t,r);else if(!Hi(o)){var d=((s=t.match(FQ))!==null&&s!==void 0?s:[]).map(function(p){var f=p[0];if(f==="p"||f==="P"){var g=Dp[f];return a?g(p,a.formatLong):f}return p}).join("");e.length>0&&(o=ov(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Hi(o)||(o=new Date(e))}return Hi(o)&&u?o:null}function Hi(e,t){return yp(e)&&!zo(e,t??new Date("1/1/1800"))}function Ct(e,t,r){if(r==="en")return XP(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Lo(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!n&&Wu()&&Lo(Wu())&&(n=Lo(Wu())),XP(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function hn(e,t){var r=t.dateFormat,n=t.locale,i=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Ct(e,i,n)||""}function xQ(e,t,r){if(!e)return"";var n=hn(e,r),i=t?hn(t,r):"";return"".concat(n," - ").concat(i)}function MQ(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?hn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=hn(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function dv(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,s=i===void 0?0:i,o=t.second,a=o===void 0?0:o;return _h(Nh(Gh(e,a),s),n)}function TQ(e){return VR(e)}function kQ(e,t){return Ct(e,"ddd",t)}function Wh(e){return Vo(e)}function Bs(e,t,r){var n=Lo(t||Wu());return ts(e,{locale:n,weekStartsOn:r})}function Ki(e){return FI(e)}function Mu(e){return sf(e)}function lF(e){return DS(e)}function uF(){return Vo(ot())}function cF(e){return EI(e)}function AQ(e){return h4(e)}function OQ(e){return PI(e)}function Zn(e,t){return e&&t?s5(e,t):!e&&!t}function Rr(e,t){return e&&t?n5(e,t):!e&&!t}function kp(e,t){return e&&t?i5(e,t):!e&&!t}function Ue(e,t){return e&&t?c4(e,t):!e&&!t}function Po(e,t){return e&&t?l6(e,t):!e&&!t}function Tu(e,t,r){var n,i=Vo(t),s=EI(r);try{n=Zu(e,{start:i,end:s})}catch{n=!1}return n}function Wu(){var e=XI();return e.__localeId__}function Lo(e){if(typeof e=="string"){var t=XI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function IQ(e,t,r){return t(Ct(e,"EEEE",r))}function LQ(e,t){return Ct(e,"EEEEEE",t)}function _Q(e,t){return Ct(e,"EEE",t)}function JR(e,t){return Ct(Xr(ot(),e),"LLLL",t)}function JI(e,t){return Ct(Xr(ot(),e),"LLL",t)}function NQ(e,t){return Ct(La(ot(),e),"QQQ",t)}function pn(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,a=r.includeDates,u=r.includeDateIntervals,d=r.filterDate;return Ac(e,{minDate:n,maxDate:i})||s&&s.some(function(p){return p instanceof Date?Ue(e,p):Ue(e,p.date)})||o&&o.some(function(p){var f=p.start,g=p.end;return Zu(e,{start:f,end:g})})||a&&!a.some(function(p){return Ue(e,p)})||u&&!u.some(function(p){var f=p.start,g=p.end;return Zu(e,{start:f,end:g})})||d&&!d(ot(e))||!1}function ZR(e,t){var r=t===void 0?{}:t,n=r.excludeDates,i=r.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Zu(e,{start:o,end:a})}):n&&n.some(function(s){var o;return s instanceof Date?Ue(e,s):Ue(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function ZI(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,s=r.excludeDates,o=r.includeDates,a=r.filterDate;return Ac(e,{minDate:n?FI(n):void 0,maxDate:i?PI(i):void 0})||(s==null?void 0:s.some(function(u){return Rr(e,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Rr(e,u)})||a&&!a(ot(e))||!1}function mh(e,t,r,n){var i=We(e),s=xr(e),o=We(t),a=xr(t),u=We(n);return i===o&&i===u?s<=r&&r<=a:i<o?u===i&&s<=r||u===o&&a>=r||u<o&&u>i:!1}function GQ(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,s=r.excludeDates,o=r.includeDates;return Ac(e,{minDate:n,maxDate:i})||s&&s.some(function(a){return Rr(a instanceof Date?a:a.date,e)})||o&&!o.some(function(a){return Rr(a,e)})||!1}function vh(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,s=r.excludeDates,o=r.includeDates,a=r.filterDate;return Ac(e,{minDate:n,maxDate:i})||(s==null?void 0:s.some(function(u){return kp(e,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return kp(e,u)})||a&&!a(ot(e))||!1}function Ch(e,t,r){if(!t||!r||!yp(t)||!yp(r))return!1;var n=We(t),i=We(r);return n<=e&&i>=e}function Bh(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,s=r.excludeDates,o=r.includeDates,a=r.filterDate,u=new Date(e,0,1);return Ac(u,{minDate:n?sf(n):void 0,maxDate:i?xI(i):void 0})||(s==null?void 0:s.some(function(d){return Zn(u,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return Zn(u,d)})||a&&!a(ot(u))||!1}function wh(e,t,r,n){var i=We(e),s=Oo(e),o=We(t),a=Oo(t),u=We(n);return i===o&&i===u?s<=r&&r<=a:i<o?u===i&&s<=r||u===o&&a>=r||u<o&&u>i:!1}function Ac(e,t){var r,n=t===void 0?{}:t,i=n.minDate,s=n.maxDate;return(r=i&&Za(e,i)<0||s&&Za(e,s)>0)!==null&&r!==void 0?r:!1}function dF(e,t){return t.some(function(r){return li(r)===li(e)&&ui(r)===ui(e)&&ji(r)===ji(e)})}function hF(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,i=r.includeTimes,s=r.filterTime;return n&&dF(e,n)||i&&!dF(e,i)||s&&!s(e)||!1}function pF(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=ot();i=_h(i,li(e)),i=Nh(i,ui(e)),i=Gh(i,ji(e));var s=ot();s=_h(s,li(r)),s=Nh(s,ui(r)),s=Gh(s,ji(r));var o=ot();o=_h(o,li(n)),o=Nh(o,ui(n)),o=Gh(o,ji(n));var a;try{a=!Zu(i,{start:s,end:o})}catch{a=!1}return a}function fF(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,s=el(e,1);return n&&Sp(n,s)>0||i&&i.every(function(o){return Sp(o,s)>0})||!1}function gF(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,s=Wn(e,1);return n&&Sp(s,n)>0||i&&i.every(function(o){return Sp(s,o)>0})||!1}function HQ(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,s=sf(e),o=HI(s,1);return n&&Rp(n,o)>0||i&&i.every(function(a){return Rp(a,o)>0})||!1}function WQ(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,s=xI(e),o=BR(s,1);return n&&Rp(o,n)>0||i&&i.every(function(a){return Rp(o,a)>0})||!1}function mF(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,s=tl(e,1);return n&&bp(n,s)>0||i&&i.every(function(o){return bp(o,s)>0})||!1}function BQ(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.yearItemNumber,s=i===void 0?kc:i,o=Mu(tl(e,s)),a=Ns(o,s).endPeriod,u=n&&We(n);return u&&u>a||!1}function vF(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,s=Yi(e,1);return n&&bp(s,n)>0||i&&i.every(function(o){return bp(s,o)>0})||!1}function VQ(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.yearItemNumber,s=i===void 0?kc:i,o=Yi(e,s),a=Ns(o,s).startPeriod,u=n&&We(n);return u&&u<a||!1}function eL(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return Za(i,t)>=0});return $P(n)}else return r?$P(r):t}function tL(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return Za(i,t)<=0});return UP(n)}else return r?UP(r):t}function CF(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,i=0,s=e.length;i<s;i++){var o=e[i];if(qi(o)){var a=Ct(o,"MM.dd.yyyy"),u=n.get(a)||[];u.includes(t)||(u.push(t),n.set(a,u))}else if(typeof o=="object"){var d=Object.keys(o),p=(r=d[0])!==null&&r!==void 0?r:"",f=o[p];if(typeof p=="string"&&Array.isArray(f))for(var g=0,v=f.length;g<v;g++){var w=f[g];if(w){var a=Ct(w,"MM.dd.yyyy"),u=n.get(a)||[];u.includes(p)||(u.push(p),n.set(a,u))}}}}return n}function zQ(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function UQ(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var i=n.date,s=n.holidayName;if(qi(i)){var o=Ct(i,"MM.dd.yyyy"),a=r.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===t&&zQ(a.holidayNames,[s]))){a.className=t;var u=a.holidayNames;a.holidayNames=u?oi(oi([],u,!0),[s],!1):[s],r.set(o,a)}}}),r}function $Q(e,t,r,n,i){for(var s=i.length,o=[],a=0;a<s;a++){var u=e,d=i[a];d&&(u=o4(u,li(d)),u=bS(u,ui(d)),u=u4(u,ji(d)));var p=bS(e,(r+1)*n);Ys(u,t)&&zo(u,p)&&d!=null&&o.push(d)}return o}function wF(e){return e<10?"0".concat(e):"".concat(e)}function Ns(e,t){t===void 0&&(t=kc);var r=Math.ceil(We(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function YQ(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function yF(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ce(e.getTime()-t*1e3-r)}function qQ(e,t){return yF(e).getTime()===yF(t).getTime()}function SF(e){if(!qi(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function RF(e,t){if(!qi(e)||!qi(t))throw new Error("Invalid date received");var r=SF(e),n=SF(t);return zo(r,n)}function rL(e){return e.key===fe.Space}var jQ=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=x.createRef(),n.onTimeChange=function(i){var s,o;n.setState({time:i});var a=n.props.date,u=a instanceof Date&&!isNaN(+a),d=u?a:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),f=p[0],g=p[1];d.setHours(Number(f)),d.setMinutes(Number(g))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,d)},n.renderTimeInput=function(){var i=n.state.time,s=n.props,o=s.date,a=s.timeString,u=s.customTimeInput;return u?D.cloneElement(u,{date:o,value:i,onChange:n.onTimeChange}):x.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||a)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return x.createElement("div",{className:"react-datepicker__input-time-container"},x.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),x.createElement("div",{className:"react-datepicker-time__input-container"},x.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(D.Component),KQ=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=D.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var i,s,o=n.key;o===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.isSameDay=function(n){return Ue(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var i=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!i&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),pn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return ZR(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ue(r.props.day,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Ue(n,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,i=n.day,s=n.highlightDates;if(!s)return!1;var o=Ct(i,"MM.dd.yyyy");return s.get(o)},r.getHolidaysClass=function(){var n,i=r.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Ct(s,"MM.dd.yyyy");return o.has(a)?[(n=o.get(a))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,i=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Tu(i,s,o)},r.isInSelectingRange=function(){var n,i=r.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,p=i.startDate,f=i.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(o||a||u)||!g||!d&&r.isDisabled()?!1:o&&f&&(zo(g,f)||Po(g,f))?Tu(s,g,f):a&&p&&(Ys(g,p)||Po(g,p))||u&&p&&!f&&(Ys(g,p)||Po(g,p))?Tu(s,p,g):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,s=i.day,o=i.startDate,a=i.selectsStart,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return a?Ue(s,u):Ue(s,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,s=i.day,o=i.endDate,a=i.selectsEnd,u=i.selectsRange,d=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return a||u?Ue(s,d):Ue(s,o)},r.isRangeStart=function(){var n=r.props,i=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Ue(s,i)},r.isRangeEnd=function(){var n=r.props,i=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Ue(o,i)},r.isWeekend=function(){var n=i6(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===xr(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(xr(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(ot())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var i=r.props.dayClassName?r.props.dayClassName(n):void 0;return tr("react-datepicker__day",i,"react-datepicker__day--"+kQ(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,i=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=n.ariaLabelPrefixWhenDisabled,u=a===void 0?"Not available":a,d=r.isDisabled()||r.isExcluded()?u:o;return"".concat(d," ").concat(Ct(i,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,i=n.day,s=n.holidays,o=s===void 0?new Map:s,a=n.excludeDates,u=Ct(i,"MM.dd.yyyy"),d=[];return o.has(u)&&d.push.apply(d,o.get(u).holidayNames),r.isExcluded()&&d.push(a==null?void 0:a.filter(function(p){return p instanceof Date?Ue(p,i):Ue(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,i=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Ue(i,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(JP(r.props.day),r.props.day):JP(r.props.day)},r.render=function(){return x.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&x.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,i;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(D.Component),QQ=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=D.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var i,s,o=n.key;o===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ue(r.props.date,r.props.selected)&&Ue(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ue(r.props.date,r.props.selected)&&Ue(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var i=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ue(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(i=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,i=r.ariaLabelPrefix,s=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=r.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&Ue(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return x.createElement("div",{ref:this.weekNumberEl,className:tr(a),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(D.Component),XQ=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return pn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,i){r.props.onDayClick&&r.props.onDayClick(n,i)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,i,s){for(var o,a,u,d=new Date(n),p=0;p<7;p++){var f=new Date(n);f.setDate(f.getDate()+p);var g=!r.isDisabled(f);if(g){d=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,i,s),r.props.showWeekPicker&&r.handleDayClick(d,s),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((u=(a=r.props).setOpen)===null||u===void 0||u.call(a,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):TQ(n)},r.renderDays=function(){var n=r.startOfWeek(),i=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;i.push(x.createElement(QQ,qe({key:"W"},t.defaultProps,r.props,{weekNumber:s,date:n,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var u=es(n,a);return x.createElement(KQ,qe({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:r.handleDayClick.bind(r,u),onMouseEnter:r.handleDayMouseEnter.bind(r,u)}))}))},r.startOfWeek=function(){return Bs(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ue(r.startOfWeek(),r.props.selected)&&Ue(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ue(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return x.createElement("div",{className:tr(r)},this.renderDays())},t}(D.Component),Ru,JQ=6,Ua={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},hv=(Ru={},Ru[Ua.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ru[Ua.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ru[Ua.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ru),yh=1;function bF(e,t){return e?Ua.FOUR_COLUMNS:t?Ua.TWO_COLUMNS:Ua.THREE_COLUMNS}var ZQ=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=oi([],Array(12),!0).map(function(){return D.createRef()}),r.QUARTER_REFS=oi([],Array(4),!0).map(function(){return D.createRef()}),r.isDisabled=function(n){return pn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return ZR(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,i){var s,o;(o=(s=r.props).onDayClick)===null||o===void 0||o.call(s,n,i,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var i,s;(s=(i=r.props).onDayMouseEnter)===null||s===void 0||s.call(i,n)},r.handleMouseLeave=function(){var n,i;(i=(n=r.props).onMouseLeave)===null||i===void 0||i.call(n)},r.isRangeStartMonth=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rr(Xr(s,n),o)},r.isRangeStartQuarter=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:kp(La(s,n),o)},r.isRangeEndMonth=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rr(Xr(s,n),a)},r.isRangeEndQuarter=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:kp(La(s,n),a)},r.isInSelectingRangeMonth=function(n){var i,s=r.props,o=s.day,a=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,p=s.startDate,f=s.endDate,g=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(a||u||d)||!g?!1:a&&f?mh(g,f,n,o):u&&p||d&&p&&!f?mh(p,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,a=s.startDate,u=s.selectsStart,d=Xr(o,n),p=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return u?Rr(d,p):Rr(d,a)},r.isSelectingMonthRangeEnd=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,a=s.endDate,u=s.selectsEnd,d=s.selectsRange,p=Xr(o,n),f=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return u||d?Rr(p,f):Rr(p,a)},r.isInSelectingRangeQuarter=function(n){var i,s=r.props,o=s.day,a=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,p=s.startDate,f=s.endDate,g=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(a||u||d)||!g?!1:a&&f?wh(g,f,n,o):u&&p||d&&p&&!f?wh(p,g,n,o):!1},r.isWeekInMonth=function(n){var i=r.props.day,s=es(n,6);return Rr(n,i)||Rr(s,i)},r.isCurrentMonth=function(n,i){return We(n)===We(ot())&&i===xr(ot())},r.isCurrentQuarter=function(n,i){return We(n)===We(ot())&&i===Oo(ot())},r.isSelectedMonth=function(n,i,s){return xr(s)===i&&We(n)===We(s)},r.isSelectMonthInList=function(n,i,s){return s.some(function(o){return r.isSelectedMonth(n,i,o)})},r.isSelectedQuarter=function(n,i,s){return Oo(n)===i&&We(n)===We(s)},r.renderWeeks=function(){for(var n=[],i=r.props.fixedHeight,s=0,o=!1,a=Bs(Ki(r.props.day),r.props.locale,r.props.calendarStartDay),u=function(w){return r.props.showWeekPicker?Bs(w,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(w){return r.props.showWeekPicker?Bs(w,r.props.locale,r.props.calendarStartDay):r.props.selected},p=r.props.selected?d(r.props.selected):void 0,f=r.props.preSelection?u(r.props.preSelection):void 0;n.push(x.createElement(XQ,qe({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:a,month:xr(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:p,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!o;){s++,a=wp(a,1);var g=i&&s>=JQ,v=!i&&!r.isWeekInMonth(a);if(g||v)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,i){var s=r.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||r.handleDayClick(Ki(a),n)},r.onMonthMouseEnter=function(n){var i=r.isMonthDisabledForLabelDate(n),s=i.isDisabled,o=i.labelDate;s||r.handleDayMouseEnter(Ki(o))},r.handleMonthNavigation=function(n,i){var s,o,a,u;(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,i),(u=(a=r.MONTH_REFS[n])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus()},r.handleKeyboardNavigation=function(n,i,s){var o,a=r.props,u=a.selected,d=a.preSelection,p=a.setPreSelection,f=a.minDate,g=a.maxDate,v=a.showFourColumnMonthYearPicker,w=a.showTwoColumnMonthYearPicker;if(d){var y=bF(v,w),S=r.getVerticalOffset(y),b=(o=hv[y])===null||o===void 0?void 0:o.grid,E=function(T,I,L){var H,G,V=I,$=L;switch(T){case fe.ArrowRight:V=Wn(I,yh),$=L===11?0:L+yh;break;case fe.ArrowLeft:V=el(I,yh),$=L===0?11:L-yh;break;case fe.ArrowUp:V=el(I,S),$=!((H=b==null?void 0:b[0])===null||H===void 0)&&H.includes(L)?L+12-S:L-S;break;case fe.ArrowDown:V=Wn(I,S),$=!((G=b==null?void 0:b[b.length-1])===null||G===void 0)&&G.includes(L)?L-12+S:L+S;break}return{newCalculatedDate:V,newCalculatedMonth:$}},P=function(T,I,L){for(var H=40,G=T,V=!1,$=0,te=E(G,I,L),se=te.newCalculatedDate,X=te.newCalculatedMonth;!V;){if($>=H){se=I,X=L;break}if(f&&se<f){G=fe.ArrowRight;var Z=E(G,se,X);se=Z.newCalculatedDate,X=Z.newCalculatedMonth}if(g&&se>g){G=fe.ArrowLeft;var Z=E(G,se,X);se=Z.newCalculatedDate,X=Z.newCalculatedMonth}if(GQ(se,r.props)){var Z=E(G,se,X);se=Z.newCalculatedDate,X=Z.newCalculatedMonth}else V=!0;$++}return{newCalculatedDate:se,newCalculatedMonth:X}};if(i===fe.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),p==null||p(u));return}var F=P(i,d,s),k=F.newCalculatedDate,A=F.newCalculatedMonth;switch(i){case fe.ArrowRight:case fe.ArrowLeft:case fe.ArrowUp:case fe.ArrowDown:r.handleMonthNavigation(A,k);break}}},r.getVerticalOffset=function(n){var i,s;return(s=(i=hv[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,i){var s=r.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,u=n.key;u!==fe.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,u,i),a&&a(n)},r.onQuarterClick=function(n,i){var s=La(r.props.day,i);vh(s,r.props)||r.handleDayClick(lF(s),n)},r.onQuarterMouseEnter=function(n){var i=La(r.props.day,n);vh(i,r.props)||r.handleDayMouseEnter(lF(i))},r.handleQuarterNavigation=function(n,i){var s,o,a,u;r.isDisabled(i)||r.isExcluded(i)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,i),(u=(a=r.QUARTER_REFS[n-1])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus())},r.onQuarterKeyDown=function(n,i){var s,o,a=n.key;if(!r.props.disabledKeyboardNavigation)switch(a){case fe.Enter:r.onQuarterClick(n,i),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case fe.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===4?1:i+1,BR(r.props.preSelection,1));break;case fe.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===1?4:i-1,HI(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var i,s=r.props,o=s.day,a=s.minDate,u=s.maxDate,d=s.excludeDates,p=s.includeDates,f=Xr(o,n);return{isDisabled:(i=(a||u||d||p)&&ZI(f,r.props))!==null&&i!==void 0?i:!1,labelDate:f}},r.isMonthDisabled=function(n){var i=r.isMonthDisabledForLabelDate(n).isDisabled;return i},r.getMonthClassNames=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate,u=i.preSelection,d=i.monthClassName,p=d?d(Xr(s,n)):void 0,f=r.getSelection();return tr("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(s,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&u&&r.isSelectedMonth(s,n,u)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&a?mh(o,a,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=xr(r.props.preSelection),s=r.isMonthDisabledForLabelDate(i).isDisabled,o=n===i&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=Oo(r.props.preSelection),s=vh(r.props.day,r.props),o=n===i&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var i=r.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,u=a===void 0?"Not available":a,d=i.day,p=i.locale,f=Xr(d,n),g=r.isDisabled(f)||r.isExcluded(f)?u:o;return"".concat(g," ").concat(Ct(f,"MMMM yyyy",p))},r.getQuarterClassNames=function(n){var i=r.props,s=i.day,o=i.startDate,a=i.endDate,u=i.selected,d=i.minDate,p=i.maxDate,f=i.excludeDates,g=i.includeDates,v=i.filterDate,w=i.preSelection,y=i.disabledKeyboardNavigation,S=(d||p||f||g||v)&&vh(La(s,n),r.props);return tr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":u?r.isSelectedQuarter(s,n,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&w&&r.isSelectedQuarter(s,n,w)&&!S,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&a?wh(o,a,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n)})},r.getMonthContent=function(n){var i=r.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,u=i.day,d=JI(n,a),p=JR(n,a);return o?o(n,d,p,u):s?p:d},r.getQuarterContent=function(n){var i,s=r.props,o=s.renderQuarterContent,a=s.locale,u=NQ(n,a);return(i=o==null?void 0:o(n,u))!==null&&i!==void 0?i:u},r.renderMonths=function(){var n,i=r.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,u=i.selected,d=(n=hv[bF(o,s)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(p,f){return x.createElement("div",{className:"react-datepicker__month-wrapper",key:f},p.map(function(g,v){return x.createElement("div",{ref:r.MONTH_REFS[g],key:v,onClick:function(w){r.onMonthClick(w,g)},onKeyDown:function(w){rL(w)&&(w.preventDefault(),w.key=fe.Enter),r.onMonthKeyDown(w,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(a,g)?"date":void 0,"aria-selected":u?r.isSelectedMonth(a,g,u):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,i=n.day,s=n.selected,o=[1,2,3,4];return x.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,u){return x.createElement("div",{key:u,ref:r.QUARTER_REFS[u],role:"option",onClick:function(d){r.onQuarterClick(d,a)},onKeyDown:function(d){r.onQuarterKeyDown(d,a)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(a)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(a)}:void 0,className:r.getQuarterClassNames(a),"aria-selected":s?r.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(r.getQuarterTabIndex(a)),"aria-current":r.isCurrentQuarter(i,a)?"date":void 0},r.getQuarterContent(a))}))},r.getClassNames=function(){var n=r.props,i=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,a=n.showMonthYearPicker,u=n.showQuarterYearPicker,d=n.showWeekPicker;return tr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,i=r.selectedDates,s=r.selectsMultiple;if(s)return i;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,i=r.showQuarterYearPicker,s=r.day,o=r.ariaLabelPrefix,a=o===void 0?"Month ":o,u=a?a.trim()+" ":"";return x.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ct(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(D.Component),e8=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,i){return x.createElement("div",{className:r.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,i),"aria-selected":r.isSelectedMonth(i)?"true":void 0},r.isSelectedMonth(i)?x.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return x.createElement(cf,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),t8=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(i,s){return x.createElement("option",{key:i,value:s},i)})},r.renderSelectMode=function(n){return x.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(i){return r.onChange(parseInt(i.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,i){return x.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},x.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[r.props.month]))},r.renderDropdown=function(n){return x.createElement(e8,qe({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var i=r.state.dropdownVisible,s=[r.renderReadView(!i,n)];return i&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return JI(s,r.props.locale)}:function(s){return JR(s,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return x.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(D.Component);function r8(e,t){for(var r=[],n=Ki(e),i=Ki(t);!Ys(n,i);)r.push(ot(n)),n=Wn(n,1);return r}var n8=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var s=PS(i),o=Zn(n.props.date,i)&&Rr(n.props.date,i);return x.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?x.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ct(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:r8(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=tr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return x.createElement(cf,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),i8=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Ki(r.props.minDate),i=Ki(r.props.maxDate),s=[];!Ys(n,i);){var o=PS(n);s.push(x.createElement("option",{key:o,value:o},Ct(n,r.props.dateFormat,r.props.locale))),n=Wn(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return x.createElement("select",{value:PS(Ki(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var i=Ct(r.props.date,r.props.dateFormat,r.props.locale);return x.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},x.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},r.renderDropdown=function(){return x.createElement(n8,qe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown();var i=ot(n);Zn(r.props.date,i)&&Rr(r.props.date,i)||r.props.onChange(i)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return x.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(D.Component),s8=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((i=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var i,s;(r.props.minTime||r.props.maxTime)&&pF(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hF(n,r.props)||(s=(i=r.props).onChange)===null||s===void 0||s.call(i,n)},r.isSelectedTime=function(n){return r.props.selected&&qQ(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&pF(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hF(n,r.props)},r.liClasses=function(n){var i,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(li(n)*3600+ui(n)*60+ji(n))%(((i=r.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,i){var s,o;n.key===fe.Space&&(n.preventDefault(),n.key=fe.Enter),(n.key===fe.ArrowUp||n.key===fe.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===fe.ArrowDown||n.key===fe.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===fe.Enter&&r.handleClick(i),(o=(s=r.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},r.renderTimes=function(){for(var n,i=[],s=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,a=r.props.selected||r.props.openToDate||ot(),u=Wh(a),d=r.props.injectTimes&&r.props.injectTimes.sort(function(S,b){return S.getTime()-b.getTime()}),p=60*YQ(a),f=p/o,g=0;g<f;g++){var v=bS(u,g*o);if(i.push(v),d){var w=$Q(u,v,g,o,d);i=i.concat(w)}}var y=i.reduce(function(S,b){return b.getTime()<=a.getTime()?b:S},i[0]);return i.map(function(S){return x.createElement("li",{key:S.valueOf(),onClick:r.handleClick.bind(r,S),className:r.liClasses(S),ref:function(b){S===y&&(r.centerLi=b)},onKeyDown:function(b){r.handleOnKeyDown(b,S)},tabIndex:S===y?0:-1,role:"option","aria-selected":r.isSelectedTime(S)?"true":void 0,"aria-disabled":r.isDisabledTime(S)?"true":void 0},Ct(S,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?x.createElement(x.Fragment,null):x.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},x.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,i=this.state.height;return x.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),x.createElement("div",{className:"react-datepicker__time"},x.createElement("div",{className:"react-datepicker__time-box"},x.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(D.Component),DF=3,o8=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=oi([],Array(n.props.yearItemNumber),!0).map(function(){return D.createRef()}),n.isDisabled=function(i){return pn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return ZR(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=n.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(i,s){n.props.onDayClick&&n.props.onDayClick(i,s)},n.handleYearNavigation=function(i,s){var o,a,u,d,p=n.props,f=p.date,g=p.yearItemNumber;if(!(f===void 0||g===void 0)){var v=Ns(f,g).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,s),i-v<0?n.updateFocusOnPaginate(g-(v-i)):i-v>=g?n.updateFocusOnPaginate(Math.abs(g-(i-v))):(d=(u=n.YEAR_REFS[i-v])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,s){return Ue(i,s)},n.isCurrentYear=function(i){return i===We(ot())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Zn(Jn(ot(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Zn(Jn(ot(),i),n.props.endDate)},n.isInRange=function(i){return Ch(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var s=n.props,o=s.selectsStart,a=s.selectsEnd,u=s.selectsRange,d=s.startDate,p=s.endDate;return!(o||a||u)||!n.selectingDate()?!1:o&&p?Ch(i,n.selectingDate(),p):a&&d||u&&d&&!p?Ch(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var s;if(!n.isInSelectingRange(i))return!1;var o=n.props,a=o.startDate,u=o.selectsStart,d=Jn(ot(),i);return u?Zn(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):Zn(d,a??null)},n.isSelectingRangeEnd=function(i){var s;if(!n.isInSelectingRange(i))return!1;var o=n.props,a=o.endDate,u=o.selectsEnd,d=o.selectsRange,p=Jn(ot(),i);return u||d?Zn(p,(s=n.selectingDate())!==null&&s!==void 0?s:null):Zn(p,a??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,a=s.maxDate,u=s.excludeDates,d=s.includeDates,p=s.filterDate,f=Mu(Jn(n.props.date,i)),g=(o||a||u||d||p)&&Bh(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ue(f,Mu(n.props.selected))&&Ue(f,Mu(n.props.preSelection))&&!g}},n.onYearClick=function(i,s){var o=n.props.date;o!==void 0&&n.handleYearClick(Mu(Jn(o,s)),i)},n.onYearKeyDown=function(i,s){var o,a,u=i.key,d=n.props,p=d.date,f=d.yearItemNumber,g=d.handleOnKeyDown;if(u!==fe.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case fe.Enter:if(n.props.selected==null)break;n.onYearClick(i,s),(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,n.props.selected);break;case fe.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Yi(n.props.preSelection,1));break;case fe.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,tl(n.props.preSelection,1));break;case fe.ArrowUp:{if(p===void 0||f===void 0||n.props.preSelection==null)break;var v=Ns(p,f).startPeriod,w=DF,y=s-w;if(y<v){var S=f%w;s>=v&&s<v+S?w=S:w+=S,y=s-w}n.handleYearNavigation(y,tl(n.props.preSelection,w));break}case fe.ArrowDown:{if(p===void 0||f===void 0||n.props.preSelection==null)break;var b=Ns(p,f).endPeriod,w=DF,y=s+w;if(y>b){var S=f%w;s<=b&&s>b-S?w=S:w+=S,y=s+w}n.handleYearNavigation(y,Yi(n.props.preSelection,w));break}}g&&g(i)},n.getYearClassNames=function(i){var s=n.props,o=s.date,a=s.minDate,u=s.maxDate,d=s.selected,p=s.excludeDates,f=s.includeDates,g=s.filterDate,v=s.yearClassName;return tr("react-datepicker__year-text","react-datepicker__year-".concat(i),o?v==null?void 0:v(Jn(o,i)):void 0,{"react-datepicker__year-text--selected":d?i===We(d):void 0,"react-datepicker__year-text--disabled":(a||u||p||f||g)&&Bh(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=We(n.props.preSelection),o=Bh(i,n.props);return i===s&&!o?"0":"-1"},n.getYearContainerClassNames=function(){var i=n.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,u=i.selectsRange;return tr("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||u)})},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return t.prototype.render=function(){var r=this,n=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,u=i.onYearMouseLeave;if(s===void 0)return null;for(var d=Ns(s,o),p=d.startPeriod,f=d.endPeriod,g=function(y){n.push(x.createElement("div",{ref:v.YEAR_REFS[y-p],onClick:function(S){r.onYearClick(S,y)},onKeyDown:function(S){rL(S)&&(S.preventDefault(),S.key=fe.Enter),r.onYearKeyDown(S,y)},tabIndex:Number(v.getYearTabIndex(y)),className:v.getYearClassNames(y),onMouseEnter:v.props.usePointerEvent?void 0:function(S){return a(S,y)},onPointerEnter:v.props.usePointerEvent?function(S){return a(S,y)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(S){return u(S,y)},onPointerLeave:v.props.usePointerEvent?function(S){return u(S,y)}:void 0,key:y,"aria-current":v.isCurrentYear(y)?"date":void 0},v.getYearContent(y)))},v=this,w=p;w<=f;w++)g(w);return x.createElement("div",{className:this.getYearContainerClassNames()},x.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(D.Component);function a8(e,t,r,n){for(var i=[],s=0;s<2*t+1;s++){var o=e+t-s,a=!0;r&&(a=We(r)<=o),n&&a&&(a=We(n)>=o),a&&i.push(o)}return i}var l8=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var a=n.props.year,u=n.state.yearsList.map(function(f){return x.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":a===f?"true":void 0},a===f?x.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),d=n.props.minDate?We(n.props.minDate):null,p=n.props.maxDate?We(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(f){return f===p}))&&u.unshift(x.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},x.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(f){return f===d}))&&u.push(x.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},x.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(a){n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(a){var u=n.state.yearsList.map(function(d){return d+a});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=i||(s?10:5);return n.state={yearsList:a8(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=D.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,i=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=tr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return x.createElement(cf,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(D.Component),u8=function(e){rr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?We(r.props.minDate):1900,i=r.props.maxDate?We(r.props.maxDate):2100,s=[],o=n;o<=i;o++)s.push(x.createElement("option",{key:o,value:o},o));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return x.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return x.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return r.toggleDropdown(i)}},x.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),x.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return x.createElement(l8,qe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,i){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,i),r.setOpen()},r.onSelect=function(n,i){var s,o;(o=(s=r.props).onSelect)===null||o===void 0||o.call(s,n,i)},r.setOpen=function(){var n,i;(i=(n=r.props).setOpen)===null||i===void 0||i.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return x.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(D.Component),c8=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],d8=function(e){var t=(e.className||"").split(/\s+/);return c8.some(function(r){return t.indexOf(r)>=0})},h8=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var s,o;d8(i.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},n.getDateInView=function(){var i=n.props,s=i.preSelection,o=i.selected,a=i.openToDate,u=eL(n.props),d=tL(n.props),p=ot(),f=a||o||s;return f||(u&&zo(p,u)?u:d&&Ys(p,d)?d:p)},n.increaseMonth=function(){n.setState(function(i){var s=i.date;return{date:Wn(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var s=i.date;return{date:el(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,s,o){n.props.onSelect(i,s,o),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,s){n.setState({selectingDate:Jn(ot(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,s)},n.handleYearMouseLeave=function(i,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,s)},n.handleYearChange=function(i){var s,o,a,u;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(u=(a=n.props).setOpen)===null||u===void 0||u.call(a,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!pn(i,n.props))return i;for(var s=Ki(i),o=OQ(i),a=d4(o,s),u=null,d=0;d<=a;d++){var p=es(s,d);if(!pn(p,n.props)){u=p;break}}return u},n.handleMonthChange=function(i){var s,o,a,u=(s=n.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(a=(o=n.props).setOpen)===null||a===void 0||a.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(i){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(s){var o=s.date;return{date:Jn(o,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(s){var o=s.date;return{date:Xr(o,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(s){var o=s.date;return{date:Jn(Xr(o,xr(i)),We(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var s=Bs(i,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(x.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var u=es(s,a),d=n.formatWeekday(u,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(u):void 0;return x.createElement("div",{key:a,"aria-label":Ct(u,"EEEE",n.props.locale),className:tr("react-datepicker__day-name",p)},d)}))},n.formatWeekday=function(i,s){return n.props.formatWeekDay?IQ(i,n.props.formatWeekDay,s):n.props.useWeekdaysShort?_Q(i,s):LQ(i,s)},n.decreaseYear=function(){n.setState(function(i){var s,o=i.date;return{date:tl(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=mF(n.state.date,n.props);break;case n.props.showYearPicker:s=BQ(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=HQ(n.state.date,n.props);break;default:s=fF(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.decreaseYear),s&&n.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,f=p.previousMonthButtonLabel,g=f===void 0?t.defaultProps.previousMonthButtonLabel:f,v=p.previousYearButtonLabel,w=v===void 0?t.defaultProps.previousYearButtonLabel:v,y=n.props,S=y.previousMonthAriaLabel,b=S===void 0?typeof g=="string"?g:"Previous Month":S,E=y.previousYearAriaLabel,P=E===void 0?typeof w=="string"?w:"Previous Year":E;return x.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?P:b},x.createElement("span",{className:o.join(" ")},d?w:g))}}},n.increaseYear=function(){n.setState(function(i){var s,o=i.date;return{date:Yi(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=vF(n.state.date,n.props);break;case n.props.showYearPicker:s=VQ(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=WQ(n.state.date,n.props);break;default:s=gF(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,f=p.nextMonthButtonLabel,g=f===void 0?t.defaultProps.nextMonthButtonLabel:f,v=p.nextYearButtonLabel,w=v===void 0?t.defaultProps.nextYearButtonLabel:v,y=n.props,S=y.nextMonthAriaLabel,b=S===void 0?typeof g=="string"?g:"Next Month":S,E=y.nextYearAriaLabel,P=E===void 0?typeof w=="string"?w:"Next Year":E;return x.createElement("button",{type:"button",className:o.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?P:b},x.createElement("span",{className:a.join(" ")},d?w:g))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),x.createElement("h2",{className:s.join(" ")},Ct(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return x.createElement(u8,qe({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:We(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return x.createElement(t8,qe({},t.defaultProps,n.props,{month:xr(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return x.createElement(i8,qe({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(uF(),i),n.props.setPreSelection&&n.props.setPreSelection(uF())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return x.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return x.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),x.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),x.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(i){var s,o,a=i.monthDate,u=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=fF(n.state.date,n.props),p=gF(n.state.date,n.props),f=mF(n.state.date,n.props),g=vF(n.state.date,n.props),v=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return x.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,qe(qe({},n.state),{customHeaderCount:u,monthDate:a,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:p,prevYearButtonDisabled:f,nextYearButtonDisabled:g})),v&&x.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderYearHeader=function(i){var s=i.monthDate,o=n.props,a=o.showYearPicker,u=o.yearItemNumber,d=u===void 0?t.defaultProps.yearItemNumber:u,p=Ns(s,d),f=p.startPeriod,g=p.endPeriod;return x.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(g):We(s))},n.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,u={monthDate:s,i:a};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var i,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],a=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,u=n.props.showPreviousMonths?a-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Yi(n.state.date,u):el(n.state.date,u),p=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,f=0;f<a;++f){var g=f-p+u,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Yi(d,g):Wn(d,g),w="month-".concat(f),y=f<a-1,S=f>0;o.push(x.createElement("div",{key:w,ref:function(b){n.monthContainer=b??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:v,i:f}),x.createElement(ZQ,qe({},t.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:v,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:S}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return x.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),x.createElement(o8,qe({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return x.createElement(s8,qe({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,s=i&&Hi(i)&&!!n.props.selected,o=s?"".concat(wF(i.getHours()),":").concat(wF(i.getMinutes())):"";if(n.props.showTimeInput)return x.createElement(jQ,qe({},t.defaultProps,n.props,{date:i,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,s=Ns(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,u;return n.props.showYearPicker?u="".concat(o," - ").concat(a):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=We(n.state.date):u="".concat(JR(xr(n.state.date),n.props.locale)," ").concat(We(n.state.date)),x.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return x.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=D.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:kc}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Ue(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!Rr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ue(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||EQ;return x.createElement(cf,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},x.createElement(r,{className:tr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(D.Component),p8=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,i=e.onClick,s="react-datepicker__calendar-icon";return typeof t=="string"?x.createElement("i",{className:"".concat(s," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:i}):x.isValidElement(t)?x.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(s," ").concat(n),onClick:function(o){typeof t.props.onClick=="function"&&t.props.onClick(o),typeof i=="function"&&i(o)}}):x.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},x.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},nL=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return qp.createPortal(this.props.children,this.el)},t}(D.Component),f8="[tabindex], a, button, input, select, textarea",g8=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},iL=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(f8),1,-1).filter(g8)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=D.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?x.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},x.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,x.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(D.Component);function m8(e){var t=function(r){var n,i=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=D.useRef(null),o=DQ(qe({open:!i,whileElementsMounted:rQ,placement:r.popperPlacement,middleware:oi([uQ({padding:15}),lQ(10),cQ({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),a=qe(qe({},r),{hidePopper:i,popperProps:qe(qe({},o),{arrowRef:s})});return x.createElement(e,qe({},a))};return t}var v8=function(e){rr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,i=r.wrapperClassName,s=r.hidePopper,o=s===void 0?t.defaultProps.hidePopper:s,a=r.popperComponent,u=r.targetComponent,d=r.enableTabLoop,p=r.popperOnKeyDown,f=r.portalId,g=r.portalHost,v=r.popperProps,w=r.showArrow,y=void 0;if(!o){var S=tr("react-datepicker-popper",n);y=x.createElement(iL,{enableTabLoop:d},x.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:S,"data-placement":v.placement,onKeyDown:p},a,w&&x.createElement(vQ,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=D.createElement(this.props.popperContainer,{},y)),f&&!o&&(y=x.createElement(nL,{portalId:f,portalHost:g},y));var b=tr("react-datepicker-wrapper",i);return x.createElement(x.Fragment,null,x.createElement("div",{ref:v.refs.setReference,className:b},u),y)},t}(D.Component),C8=m8(v8),EF="react-datepicker-ignore-onclickoutside";function w8(e,t){return e&&t?xr(e)!==xr(t)||We(e)!==We(t):e!==t}var pv="Date input not valid.",y8=function(e){rr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Hi(a)?oi(oi([],s,!0),[qe(qe({},o),{date:a})],!1):s},[])},n.calcInitialState=function(){var i,s=n.getPreSelection(),o=eL(n.props),a=tL(n.props),u=o&&zo(s,Wh(o))?o:a&&Ys(s,cF(a))?a:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:u,highlightDates:CF(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(qe(qe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(qe(qe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.input&&n.input.focus&&n.input.focus({preventScroll:!0})},n.setBlur=function(){n.input&&n.input.blur&&n.input.blur(),n.cancelFocusInput()},n.setOpen=function(i,s){s===void 0&&(s=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:fv},function(){i||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return qi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var s,o,a=n.state.wasHidden,u=a?n.state.open:!0;a&&n.resetHiddenStatus(),!n.state.preventFocus&&u&&((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=o[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,o),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){n.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:S8});var d=n.props,p=d.dateFormat,f=p===void 0?t.defaultProps.dateFormat:p,g=d.strictParsing,v=g===void 0?t.defaultProps.strictParsing:g,w=d.selectsRange,y=d.startDate,S=d.endDate,b=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(w){var E=b.split("-",2).map(function(H){return H.trim()}),P=E[0],F=E[1],k=cv(P??"",f,n.props.locale,v),A=cv(F??"",f,n.props.locale,v),T=(y==null?void 0:y.getTime())!==(k==null?void 0:k.getTime()),I=(S==null?void 0:S.getTime())!==(A==null?void 0:A.getTime());if(!T&&!I||k&&pn(k,n.props)||A&&pn(A,n.props))return;(s=(i=n.props).onChange)===null||s===void 0||s.call(i,[k,A],u)}else{var L=cv(b,f,n.props.locale,v,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&L&&!Ue(L,n.props.selected)&&(L=b5(n.props.selected,{hours:li(L),minutes:ui(L),seconds:ji(L)})),(L||!b)&&n.setSelected(L,u,!0)}}},n.handleSelect=function(i,s,o){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(i,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var a=n.props,u=a.startDate,d=a.endDate;u&&!d&&(n.props.swapRange||!RF(i,u))&&n.setOpen(!1)}},n.setSelected=function(i,s,o,a){var u,d,p=i;if(n.props.showYearPicker){if(p!==null&&Bh(We(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&ZI(p,n.props))return}else if(p!==null&&pn(p,n.props))return;var f=n.props,g=f.onChange,v=f.selectsRange,w=f.startDate,y=f.endDate,S=f.selectsMultiple,b=f.selectedDates,E=f.minTime,P=f.swapRange;if(!Po(n.props.selected,p)||n.props.allowSameDay||v||S)if(p!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=dv(p,{hour:li(n.props.selected),minute:ui(n.props.selected),second:ji(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&E&&(p=dv(p,{hour:E.getHours(),minute:E.getMinutes(),second:E.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:a})),v){var F=!w&&!y,k=w&&!y,A=w&&y;F?g==null||g([p,null],s):k&&(p===null?g==null||g([null,null],s):RF(p,w)?P?g==null||g([p,w],s):g==null||g([p,null],s):g==null||g([w,p],s)),A&&(g==null||g([p,null],s))}else if(S){if(p!==null)if(!(b!=null&&b.length))g==null||g([p],s);else{var T=b.some(function(L){return Ue(L,p)});if(T){var I=b.filter(function(L){return!Ue(L,p)});g==null||g(I,s)}else g==null||g(oi(oi([],b,!0),[p],!1),s)}}else g==null||g(p,s);o||((d=(u=n.props).onSelect)===null||d===void 0||d.call(u,p,s),n.setState({inputValue:null}))},n.setPreSelection=function(i){var s=qi(n.props.minDate),o=qi(n.props.maxDate),a=!0;if(i){var u=Wh(i);if(s&&o)a=Tu(i,n.props.minDate,n.props.maxDate);else if(s){var d=Wh(n.props.minDate);a=Ys(i,d)||Po(u,d)}else if(o){var p=cF(n.props.maxDate);a=zo(i,p)||Po(u,p)}}a&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var a=n.props.selected?n.props.selected:n.getPreSelection(),u=n.props.selected?i:dv(a,{hour:li(i),minute:ui(i)});n.setState({preSelection:u}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(i=n.props).onInputClick)===null||s===void 0||s.call(i)},n.onInputKeyDown=function(i){var s,o,a,u,d,p;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===fe.ArrowDown||f===fe.ArrowUp||f===fe.Enter)&&((a=n.onInputClick)===null||a===void 0||a.call(n));return}if(n.state.open){if(f===fe.ArrowDown||f===fe.ArrowUp){i.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var w=ot(n.state.preSelection);f===fe.Enter?(i.preventDefault(),n.inputOk()&&n.state.lastPreSelectChange===fv?(n.handleSelect(w,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):f===fe.Escape?(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1)):f===fe.Tab&&n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:pv})}},n.onPortalKeyDown=function(i){var s=i.key;s===fe.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var s,o,a,u,d,p,f=n.props,g=f.minDate,v=f.maxDate,w=f.disabledKeyboardNavigation,y=f.showWeekPicker,S=f.shouldCloseOnSelect,b=f.locale,E=f.calendarStartDay,P=f.adjustDateOnChange,F=f.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,i),!w){var k=i.key,A=i.shiftKey,T=ot(n.state.preSelection),I=function(se,X){var Z=X;switch(se){case fe.ArrowRight:Z=y?wp(X,1):es(X,1);break;case fe.ArrowLeft:Z=y?ZP(X,1):o5(X,1);break;case fe.ArrowUp:Z=ZP(X,1);break;case fe.ArrowDown:Z=wp(X,1);break;case fe.PageUp:Z=A?tl(X,1):el(X,1);break;case fe.PageDown:Z=A?Yi(X,1):Wn(X,1);break;case fe.Home:Z=Bs(X,b,E);break;case fe.End:Z=AQ(X);break}return Z},L=function(se,X){for(var Z=40,z=se,ne=!1,re=0,O=I(se,X);!ne;){if(re>=Z){O=X;break}g&&O<g&&(z=fe.ArrowRight,O=pn(g,n.props)?I(z,O):g),v&&O>v&&(z=fe.ArrowLeft,O=pn(v,n.props)?I(z,O):v),pn(O,n.props)?((z===fe.PageUp||z===fe.Home)&&(z=fe.ArrowRight),(z===fe.PageDown||z===fe.End)&&(z=fe.ArrowLeft),O=I(z,O)):ne=!0,re++}return O};if(k===fe.Enter){i.preventDefault(),n.handleSelect(T,i),!S&&n.setPreSelection(T);return}else if(k===fe.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(a=n.props).onInputError)===null||u===void 0||u.call(a,{code:1,msg:pv});return}var H=null;switch(k){case fe.ArrowLeft:case fe.ArrowRight:case fe.ArrowUp:case fe.ArrowDown:case fe.PageUp:case fe.PageDown:case fe.Home:case fe.End:H=L(k,T);break}if(!H){(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:pv});return}if(i.preventDefault(),n.setState({lastPreSelectChange:fv}),P&&n.setSelected(H),n.setPreSelection(H),F){var G=xr(T),V=xr(H),$=We(T),te=We(H);G!==V||$!==te?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var s=i.key;s===fe.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,s;return!n.props.inline&&!n.isCalendarOpen()?null:x.createElement(h8,qe({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:UQ(n.modifyHolidays()),outsideClickIgnoreClass:EF,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,s=i.dateFormat,o=s===void 0?t.defaultProps.dateFormat:s,a=i.locale,u=n.props.showTimeInput||n.props.showTimeSelect,d=u?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(hn(n.props.startDate,{dateFormat:d,locale:a}),". ").concat(n.props.endDate?"End date: "+hn(n.props.endDate,{dateFormat:d,locale:a}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(hn(n.props.selected,{dateFormat:o,locale:a})):n.props.showYearPicker?p="Selected year: ".concat(hn(n.props.selected,{dateFormat:"yyyy",locale:a})):n.props.showMonthYearPicker?p="Selected month: ".concat(hn(n.props.selected,{dateFormat:"MMMM yyyy",locale:a})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(hn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):p="Selected date: ".concat(hn(n.props.selected,{dateFormat:d,locale:a})),x.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var i,s,o,a=tr(n.props.className,(i={},i[EF]=n.state.open,i)),u=n.props.customInput||x.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",p=n.props,f=p.dateFormat,g=f===void 0?t.defaultProps.dateFormat:f,v=p.locale,w=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?xQ(n.props.startDate,n.props.endDate,{dateFormat:g,locale:v}):n.props.selectsMultiple?MQ((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:g,locale:v}):hn(n.props.selected,{dateFormat:g,locale:v});return D.cloneElement(u,(s={},s[d]=function(y){n.input=y},s.value=w,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=tr(u.props.className,a),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var i=n.props,s=i.isClearable,o=i.disabled,a=i.selected,u=i.startDate,d=i.endDate,p=i.clearButtonTitle,f=i.clearButtonClassName,g=f===void 0?"":f,v=i.ariaLabelClose,w=v===void 0?"Close":v,y=i.selectedDates;return s&&(a!=null||u!=null||d!=null||y!=null&&y.length)?x.createElement("button",{type:"button",className:tr("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:kc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var i,s,o,a;r.inline&&w8(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:CF(this.props.highlightDates)}),!n.focused&&!Po(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),n.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,i=r.icon,s=r.calendarIconClassname,o=r.calendarIconClassName,a=r.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),x.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&x.createElement(p8,qe({icon:i,className:tr(o,!o&&s,u&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?x.createElement(iL,{enableTabLoop:this.props.enableTabLoop},x.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=x.createElement(nL,qe({portalId:this.props.portalId},this.props),n)),x.createElement("div",null,this.renderInputContainer(),n)}return x.createElement(C8,qe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(D.Component),S8="input",fv="navigate";const R8=()=>{const[e,t]=D.useState({date:null,activity:"",duration:"",customer:""}),[r,n]=D.useState([]);D.useEffect(()=>{fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/customers").then(a=>a.json()).then(a=>{n(a._embedded.customers)}).catch(a=>console.error("Error fetching customers:",a))},[]);const i=a=>{t({...e,[a.target.name]:a.target.value})},s=a=>{t({...e,date:a})},o=a=>{a.preventDefault();const u={...e,date:e.date.toISOString()};fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(d=>{d.ok?(alert("Training session added successfully!"),t({date:null,activity:"",duration:"",customer:""})):alert("Failed to add training session.")}).catch(d=>console.error("Error adding training session:",d))};return xe.jsxs("div",{children:[xe.jsx("h2",{children:"Add Training"}),xe.jsxs("form",{onSubmit:o,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[xe.jsx(y8,{selected:e.date,onChange:s,showTimeSelect:!0,dateFormat:"Pp",placeholderText:"Select Date and Time",required:!0,style:{padding:"10px"}}),xe.jsx("input",{name:"activity",placeholder:"Activity",value:e.activity,onChange:i,required:!0}),xe.jsx("input",{name:"duration",type:"number",placeholder:"Duration (minutes)",value:e.duration,onChange:i,required:!0}),xe.jsxs("select",{name:"customer",value:e.customer,onChange:a=>t({...e,customer:a.target.value}),required:!0,children:[xe.jsx("option",{value:"",children:"Select Customer"}),r.map(a=>xe.jsxs("option",{value:a._links.self.href,children:[a.firstname," ",a.lastname]},a._links.self.href))]}),xe.jsx("button",{type:"submit",style:{padding:"10px"},children:"Add Training"})]})]})};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function b8(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sL(e){var t=b8(e,"string");return rs(t)=="symbol"?t:t+""}function Do(e,t,r){return(t=sL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(n){Do(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function df(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function vi(e,t){if(e==null)return{};var r,n,i=df(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sL(n.key),n)}}function Qt(e,t,r){return t&&FF(e.prototype,t),r&&FF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ap(e)}function oL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!e})()}function D8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E8(e,t){if(t&&(rs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D8(e)}function mr(e,t,r){return t=Ap(t),E8(e,oL()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function Op(e,t){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Op(e,t)}function vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Op(e,t)}function aL(e){if(Array.isArray(e))return e}function P8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return a}}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eb(e,t){if(e){if(typeof e=="string")return kS(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kS(e,t):void 0}}function lL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(e,t){return aL(e)||P8(e,t)||eb(e,t)||lL()}function uL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=uL(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function It(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=uL(e))&&(n&&(n+=" "),n+=t);return n}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kt.apply(null,arguments)}var gv,xF;function F8(){if(xF)return gv;xF=1;var e=function(t,r,n,i,s,o,a,u){if(!t){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,i,s,o,a,u],f=0;d=new Error(r.replace(/%s/g,function(){return p[f++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return gv=e,gv}var x8=F8();const rc=Tr(x8);var M8=function(){};function T8(e,t){var r={};return Object.keys(e).forEach(function(n){r[Vh(n)]=M8}),r}function MF(e,t){return e[t]!==void 0}function Vh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function k8(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function A8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Op(e,t)}function cL(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function dL(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function hL(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}cL.__suppressDeprecationWarning=!0;dL.__suppressDeprecationWarning=!0;hL.__suppressDeprecationWarning=!0;function O8(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=cL,t.componentWillReceiveProps=dL),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=hL;var a=t.componentDidUpdate;t.componentDidUpdate=function(d,p,f){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,d,p,g)}}return e}var I8="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function pL(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=k8(e),s=Object.keys(t),o=s.map(Vh);i||!r.length||rc(!1);var a=function(d){A8(p,d);function p(){for(var g,v=arguments.length,w=new Array(v),y=0;y<v;y++)w[y]=arguments[y];g=d.call.apply(d,[this].concat(w))||this,g.handlers=Object.create(null),s.forEach(function(b){var E=t[b],P=function(k){if(g.props[E]){var A;g._notifying=!0;for(var T=arguments.length,I=new Array(T>1?T-1:0),L=1;L<T;L++)I[L-1]=arguments[L];(A=g.props)[E].apply(A,[k].concat(I)),g._notifying=!1}g.unmounted||g.setState(function(H){var G,V=H.values;return{values:kt(Object.create(null),V,(G={},G[b]=k,G))}})};g.handlers[E]=P}),r.length&&(g.attachRef=function(b){g.inner=b});var S=Object.create(null);return s.forEach(function(b){S[b]=g.props[Vh(b)]}),g.state={values:S,prevProps:{}},g}var f=p.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},p.getDerivedStateFromProps=function(v,w){var y=w.values,S=w.prevProps,b={values:kt(Object.create(null),y),prevProps:{}};return s.forEach(function(E){b.prevProps[E]=v[E],!MF(v,E)&&MF(S,E)&&(b.values[E]=v[Vh(E)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var v=this,w=this.props,y=w.innerRef,S=df(w,["innerRef"]);o.forEach(function(E){delete S[E]});var b={};return s.forEach(function(E){var P=v.props[E];b[E]=P!==void 0?P:v.state.values[E]}),x.createElement(e,kt({},S,b,this.handlers,{ref:y||this.attachRef}))},p}(x.Component);O8(a),a.displayName="Uncontrolled("+n+")",a.propTypes=kt({innerRef:function(){}},T8(t)),r.forEach(function(d){a.prototype[d]=function(){var f;return(f=this.inner)[d].apply(f,arguments)}});var u=a;return x.forwardRef&&(u=x.forwardRef(function(d,p){return x.createElement(a,kt({},d,{innerRef:p,__source:{fileName:I8,lineNumber:128},__self:this}))}),u.propTypes=a.propTypes),u.ControlledComponent=e,u.deferControlTo=function(d,p,f){return p===void 0&&(p={}),pL(d,kt({},t,p),f)},u}var Ip="milliseconds",nc="seconds",ic="minutes",sc="hours",$o="day",sl="week",oc="month",Yo="year",qo="decade",jo="century",fL={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},L8={month:1,year:12,decade:10*12,century:100*12};function _8(e){return[31,N8(e),31,30,31,30,31,31,30,31,30,31]}function N8(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Bn(e,t,r){switch(e=new Date(e),r){case Ip:case nc:case ic:case sc:case $o:case sl:return G8(e,t*fL[r]);case oc:case Yo:case qo:case jo:return H8(e,t*L8[r])}throw new TypeError('Invalid units: "'+r+'"')}function G8(e,t){var r=new Date(+e+t);return W8(e,r)}function H8(e,t){var r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),s=r*12+n+t,o=Math.trunc(s/12),a=s%12,u=Math.min(i,_8(o)[a]),d=new Date(e);return d.setFullYear(o),d.setDate(1),d.setMonth(a),d.setDate(u),d}function W8(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),i=n-r;return new Date(+t+i*fL.minutes)}function ac(e,t,r){return Bn(e,-t,r)}function or(e,t,r){switch(e=new Date(e),t){case jo:case qo:case Yo:e=_p(e,0);case oc:e=wL(e,1);case sl:case $o:e=cc(e,0);case sc:e=ol(e,0);case ic:e=uc(e,0);case nc:e=lc(e,0)}return t===qo&&(e=ac(e,Ko(e)%10,"year")),t===jo&&(e=ac(e,Ko(e)%100,"year")),t===sl&&(e=yL(e,0,r)),e}function Lp(e,t,r){switch(e=new Date(e),e=or(e,t,r),t){case jo:case qo:case Yo:case oc:case sl:e=Bn(e,1,t),e=ac(e,1,$o),e.setHours(23,59,59,999);break;case $o:e.setHours(23,59,59,999);break;case sc:case ic:case nc:e=Bn(e,1,t),e=ac(e,1,Ip)}return e}var Oc=Rl(function(e,t){return e===t}),tb=Rl(function(e,t){return e!==t}),hf=Rl(function(e,t){return e>t}),Ic=Rl(function(e,t){return e>=t}),rb=Rl(function(e,t){return e<t}),Sl=Rl(function(e,t){return e<=t});function gL(){return new Date(Math.min.apply(Math,arguments))}function mL(){return new Date(Math.max.apply(Math,arguments))}function vL(e,t,r,n){return n=n||"day",(!t||Ic(e,t,n))&&(!r||Sl(e,r,n))}var lc=Js("Milliseconds"),uc=Js("Seconds"),ol=Js("Minutes"),cc=Js("Hours"),CL=Js("Day"),wL=Js("Date"),_p=Js("Month"),Ko=Js("FullYear");function B8(e,t){return t===void 0?Ko(or(e,qo)):Bn(e,t+10,Yo)}function V8(e,t){return t===void 0?Ko(or(e,jo)):Bn(e,t+100,Yo)}function yL(e,t,r){var n=(CL(e)+7-(r||0))%7;return t===void 0?n:Bn(e,t-n,$o)}function z8(e,t,r,n){var i,s,o;switch(r){case Ip:case nc:case ic:case sc:case $o:case sl:i=t.getTime()-e.getTime();break;case oc:case Yo:case qo:case jo:i=(Ko(t)-Ko(e))*12+_p(t)-_p(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Ip:s=1;break;case nc:s=1e3;break;case ic:s=1e3*60;break;case sc:s=1e3*60*60;break;case $o:s=1e3*60*60*24;break;case sl:s=1e3*60*60*24*7;break;case oc:s=1;break;case Yo:s=12;break;case qo:s=120;break;case jo:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/s,n?o:Math.round(o)}function Js(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var i=new Date(r);return i["set"+e](n),t&&i["get"+e]()!=n&&(e==="Hours"||n>=t&&i.getHours()-r.getHours()<Math.floor(n/t))&&i["set"+e](n+t),i}}function Rl(e){return function(t,r,n){return e(+or(t,n),+or(r,n))}}const TF=Object.freeze(Object.defineProperty({__proto__:null,add:Bn,century:V8,date:wL,day:CL,decade:B8,diff:z8,endOf:Lp,eq:Oc,gt:hf,gte:Ic,hours:cc,inRange:vL,lt:rb,lte:Sl,max:mL,milliseconds:lc,min:gL,minutes:ol,month:_p,neq:tb,seconds:uc,startOf:or,subtract:ac,weekday:yL,year:Ko},Symbol.toStringTag,{value:"Module"}));function U8(e){if(Array.isArray(e))return kS(e)}function SL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zh(e){return U8(e)||SL(e)||eb(e)||$8()}var mv,kF;function RL(){if(kF)return mv;kF=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return mv=e,mv}var vv,AF;function Lc(){if(AF)return vv;AF=1;function e(t,r){return t===r||t!==t&&r!==r}return vv=e,vv}var Cv,OF;function bL(){if(OF)return Cv;OF=1;var e=typeof nh=="object"&&nh&&nh.Object===Object&&nh;return Cv=e,Cv}var wv,IF;function Di(){if(IF)return wv;IF=1;var e=bL(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return wv=r,wv}var yv,LF;function bl(){if(LF)return yv;LF=1;var e=Di(),t=e.Symbol;return yv=t,yv}var Sv,_F;function Y8(){if(_F)return Sv;_F=1;var e=bl(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=r.call(o,i),u=o[i];try{o[i]=void 0;var d=!0}catch{}var p=n.call(o);return d&&(a?o[i]=u:delete o[i]),p}return Sv=s,Sv}var Rv,NF;function q8(){if(NF)return Rv;NF=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Rv=r,Rv}var bv,GF;function Dl(){if(GF)return bv;GF=1;var e=bl(),t=Y8(),r=q8(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?t(a):r(a)}return bv=o,bv}var Dv,HF;function as(){if(HF)return Dv;HF=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Dv=e,Dv}var Ev,WF;function nb(){if(WF)return Ev;WF=1;var e=Dl(),t=as(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==n||u==i||u==r||u==s}return Ev=o,Ev}var Pv,BF;function ib(){if(BF)return Pv;BF=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Pv=t,Pv}var Fv,VF;function _c(){if(VF)return Fv;VF=1;var e=nb(),t=ib();function r(n){return n!=null&&t(n.length)&&!e(n)}return Fv=r,Fv}var xv,zF;function sb(){if(zF)return xv;zF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return xv=r,xv}var Mv,UF;function pf(){if(UF)return Mv;UF=1;var e=Lc(),t=_c(),r=sb(),n=as();function i(s,o,a){if(!n(a))return!1;var u=typeof o;return(u=="number"?t(a)&&r(o,a.length):u=="string"&&o in a)?e(a[o],s):!1}return Mv=i,Mv}var Tv,$F;function j8(){if($F)return Tv;$F=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Tv=t,Tv}var kv,YF;function K8(){if(YF)return kv;YF=1;var e=j8(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return kv=r,kv}var Av,qF;function Zs(){if(qF)return Av;qF=1;function e(t){return t!=null&&typeof t=="object"}return Av=e,Av}var Ov,jF;function Nc(){if(jF)return Ov;jF=1;var e=Dl(),t=Zs(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Ov=n,Ov}var Iv,KF;function Q8(){if(KF)return Iv;KF=1;var e=K8(),t=as(),r=Nc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function u(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=t(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=e(d);var f=s.test(d);return f||o.test(d)?a(d.slice(2),f?2:8):i.test(d)?n:+d}return Iv=u,Iv}var Lv,QF;function DL(){if(QF)return Lv;QF=1;var e=Q8(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return Lv=n,Lv}var _v,XF;function EL(){if(XF)return _v;XF=1;var e=DL();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return _v=t,_v}var Nv,JF;function X8(){if(JF)return Nv;JF=1;var e=RL(),t=pf(),r=EL(),n=Math.ceil,i=Math.max;function s(o,a,u){(u?t(o,a,u):a===void 0)?a=1:a=i(r(a),0);var d=o==null?0:o.length;if(!d||a<1)return[];for(var p=0,f=0,g=Array(n(d/a));p<d;)g[f++]=e(o,p,p+=a);return g}return Nv=s,Nv}var J8=X8();const Z8=Tr(J8);function Gc(e){return e&&e.ownerDocument||document}function e9(e){var t=Gc(e);return t&&t.defaultView||window}function t9(e,t){return e9(e).getComputedStyle(e,t)}var r9=/([A-Z])/g;function n9(e){return e.replace(r9,"-$1").toLowerCase()}var i9=/^ms-/;function Sh(e){return n9(e).replace(i9,"-ms-")}var s9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function o9(e){return!!(e&&s9.test(e))}function _a(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Sh(t))||t9(e).getPropertyValue(Sh(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Sh(i)):o9(i)?n+=i+"("+s+") ":r+=Sh(i)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function dc(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function a9(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function ob(e){return"window"in e&&e.window===e?e:a9(e)&&e.defaultView||!1}function PL(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var s=ob(n);if(i===void 0)return s?s[e]:n[t];s?s.scrollTo(s[e],i):n[t]=i}return r}const FL=PL("pageXOffset"),xL=PL("pageYOffset");function _o(e){var t=Gc(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!dc(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+xL(n)-(n.clientTop||0),left:r.left+FL(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var l9=function(t){return!!t&&"offsetParent"in t};function u9(e){for(var t=Gc(e),r=e&&e.offsetParent;l9(r)&&r.nodeName!=="HTML"&&_a(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var c9=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function ML(e,t){var r={top:0,left:0},n;if(_a(e,"position")==="fixed")n=e.getBoundingClientRect();else{var i=t||u9(e);n=_o(e),c9(i)!=="html"&&(r=_o(i));var s=String(_a(i,"borderTopWidth")||0);r.top+=parseInt(s,10)-xL(i)||0;var o=String(_a(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-FL(i)||0}var a=String(_a(e,"marginTop")||0),u=String(_a(e,"marginLeft")||0);return kt({},n,{top:n.top-r.top-(parseInt(a,10)||0),left:n.left-r.left-(parseInt(u,10)||0)})}const ab=!!(typeof window<"u"&&window.document&&window.document.createElement);var ZF=new Date().getTime();function d9(e){var t=new Date().getTime(),r=Math.max(0,16-(t-ZF)),n=setTimeout(e,r);return ZF=t,n}var h9=["","webkit","moz","o","ms"],AS="clearTimeout",OS=d9,ex=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ab&&h9.some(function(e){var t=ex(e,"request");return t in window&&(AS=ex(e,"cancel"),OS=function(n){return window[t](n)}),!!OS});var tx=function(t){typeof window[AS]=="function"&&window[AS](t)},TL=OS,Gv;function p9(e,t){if(!Gv){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Gv=function(s,o){return n.call(s,o)}}return Gv(e,t)}var f9=Function.prototype.bind.call(Function.prototype.call,[].slice);function g9(e,t){return f9(e.querySelectorAll(t))}var IS=!1,LS=!1;try{var Hv={get passive(){return IS=!0},get once(){return LS=IS=!0}};ab&&(window.addEventListener("test",Hv,Hv),window.removeEventListener("test",Hv,!0))}catch{}function m9(e,t,r,n){if(n&&typeof n!="boolean"&&!LS){var i=n.once,s=n.capture,o=r;!LS&&i&&(o=r.__once||function a(u){this.removeEventListener(t,a,s),r.call(this,u)},r.__once=o),e.addEventListener(t,o,IS?n:s)}e.addEventListener(t,r,n)}function v9(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e},[e]),t}function rx(e){const t=v9(e);return D.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function nx(){return D.useState(null)}function C9(){const e=D.useRef(!0),t=D.useRef(()=>e.current);return D.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function w9(e){const t=C9();return[e[0],D.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Wr="top",Sn="bottom",Rn="right",Br="left",lb="auto",Hc=[Wr,Sn,Rn,Br],al="start",hc="end",y9="clippingParents",kL="viewport",bu="popper",S9="reference",ix=Hc.reduce(function(e,t){return e.concat([t+"-"+al,t+"-"+hc])},[]),ub=[].concat(Hc,[lb]).reduce(function(e,t){return e.concat([t,t+"-"+al,t+"-"+hc])},[]),R9="beforeRead",b9="read",D9="afterRead",E9="beforeMain",P9="main",F9="afterMain",x9="beforeWrite",M9="write",T9="afterWrite",k9=[R9,b9,D9,E9,P9,F9,x9,M9,T9];function di(e){return e.split("-")[0]}function rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qo(e){var t=rn(e).Element;return e instanceof t||e instanceof Element}function hi(e){var t=rn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cb(e){if(typeof ShadowRoot>"u")return!1;var t=rn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var No=Math.max,Np=Math.min,ll=Math.round;function _S(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function AL(){return!/^((?!chrome|android).)*safari/i.test(_S())}function ul(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,s=1;t&&hi(e)&&(i=e.offsetWidth>0&&ll(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ll(n.height)/e.offsetHeight||1);var o=Qo(e)?rn(e):window,a=o.visualViewport,u=!AL()&&r,d=(n.left+(u&&a?a.offsetLeft:0))/i,p=(n.top+(u&&a?a.offsetTop:0))/s,f=n.width/i,g=n.height/s;return{width:f,height:g,top:p,right:d+f,bottom:p+g,left:d,x:d,y:p}}function db(e){var t=ul(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function OL(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&cb(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function js(e){return e?(e.nodeName||"").toLowerCase():null}function ns(e){return rn(e).getComputedStyle(e)}function A9(e){return["table","td","th"].indexOf(js(e))>=0}function eo(e){return((Qo(e)?e.ownerDocument:e.document)||window.document).documentElement}function ff(e){return js(e)==="html"?e:e.assignedSlot||e.parentNode||(cb(e)?e.host:null)||eo(e)}function sx(e){return!hi(e)||ns(e).position==="fixed"?null:e.offsetParent}function O9(e){var t=/firefox/i.test(_S()),r=/Trident/i.test(_S());if(r&&hi(e)){var n=ns(e);if(n.position==="fixed")return null}var i=ff(e);for(cb(i)&&(i=i.host);hi(i)&&["html","body"].indexOf(js(i))<0;){var s=ns(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Wc(e){for(var t=rn(e),r=sx(e);r&&A9(r)&&ns(r).position==="static";)r=sx(r);return r&&(js(r)==="html"||js(r)==="body"&&ns(r).position==="static")?t:r||O9(e)||t}function hb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Bu(e,t,r){return No(e,Np(t,r))}function I9(e,t,r){var n=Bu(e,t,r);return n>r?r:n}function IL(){return{top:0,right:0,bottom:0,left:0}}function LL(e){return Object.assign({},IL(),e)}function _L(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var L9=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,LL(typeof t!="number"?t:_L(t,Hc))};function _9(e){var t,r=e.state,n=e.name,i=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=di(r.placement),u=hb(a),d=[Br,Rn].indexOf(a)>=0,p=d?"height":"width";if(!(!s||!o)){var f=L9(i.padding,r),g=db(s),v=u==="y"?Wr:Br,w=u==="y"?Sn:Rn,y=r.rects.reference[p]+r.rects.reference[u]-o[u]-r.rects.popper[p],S=o[u]-r.rects.reference[u],b=Wc(s),E=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,P=y/2-S/2,F=f[v],k=E-g[p]-f[w],A=E/2-g[p]/2+P,T=Bu(F,A,k),I=u;r.modifiersData[n]=(t={},t[I]=T,t.centerOffset=T-A,t)}}function N9(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||OL(t.elements.popper,i)&&(t.elements.arrow=i))}const G9={name:"arrow",enabled:!0,phase:"main",fn:_9,effect:N9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cl(e){return e.split("-")[1]}var H9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W9(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ll(r*i)/i||0,y:ll(n*i)/i||0}}function ox(e){var t,r=e.popper,n=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,u=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,f=e.isFixed,g=o.x,v=g===void 0?0:g,w=o.y,y=w===void 0?0:w,S=typeof p=="function"?p({x:v,y}):{x:v,y};v=S.x,y=S.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),P=Br,F=Wr,k=window;if(d){var A=Wc(r),T="clientHeight",I="clientWidth";if(A===rn(r)&&(A=eo(r),ns(A).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),A=A,i===Wr||(i===Br||i===Rn)&&s===hc){F=Sn;var L=f&&A===k&&k.visualViewport?k.visualViewport.height:A[T];y-=L-n.height,y*=u?1:-1}if(i===Br||(i===Wr||i===Sn)&&s===hc){P=Rn;var H=f&&A===k&&k.visualViewport?k.visualViewport.width:A[I];v-=H-n.width,v*=u?1:-1}}var G=Object.assign({position:a},d&&H9),V=p===!0?W9({x:v,y},rn(r)):{x:v,y};if(v=V.x,y=V.y,u){var $;return Object.assign({},G,($={},$[F]=E?"0":"",$[P]=b?"0":"",$.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",$))}return Object.assign({},G,(t={},t[F]=E?y+"px":"",t[P]=b?v+"px":"",t.transform="",t))}function B9(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,u=a===void 0?!0:a,d={placement:di(t.placement),variation:cl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ox(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ox(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const V9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B9,data:{}};var Rh={passive:!0};function z9(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,u=rn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",r.update,Rh)}),a&&u.addEventListener("resize",r.update,Rh),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",r.update,Rh)}),a&&u.removeEventListener("resize",r.update,Rh)}}const U9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:z9,data:{}};var $9={left:"right",right:"left",bottom:"top",top:"bottom"};function Uh(e){return e.replace(/left|right|bottom|top/g,function(t){return $9[t]})}var Y9={start:"end",end:"start"};function ax(e){return e.replace(/start|end/g,function(t){return Y9[t]})}function pb(e){var t=rn(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function fb(e){return ul(eo(e)).left+pb(e).scrollLeft}function q9(e,t){var r=rn(e),n=eo(e),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;var d=AL();(d||!d&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a+fb(e),y:u}}function j9(e){var t,r=eo(e),n=pb(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=No(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=No(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+fb(e),u=-n.scrollTop;return ns(i||r).direction==="rtl"&&(a+=No(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function gb(e){var t=ns(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function NL(e){return["html","body","#document"].indexOf(js(e))>=0?e.ownerDocument.body:hi(e)&&gb(e)?e:NL(ff(e))}function Vu(e,t){var r;t===void 0&&(t=[]);var n=NL(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),s=rn(n),o=i?[s].concat(s.visualViewport||[],gb(n)?n:[]):n,a=t.concat(o);return i?a:a.concat(Vu(ff(o)))}function NS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function K9(e,t){var r=ul(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function lx(e,t,r){return t===kL?NS(q9(e,r)):Qo(t)?K9(t,r):NS(j9(eo(e)))}function Q9(e){var t=Vu(ff(e)),r=["absolute","fixed"].indexOf(ns(e).position)>=0,n=r&&hi(e)?Wc(e):e;return Qo(n)?t.filter(function(i){return Qo(i)&&OL(i,n)&&js(i)!=="body"}):[]}function X9(e,t,r,n){var i=t==="clippingParents"?Q9(e):[].concat(t),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(u,d){var p=lx(e,d,n);return u.top=No(p.top,u.top),u.right=Np(p.right,u.right),u.bottom=Np(p.bottom,u.bottom),u.left=No(p.left,u.left),u},lx(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GL(e){var t=e.reference,r=e.element,n=e.placement,i=n?di(n):null,s=n?cl(n):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,u;switch(i){case Wr:u={x:o,y:t.y-r.height};break;case Sn:u={x:o,y:t.y+t.height};break;case Rn:u={x:t.x+t.width,y:a};break;case Br:u={x:t.x-r.width,y:a};break;default:u={x:t.x,y:t.y}}var d=i?hb(i):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case al:u[d]=u[d]-(t[p]/2-r[p]/2);break;case hc:u[d]=u[d]+(t[p]/2-r[p]/2);break}}return u}function pc(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,s=r.strategy,o=s===void 0?e.strategy:s,a=r.boundary,u=a===void 0?y9:a,d=r.rootBoundary,p=d===void 0?kL:d,f=r.elementContext,g=f===void 0?bu:f,v=r.altBoundary,w=v===void 0?!1:v,y=r.padding,S=y===void 0?0:y,b=LL(typeof S!="number"?S:_L(S,Hc)),E=g===bu?S9:bu,P=e.rects.popper,F=e.elements[w?E:g],k=X9(Qo(F)?F:F.contextElement||eo(e.elements.popper),u,p,o),A=ul(e.elements.reference),T=GL({reference:A,element:P,strategy:"absolute",placement:i}),I=NS(Object.assign({},P,T)),L=g===bu?I:A,H={top:k.top-L.top+b.top,bottom:L.bottom-k.bottom+b.bottom,left:k.left-L.left+b.left,right:L.right-k.right+b.right},G=e.modifiersData.offset;if(g===bu&&G){var V=G[i];Object.keys(H).forEach(function($){var te=[Rn,Sn].indexOf($)>=0?1:-1,se=[Wr,Sn].indexOf($)>=0?"y":"x";H[$]+=V[se]*te})}return H}function J9(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,u=r.allowedAutoPlacements,d=u===void 0?ub:u,p=cl(n),f=p?a?ix:ix.filter(function(w){return cl(w)===p}):Hc,g=f.filter(function(w){return d.indexOf(w)>=0});g.length===0&&(g=f);var v=g.reduce(function(w,y){return w[y]=pc(e,{placement:y,boundary:i,rootBoundary:s,padding:o})[di(y)],w},{});return Object.keys(v).sort(function(w,y){return v[w]-v[y]})}function Z9(e){if(di(e)===lb)return[];var t=Uh(e);return[ax(e),t,ax(t)]}function e7(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,u=r.fallbackPlacements,d=r.padding,p=r.boundary,f=r.rootBoundary,g=r.altBoundary,v=r.flipVariations,w=v===void 0?!0:v,y=r.allowedAutoPlacements,S=t.options.placement,b=di(S),E=b===S,P=u||(E||!w?[Uh(S)]:Z9(S)),F=[S].concat(P).reduce(function(K,ie){return K.concat(di(ie)===lb?J9(t,{placement:ie,boundary:p,rootBoundary:f,padding:d,flipVariations:w,allowedAutoPlacements:y}):ie)},[]),k=t.rects.reference,A=t.rects.popper,T=new Map,I=!0,L=F[0],H=0;H<F.length;H++){var G=F[H],V=di(G),$=cl(G)===al,te=[Wr,Sn].indexOf(V)>=0,se=te?"width":"height",X=pc(t,{placement:G,boundary:p,rootBoundary:f,altBoundary:g,padding:d}),Z=te?$?Rn:Br:$?Sn:Wr;k[se]>A[se]&&(Z=Uh(Z));var z=Uh(Z),ne=[];if(s&&ne.push(X[V]<=0),a&&ne.push(X[Z]<=0,X[z]<=0),ne.every(function(K){return K})){L=G,I=!1;break}T.set(G,ne)}if(I)for(var re=w?3:1,O=function(ie){var de=F.find(function(Re){var ye=T.get(Re);if(ye)return ye.slice(0,ie).every(function(be){return be})});if(de)return L=de,"break"},N=re;N>0;N--){var J=O(N);if(J==="break")break}t.placement!==L&&(t.modifiersData[n]._skip=!0,t.placement=L,t.reset=!0)}}const t7={name:"flip",enabled:!0,phase:"main",fn:e7,requiresIfExists:["offset"],data:{_skip:!1}};function ux(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function cx(e){return[Wr,Rn,Sn,Br].some(function(t){return e[t]>=0})}function r7(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=pc(t,{elementContext:"reference"}),a=pc(t,{altBoundary:!0}),u=ux(o,n),d=ux(a,i,s),p=cx(u),f=cx(d);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":f})}const n7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:r7};function i7(e,t,r){var n=di(e),i=[Br,Wr].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Br,Rn].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function s7(e){var t=e.state,r=e.options,n=e.name,i=r.offset,s=i===void 0?[0,0]:i,o=ub.reduce(function(p,f){return p[f]=i7(f,t.rects,s),p},{}),a=o[t.placement],u=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[n]=o}const o7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s7};function a7(e){var t=e.state,r=e.name;t.modifiersData[r]=GL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const l7={name:"popperOffsets",enabled:!0,phase:"read",fn:a7,data:{}};function u7(e){return e==="x"?"y":"x"}function c7(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,f=r.padding,g=r.tether,v=g===void 0?!0:g,w=r.tetherOffset,y=w===void 0?0:w,S=pc(t,{boundary:u,rootBoundary:d,padding:f,altBoundary:p}),b=di(t.placement),E=cl(t.placement),P=!E,F=hb(b),k=u7(F),A=t.modifiersData.popperOffsets,T=t.rects.reference,I=t.rects.popper,L=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,H=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),G=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(A){if(s){var $,te=F==="y"?Wr:Br,se=F==="y"?Sn:Rn,X=F==="y"?"height":"width",Z=A[F],z=Z+S[te],ne=Z-S[se],re=v?-I[X]/2:0,O=E===al?T[X]:I[X],N=E===al?-I[X]:-T[X],J=t.elements.arrow,K=v&&J?db(J):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:IL(),de=ie[te],Re=ie[se],ye=Bu(0,T[X],K[X]),be=P?T[X]/2-re-ye-de-H.mainAxis:O-ye-de-H.mainAxis,Le=P?-T[X]/2+re+ye+Re+H.mainAxis:N+ye+Re+H.mainAxis,et=t.elements.arrow&&Wc(t.elements.arrow),Ge=et?F==="y"?et.clientTop||0:et.clientLeft||0:0,je=($=G==null?void 0:G[F])!=null?$:0,ct=Z+be-je-Ge,Me=Z+Le-je,Ut=Bu(v?Np(z,ct):z,Z,v?No(ne,Me):ne);A[F]=Ut,V[F]=Ut-Z}if(a){var Ne,zr=F==="x"?Wr:Br,Xt=F==="x"?Sn:Rn,dt=A[k],_t=k==="y"?"height":"width",$t=dt+S[zr],ht=dt-S[Xt],Ur=[Wr,Br].indexOf(b)!==-1,$r=(Ne=G==null?void 0:G[k])!=null?Ne:0,rt=Ur?$t:dt-T[_t]-I[_t]-$r+H.altAxis,bt=Ur?dt+T[_t]+I[_t]-$r-H.altAxis:ht,ar=v&&Ur?I9(rt,dt,bt):Bu(v?rt:$t,dt,v?bt:ht);A[k]=ar,V[k]=ar-dt}t.modifiersData[n]=V}}const d7={name:"preventOverflow",enabled:!0,phase:"main",fn:c7,requiresIfExists:["offset"]};function h7(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function p7(e){return e===rn(e)||!hi(e)?pb(e):h7(e)}function f7(e){var t=e.getBoundingClientRect(),r=ll(t.width)/e.offsetWidth||1,n=ll(t.height)/e.offsetHeight||1;return r!==1||n!==1}function g7(e,t,r){r===void 0&&(r=!1);var n=hi(t),i=hi(t)&&f7(t),s=eo(t),o=ul(e,i,r),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((js(t)!=="body"||gb(s))&&(a=p7(t)),hi(t)?(u=ul(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=fb(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function m7(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var u=t.get(a);u&&i(u)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||i(s)}),n}function v7(e){var t=m7(e);return k9.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function C7(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function w7(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var dx={placement:"bottom",modifiers:[],strategy:"absolute"};function hx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function y7(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,s=i===void 0?dx:i;return function(a,u,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},dx,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},f=[],g=!1,v={state:p,setOptions:function(b){var E=typeof b=="function"?b(p.options):b;y(),p.options=Object.assign({},s,p.options,E),p.scrollParents={reference:Qo(a)?Vu(a):a.contextElement?Vu(a.contextElement):[],popper:Vu(u)};var P=v7(w7([].concat(n,p.options.modifiers)));return p.orderedModifiers=P.filter(function(F){return F.enabled}),w(),v.update()},forceUpdate:function(){if(!g){var b=p.elements,E=b.reference,P=b.popper;if(hx(E,P)){p.rects={reference:g7(E,Wc(P),p.options.strategy==="fixed"),popper:db(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(H){return p.modifiersData[H.name]=Object.assign({},H.data)});for(var F=0;F<p.orderedModifiers.length;F++){if(p.reset===!0){p.reset=!1,F=-1;continue}var k=p.orderedModifiers[F],A=k.fn,T=k.options,I=T===void 0?{}:T,L=k.name;typeof A=="function"&&(p=A({state:p,options:I,name:L,instance:v})||p)}}}},update:C7(function(){return new Promise(function(S){v.forceUpdate(),S(p)})}),destroy:function(){y(),g=!0}};if(!hx(a,u))return v;v.setOptions(d).then(function(S){!g&&d.onFirstUpdate&&d.onFirstUpdate(S)});function w(){p.orderedModifiers.forEach(function(S){var b=S.name,E=S.options,P=E===void 0?{}:E,F=S.effect;if(typeof F=="function"){var k=F({state:p,name:b,instance:v,options:P}),A=function(){};f.push(k||A)}})}function y(){f.forEach(function(S){return S()}),f=[]}return v}}var S7=y7({defaultModifiers:[n7,l7,V9,U9,o7,t7,d7,G9]}),px=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},R7={name:"applyStyles",enabled:!1},b7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,i=n.reference,s=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,i=n.elements,s=i.popper,o=i.reference,a=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var u=o.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",u?u+","+s.id:s.id)}}},D7=[];function E7(e,t,r){var n=r===void 0?{}:r,i=n.enabled,s=i===void 0?!0:i,o=n.placement,a=o===void 0?"bottom":o,u=n.strategy,d=u===void 0?"absolute":u,p=n.modifiers,f=p===void 0?D7:p,g=df(n,["enabled","placement","strategy","modifiers"]),v=D.useRef(),w=D.useCallback(function(){var F;(F=v.current)==null||F.update()},[]),y=D.useCallback(function(){var F;(F=v.current)==null||F.forceUpdate()},[]),S=w9(D.useState({placement:a,update:w,forceUpdate:y,attributes:{},styles:{popper:px(d),arrow:{}}})),b=S[0],E=S[1],P=D.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(k){var A=k.state,T={},I={};Object.keys(A.elements).forEach(function(L){T[L]=A.styles[L],I[L]=A.attributes[L]}),E({state:A,styles:T,attributes:I,update:w,forceUpdate:y,placement:A.placement})}}},[w,y,E]);return D.useEffect(function(){!v.current||!s||v.current.setOptions({placement:a,strategy:d,modifiers:[].concat(f,[P,R7])})},[d,a,P,s]),D.useEffect(function(){if(!(!s||e==null||t==null))return v.current=S7(e,t,kt({},g,{placement:a,strategy:d,modifiers:[].concat(f,[b7,P])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,E(function(F){return kt({},F,{attributes:{},styles:{popper:px(d)}})}))}},[s,e,t]),b}function P7(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function ku(e,t,r,n){return m9(e,t,r,n),function(){P7(e,t,r,n)}}var Wv,fx;function F7(){if(fx)return Wv;fx=1;var e=function(){};return Wv=e,Wv}var x7=F7();const M7=Tr(x7);function T7(e){return e&&"setState"in e?qp.findDOMNode(e):e??null}const k7=function(e){return Gc(T7(e))};var A7=27,gx=function(){};function O7(e){return e.button===0}function I7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var mx=function(t){return t&&("current"in t?t.current:t)};function L7(e,t,r){var n=r===void 0?{}:r,i=n.disabled,s=n.clickTrigger,o=s===void 0?"click":s,a=D.useRef(!1),u=t||gx,d=D.useCallback(function(g){var v,w=mx(e);M7(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!w||I7(g)||!O7(g)||!!dc(w,(v=g.composedPath==null?void 0:g.composedPath()[0])!=null?v:g.target)},[e]),p=rx(function(g){a.current||u(g)}),f=rx(function(g){g.keyCode===A7&&u(g)});D.useEffect(function(){if(!(i||e==null)){var g=window.event,v=k7(mx(e)),w=ku(v,o,d,!0),y=ku(v,o,function(E){if(E===g){g=void 0;return}p(E)}),S=ku(v,"keyup",function(E){if(E===g){g=void 0;return}f(E)}),b=[];return"ontouchstart"in v.documentElement&&(b=[].slice.call(v.body.children).map(function(E){return ku(E,"mousemove",gx)})),function(){w(),y(),S(),b.forEach(function(E){return E()})}}},[e,i,o,d,p,f])}function _7(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function N7(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function G7(e){var t,r,n,i,s=e.enabled,o=e.enableEvents,a=e.placement,u=e.flip,d=e.offset,p=e.fixed,f=e.containerPadding,g=e.arrowElement,v=e.popperConfig,w=v===void 0?{}:v,y=_7(w.modifiers);return kt({},w,{placement:a,enabled:s,strategy:p?"fixed":w.strategy,modifiers:N7(kt({},y,{eventListeners:{enabled:o},preventOverflow:kt({},y.preventOverflow,{options:f?kt({padding:f},(t=y.preventOverflow)==null?void 0:t.options):(r=y.preventOverflow)==null?void 0:r.options}),offset:{options:kt({offset:d},(n=y.offset)==null?void 0:n.options)},arrow:kt({},y.arrow,{enabled:!!g,options:kt({},(i=y.arrow)==null?void 0:i.options,{element:g})}),flip:kt({enabled:!!u},y.flip)}))})}function H7(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function W7(e,t){e.classList?e.classList.add(t):H7(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function vx(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function B7(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=vx(e.className,t):e.setAttribute("class",vx(e.className&&e.className.baseVal||"",t))}var bh;function mb(e){if((!bh&&bh!==0||e)&&ab){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),bh=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return bh}var Bv=function(t){var r;return typeof document>"u"?null:t==null?Gc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Cx(e,t){var r=D.useState(function(){return Bv(e)}),n=r[0],i=r[1];if(!n){var s=Bv(e);s&&i(s)}return D.useEffect(function(){},[t,n]),D.useEffect(function(){var o=Bv(e);o!==n&&i(o)},[e,n]),n}const wx=e=>!e||typeof e=="function"?e:t=>{e.current=t};function V7(e,t){const r=wx(e),n=wx(t);return i=>{r&&r(i),n&&n(i)}}function z7(e,t){return D.useMemo(()=>V7(e,t),[e,t])}var vb=x.forwardRef(function(e,t){var r=e.flip,n=e.offset,i=e.placement,s=e.containerPadding,o=s===void 0?5:s,a=e.popperConfig,u=a===void 0?{}:a,d=e.transition,p=nx(),f=p[0],g=p[1],v=nx(),w=v[0],y=v[1],S=z7(g,t),b=Cx(e.container),E=Cx(e.target),P=D.useState(!e.show),F=P[0],k=P[1],A=E7(E,f,G7({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:w,popperConfig:u})),T=A.styles,I=A.attributes,L=df(A,["styles","attributes"]);e.show?F&&k(!1):!e.transition&&!F&&k(!0);var H=function(){k(!0),e.onExited&&e.onExited.apply(e,arguments)},G=e.show||d&&!F;if(L7(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!G)return null;var V=e.children(kt({},L,{show:!!e.show,props:kt({},I.popper,{style:T.popper,ref:S}),arrowProps:kt({},I.arrow,{style:T.arrow,ref:y})}));if(d){var $=e.onExit,te=e.onExiting,se=e.onEnter,X=e.onEntering,Z=e.onEntered;V=x.createElement(d,{in:e.show,appear:!0,onExit:$,onExiting:te,onExited:H,onEnter:se,onEntering:X,onEntered:Z},V)}return b?qp.createPortal(V,b):null});vb.displayName="Overlay";vb.propTypes={show:ce.bool,placement:ce.oneOf(ub),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(t.rootClose){var s;return(s=ce.func).isRequired.apply(s,[t].concat(n))}return ce.func.apply(ce,[t].concat(n))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};var Vv,yx;function U7(){if(yx)return Vv;yx=1;function e(){this.__data__=[],this.size=0}return Vv=e,Vv}var zv,Sx;function gf(){if(Sx)return zv;Sx=1;var e=Lc();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return zv=t,zv}var Uv,Rx;function $7(){if(Rx)return Uv;Rx=1;var e=gf(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return Uv=n,Uv}var $v,bx;function Y7(){if(bx)return $v;bx=1;var e=gf();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return $v=t,$v}var Yv,Dx;function q7(){if(Dx)return Yv;Dx=1;var e=gf();function t(r){return e(this.__data__,r)>-1}return Yv=t,Yv}var qv,Ex;function j7(){if(Ex)return qv;Ex=1;var e=gf();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return qv=t,qv}var jv,Px;function mf(){if(Px)return jv;Px=1;var e=U7(),t=$7(),r=Y7(),n=q7(),i=j7();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,jv=s,jv}var Kv,Fx;function K7(){if(Fx)return Kv;Fx=1;var e=mf();function t(){this.__data__=new e,this.size=0}return Kv=t,Kv}var Qv,xx;function Q7(){if(xx)return Qv;xx=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Qv=e,Qv}var Xv,Mx;function X7(){if(Mx)return Xv;Mx=1;function e(t){return this.__data__.get(t)}return Xv=e,Xv}var Jv,Tx;function J7(){if(Tx)return Jv;Tx=1;function e(t){return this.__data__.has(t)}return Jv=e,Jv}var Zv,kx;function Z7(){if(kx)return Zv;kx=1;var e=Di(),t=e["__core-js_shared__"];return Zv=t,Zv}var eC,Ax;function eX(){if(Ax)return eC;Ax=1;var e=Z7(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return eC=r,eC}var tC,Ox;function HL(){if(Ox)return tC;Ox=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return tC=r,tC}var rC,Ix;function tX(){if(Ix)return rC;Ix=1;var e=nb(),t=eX(),r=as(),n=HL(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,d=a.hasOwnProperty,p=RegExp("^"+u.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!r(g)||t(g))return!1;var v=e(g)?p:s;return v.test(n(g))}return rC=f,rC}var nC,Lx;function rX(){if(Lx)return nC;Lx=1;function e(t,r){return t==null?void 0:t[r]}return nC=e,nC}var iC,_x;function ia(){if(_x)return iC;_x=1;var e=tX(),t=rX();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return iC=r,iC}var sC,Nx;function Cb(){if(Nx)return sC;Nx=1;var e=ia(),t=Di(),r=e(t,"Map");return sC=r,sC}var oC,Gx;function vf(){if(Gx)return oC;Gx=1;var e=ia(),t=e(Object,"create");return oC=t,oC}var aC,Hx;function nX(){if(Hx)return aC;Hx=1;var e=vf();function t(){this.__data__=e?e(null):{},this.size=0}return aC=t,aC}var lC,Wx;function iX(){if(Wx)return lC;Wx=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return lC=e,lC}var uC,Bx;function sX(){if(Bx)return uC;Bx=1;var e=vf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return n.call(o,s)?o[s]:void 0}return uC=i,uC}var cC,Vx;function oX(){if(Vx)return cC;Vx=1;var e=vf(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return cC=n,cC}var dC,zx;function aX(){if(zx)return dC;zx=1;var e=vf(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return dC=r,dC}var hC,Ux;function lX(){if(Ux)return hC;Ux=1;var e=nX(),t=iX(),r=sX(),n=oX(),i=aX();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,hC=s,hC}var pC,$x;function uX(){if($x)return pC;$x=1;var e=lX(),t=mf(),r=Cb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return pC=n,pC}var fC,Yx;function cX(){if(Yx)return fC;Yx=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return fC=e,fC}var gC,qx;function Cf(){if(qx)return gC;qx=1;var e=cX();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return gC=t,gC}var mC,jx;function dX(){if(jx)return mC;jx=1;var e=Cf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return mC=t,mC}var vC,Kx;function hX(){if(Kx)return vC;Kx=1;var e=Cf();function t(r){return e(this,r).get(r)}return vC=t,vC}var CC,Qx;function pX(){if(Qx)return CC;Qx=1;var e=Cf();function t(r){return e(this,r).has(r)}return CC=t,CC}var wC,Xx;function fX(){if(Xx)return wC;Xx=1;var e=Cf();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return wC=t,wC}var yC,Jx;function wb(){if(Jx)return yC;Jx=1;var e=uX(),t=dX(),r=hX(),n=pX(),i=fX();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,yC=s,yC}var SC,Zx;function gX(){if(Zx)return SC;Zx=1;var e=mf(),t=Cb(),r=wb(),n=200;function i(s,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(u)}return a.set(s,o),this.size=a.size,this}return SC=i,SC}var RC,eM;function yb(){if(eM)return RC;eM=1;var e=mf(),t=K7(),r=Q7(),n=X7(),i=J7(),s=gX();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,RC=o,RC}var bC,tM;function mX(){if(tM)return bC;tM=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return bC=t,bC}var DC,rM;function vX(){if(rM)return DC;rM=1;function e(t){return this.__data__.has(t)}return DC=e,DC}var EC,nM;function CX(){if(nM)return EC;nM=1;var e=wb(),t=mX(),r=vX();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,EC=n,EC}var PC,iM;function wX(){if(iM)return PC;iM=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return PC=e,PC}var FC,sM;function yX(){if(sM)return FC;sM=1;function e(t,r){return t.has(r)}return FC=e,FC}var xC,oM;function WL(){if(oM)return xC;oM=1;var e=CX(),t=wX(),r=yX(),n=1,i=2;function s(o,a,u,d,p,f){var g=u&n,v=o.length,w=a.length;if(v!=w&&!(g&&w>v))return!1;var y=f.get(o),S=f.get(a);if(y&&S)return y==a&&S==o;var b=-1,E=!0,P=u&i?new e:void 0;for(f.set(o,a),f.set(a,o);++b<v;){var F=o[b],k=a[b];if(d)var A=g?d(k,F,b,a,o,f):d(F,k,b,o,a,f);if(A!==void 0){if(A)continue;E=!1;break}if(P){if(!t(a,function(T,I){if(!r(P,I)&&(F===T||p(F,T,u,d,f)))return P.push(I)})){E=!1;break}}else if(!(F===k||p(F,k,u,d,f))){E=!1;break}}return f.delete(o),f.delete(a),E}return xC=s,xC}var MC,aM;function BL(){if(aM)return MC;aM=1;var e=Di(),t=e.Uint8Array;return MC=t,MC}var TC,lM;function SX(){if(lM)return TC;lM=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return TC=e,TC}var kC,uM;function RX(){if(uM)return kC;uM=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return kC=e,kC}var AC,cM;function bX(){if(cM)return AC;cM=1;var e=bl(),t=BL(),r=Lc(),n=WL(),i=SX(),s=RX(),o=1,a=2,u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",y="[object String]",S="[object Symbol]",b="[object ArrayBuffer]",E="[object DataView]",P=e?e.prototype:void 0,F=P?P.valueOf:void 0;function k(A,T,I,L,H,G,V){switch(I){case E:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case b:return!(A.byteLength!=T.byteLength||!G(new t(A),new t(T)));case u:case d:case g:return r(+A,+T);case p:return A.name==T.name&&A.message==T.message;case v:case y:return A==T+"";case f:var $=i;case w:var te=L&o;if($||($=s),A.size!=T.size&&!te)return!1;var se=V.get(A);if(se)return se==T;L|=a,V.set(A,T);var X=n($(A),$(T),L,H,G,V);return V.delete(A),X;case S:if(F)return F.call(A)==F.call(T)}return!1}return AC=k,AC}var OC,dM;function Sb(){if(dM)return OC;dM=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return OC=e,OC}var IC,hM;function bn(){if(hM)return IC;hM=1;var e=Array.isArray;return IC=e,IC}var LC,pM;function VL(){if(pM)return LC;pM=1;var e=Sb(),t=bn();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return LC=r,LC}var _C,fM;function DX(){if(fM)return _C;fM=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var a=t[n];r(a,n,t)&&(o[s++]=a)}return o}return _C=e,_C}var NC,gM;function zL(){if(gM)return NC;gM=1;function e(){return[]}return NC=e,NC}var GC,mM;function Rb(){if(mM)return GC;mM=1;var e=DX(),t=zL(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return n.call(o,a)}))}:t;return GC=s,GC}var HC,vM;function EX(){if(vM)return HC;vM=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return HC=e,HC}var WC,CM;function PX(){if(CM)return WC;CM=1;var e=Dl(),t=Zs(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return WC=n,WC}var BC,wM;function bb(){if(wM)return BC;wM=1;var e=PX(),t=Zs(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return BC=s,BC}var Au={exports:{}},VC,yM;function FX(){if(yM)return VC;yM=1;function e(){return!1}return VC=e,VC}Au.exports;var SM;function wf(){return SM||(SM=1,function(e,t){var r=Di(),n=FX(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,u=a?a.isBuffer:void 0,d=u||n;e.exports=d}(Au,Au.exports)),Au.exports}var zC,RM;function xX(){if(RM)return zC;RM=1;var e=Dl(),t=ib(),r=Zs(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object WeakMap]",S="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",F="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",H="[object Uint32Array]",G={};G[E]=G[P]=G[F]=G[k]=G[A]=G[T]=G[I]=G[L]=G[H]=!0,G[n]=G[i]=G[S]=G[s]=G[b]=G[o]=G[a]=G[u]=G[d]=G[p]=G[f]=G[g]=G[v]=G[w]=G[y]=!1;function V($){return r($)&&t($.length)&&!!G[e($)]}return zC=V,zC}var UC,bM;function yf(){if(bM)return UC;bM=1;function e(t){return function(r){return t(r)}}return UC=e,UC}var Ou={exports:{}};Ou.exports;var DM;function Db(){return DM||(DM=1,function(e,t){var r=bL(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Ou,Ou.exports)),Ou.exports}var $C,EM;function Eb(){if(EM)return $C;EM=1;var e=xX(),t=yf(),r=Db(),n=r&&r.isTypedArray,i=n?t(n):e;return $C=i,$C}var YC,PM;function UL(){if(PM)return YC;PM=1;var e=EX(),t=bb(),r=bn(),n=wf(),i=sb(),s=Eb(),o=Object.prototype,a=o.hasOwnProperty;function u(d,p){var f=r(d),g=!f&&t(d),v=!f&&!g&&n(d),w=!f&&!g&&!v&&s(d),y=f||g||v||w,S=y?e(d.length,String):[],b=S.length;for(var E in d)(p||a.call(d,E))&&!(y&&(E=="length"||v&&(E=="offset"||E=="parent")||w&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,b)))&&S.push(E);return S}return YC=u,YC}var qC,FM;function Pb(){if(FM)return qC;FM=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return qC=t,qC}var jC,xM;function $L(){if(xM)return jC;xM=1;function e(t,r){return function(n){return t(r(n))}}return jC=e,jC}var KC,MM;function MX(){if(MM)return KC;MM=1;var e=$L(),t=e(Object.keys,Object);return KC=t,KC}var QC,TM;function TX(){if(TM)return QC;TM=1;var e=Pb(),t=MX(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return QC=i,QC}var XC,kM;function Bc(){if(kM)return XC;kM=1;var e=UL(),t=TX(),r=_c();function n(i){return r(i)?e(i):t(i)}return XC=n,XC}var JC,AM;function YL(){if(AM)return JC;AM=1;var e=VL(),t=Rb(),r=Bc();function n(i){return e(i,r,t)}return JC=n,JC}var ZC,OM;function kX(){if(OM)return ZC;OM=1;var e=YL(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,u,d,p){var f=a&t,g=e(s),v=g.length,w=e(o),y=w.length;if(v!=y&&!f)return!1;for(var S=v;S--;){var b=g[S];if(!(f?b in o:n.call(o,b)))return!1}var E=p.get(s),P=p.get(o);if(E&&P)return E==o&&P==s;var F=!0;p.set(s,o),p.set(o,s);for(var k=f;++S<v;){b=g[S];var A=s[b],T=o[b];if(u)var I=f?u(T,A,b,o,s,p):u(A,T,b,s,o,p);if(!(I===void 0?A===T||d(A,T,a,u,p):I)){F=!1;break}k||(k=b=="constructor")}if(F&&!k){var L=s.constructor,H=o.constructor;L!=H&&"constructor"in s&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof H=="function"&&H instanceof H)&&(F=!1)}return p.delete(s),p.delete(o),F}return ZC=i,ZC}var ew,IM;function AX(){if(IM)return ew;IM=1;var e=ia(),t=Di(),r=e(t,"DataView");return ew=r,ew}var tw,LM;function OX(){if(LM)return tw;LM=1;var e=ia(),t=Di(),r=e(t,"Promise");return tw=r,tw}var rw,_M;function IX(){if(_M)return rw;_M=1;var e=ia(),t=Di(),r=e(t,"Set");return rw=r,rw}var nw,NM;function LX(){if(NM)return nw;NM=1;var e=ia(),t=Di(),r=e(t,"WeakMap");return nw=r,nw}var iw,GM;function Sf(){if(GM)return iw;GM=1;var e=AX(),t=Cb(),r=OX(),n=IX(),i=LX(),s=Dl(),o=HL(),a="[object Map]",u="[object Object]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",g="[object DataView]",v=o(e),w=o(t),y=o(r),S=o(n),b=o(i),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=g||t&&E(new t)!=a||r&&E(r.resolve())!=d||n&&E(new n)!=p||i&&E(new i)!=f)&&(E=function(P){var F=s(P),k=F==u?P.constructor:void 0,A=k?o(k):"";if(A)switch(A){case v:return g;case w:return a;case y:return d;case S:return p;case b:return f}return F}),iw=E,iw}var sw,HM;function _X(){if(HM)return sw;HM=1;var e=yb(),t=WL(),r=bX(),n=kX(),i=Sf(),s=bn(),o=wf(),a=Eb(),u=1,d="[object Arguments]",p="[object Array]",f="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(y,S,b,E,P,F){var k=s(y),A=s(S),T=k?p:i(y),I=A?p:i(S);T=T==d?f:T,I=I==d?f:I;var L=T==f,H=I==f,G=T==I;if(G&&o(y)){if(!o(S))return!1;k=!0,L=!1}if(G&&!L)return F||(F=new e),k||a(y)?t(y,S,b,E,P,F):r(y,S,T,b,E,P,F);if(!(b&u)){var V=L&&v.call(y,"__wrapped__"),$=H&&v.call(S,"__wrapped__");if(V||$){var te=V?y.value():y,se=$?S.value():S;return F||(F=new e),P(te,se,b,E,F)}}return G?(F||(F=new e),n(y,S,b,E,P,F)):!1}return sw=w,sw}var ow,WM;function Fb(){if(WM)return ow;WM=1;var e=_X(),t=Zs();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,a)}return ow=r,ow}var aw,BM;function NX(){if(BM)return aw;BM=1;var e=Fb();function t(r,n){return e(r,n)}return aw=t,aw}var GX=NX();const HX=Tr(GX);function lw(e,t){var r=ob(e);return r?r.innerHeight:_o(e).height}function qL(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(p9(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}var uw,VM;function WX(){if(VM)return uw;VM=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return uw=e,uw}var cw,zM;function BX(){if(zM)return cw;zM=1;var e=yb(),t=Fb(),r=1,n=2;function i(s,o,a,u){var d=a.length,p=d,f=!u;if(s==null)return!p;for(s=Object(s);d--;){var g=a[d];if(f&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++d<p;){g=a[d];var v=g[0],w=s[v],y=g[1];if(f&&g[2]){if(w===void 0&&!(v in s))return!1}else{var S=new e;if(u)var b=u(w,y,v,s,o,S);if(!(b===void 0?t(y,w,r|n,u,S):b))return!1}}return!0}return cw=i,cw}var dw,UM;function jL(){if(UM)return dw;UM=1;var e=as();function t(r){return r===r&&!e(r)}return dw=t,dw}var hw,$M;function VX(){if($M)return hw;$M=1;var e=jL(),t=Bc();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,e(a)]}return i}return hw=r,hw}var pw,YM;function KL(){if(YM)return pw;YM=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return pw=e,pw}var fw,qM;function zX(){if(qM)return fw;qM=1;var e=BX(),t=VX(),r=KL();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return fw=n,fw}var gw,jM;function xb(){if(jM)return gw;jM=1;var e=bn(),t=Nc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return gw=i,gw}var mw,KM;function UX(){if(KM)return mw;KM=1;var e=wb(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],u=s.cache;if(u.has(a))return u.get(a);var d=n.apply(this,o);return s.cache=u.set(a,d)||u,d};return s.cache=new(r.Cache||e),s}return r.Cache=e,mw=r,mw}var vw,QM;function $X(){if(QM)return vw;QM=1;var e=UX(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return vw=r,vw}var Cw,XM;function YX(){if(XM)return Cw;XM=1;var e=$X(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,u,d){s.push(u?d.replace(r,"$1"):a||o)}),s});return Cw=n,Cw}var ww,JM;function Mb(){if(JM)return ww;JM=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return ww=e,ww}var yw,ZM;function qX(){if(ZM)return yw;ZM=1;var e=bl(),t=Mb(),r=bn(),n=Nc(),i=1/0,s=e?e.prototype:void 0,o=s?s.toString:void 0;function a(u){if(typeof u=="string")return u;if(r(u))return t(u,a)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-i?"-0":d}return yw=a,yw}var Sw,eT;function jX(){if(eT)return Sw;eT=1;var e=qX();function t(r){return r==null?"":e(r)}return Sw=t,Sw}var Rw,tT;function Rf(){if(tT)return Rw;tT=1;var e=bn(),t=xb(),r=YX(),n=jX();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return Rw=i,Rw}var bw,rT;function Vc(){if(rT)return bw;rT=1;var e=Nc(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-t?"-0":i}return bw=r,bw}var Dw,nT;function bf(){if(nT)return Dw;nT=1;var e=Rf(),t=Vc();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return Dw=r,Dw}var Ew,iT;function KX(){if(iT)return Ew;iT=1;var e=bf();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return Ew=t,Ew}var Pw,sT;function QX(){if(sT)return Pw;sT=1;function e(t,r){return t!=null&&r in Object(t)}return Pw=e,Pw}var Fw,oT;function XX(){if(oT)return Fw;oT=1;var e=Rf(),t=bb(),r=bn(),n=sb(),i=ib(),s=Vc();function o(a,u,d){u=e(u,a);for(var p=-1,f=u.length,g=!1;++p<f;){var v=s(u[p]);if(!(g=a!=null&&d(a,v)))break;a=a[v]}return g||++p!=f?g:(f=a==null?0:a.length,!!f&&i(f)&&n(v,f)&&(r(a)||t(a)))}return Fw=o,Fw}var xw,aT;function JX(){if(aT)return xw;aT=1;var e=QX(),t=XX();function r(n,i){return n!=null&&t(n,i,e)}return xw=r,xw}var Mw,lT;function ZX(){if(lT)return Mw;lT=1;var e=Fb(),t=KX(),r=JX(),n=xb(),i=jL(),s=KL(),o=Vc(),a=1,u=2;function d(p,f){return n(p)&&i(f)?s(o(p),f):function(g){var v=t(g,p);return v===void 0&&v===f?r(g,p):e(f,v,a|u)}}return Mw=d,Mw}var Tw,uT;function Df(){if(uT)return Tw;uT=1;function e(t){return t}return Tw=e,Tw}var kw,cT;function eJ(){if(cT)return kw;cT=1;function e(t){return function(r){return r==null?void 0:r[t]}}return kw=e,kw}var Aw,dT;function tJ(){if(dT)return Aw;dT=1;var e=bf();function t(r){return function(n){return e(n,r)}}return Aw=t,Aw}var Ow,hT;function rJ(){if(hT)return Ow;hT=1;var e=eJ(),t=tJ(),r=xb(),n=Vc();function i(s){return r(s)?e(n(s)):t(s)}return Ow=i,Ow}var Iw,pT;function Ef(){if(pT)return Iw;pT=1;var e=zX(),t=ZX(),r=Df(),n=bn(),i=rJ();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Iw=s,Iw}var Lw,fT;function nJ(){if(fT)return Lw;fT=1;var e=WX(),t=Ef(),r=EL(),n=Math.max;function i(s,o,a){var u=s==null?0:s.length;if(!u)return-1;var d=a==null?0:r(a);return d<0&&(d=n(u+d,0)),e(s,t(o,3),d)}return Lw=i,Lw}var iJ=nJ();const sJ=Tr(iJ);var _w,gT;function oJ(){if(gT)return _w;gT=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var a=-1,u=t(e((i-n)/(s||1)),0),d=Array(u);u--;)d[o?u:++a]=n,n+=s;return d}return _w=r,_w}var Nw,mT;function aJ(){if(mT)return Nw;mT=1;var e=oJ(),t=pf(),r=DL();function n(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),e(s,o,a,i)}}return Nw=n,Nw}var Gw,vT;function lJ(){if(vT)return Gw;vT=1;var e=aJ(),t=e();return Gw=t,Gw}var uJ=lJ();const cJ=Tr(uJ);var CT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function dJ(e,t){return!!(e===t||CT(e)&&CT(t))}function hJ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!dJ(e[r],t[r]))return!1;return!0}function QL(e,t){t===void 0&&(t=hJ);var r=null;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var o=e.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function GS(e,t){var r=ob(e);return r?r.innerWidth:_o(e).width}var Hw,wT;function pJ(){if(wT)return Hw;wT=1;var e=bl(),t=bb(),r=bn(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Hw=i,Hw}var Ww,yT;function XL(){if(yT)return Ww;yT=1;var e=Sb(),t=pJ();function r(n,i,s,o,a){var u=-1,d=n.length;for(s||(s=t),a||(a=[]);++u<d;){var p=n[u];i>0&&s(p)?i>1?r(p,i-1,s,o,a):e(a,p):o||(a[a.length]=p)}return a}return Ww=r,Ww}var Bw,ST;function fJ(){if(ST)return Bw;ST=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),u=a.length;u--;){var d=a[t?u:++s];if(n(o[d],d,o)===!1)break}return r}}return Bw=e,Bw}var Vw,RT;function gJ(){if(RT)return Vw;RT=1;var e=fJ(),t=e();return Vw=t,Vw}var zw,bT;function Tb(){if(bT)return zw;bT=1;var e=gJ(),t=Bc();function r(n,i){return n&&e(n,i,t)}return zw=r,zw}var Uw,DT;function mJ(){if(DT)return Uw;DT=1;var e=_c();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,a=n?o:-1,u=Object(i);(n?a--:++a<o)&&s(u[a],a,u)!==!1;);return i}}return Uw=t,Uw}var $w,ET;function vJ(){if(ET)return $w;ET=1;var e=Tb(),t=mJ(),r=t(e);return $w=r,$w}var Yw,PT;function CJ(){if(PT)return Yw;PT=1;var e=vJ(),t=_c();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(a,u,d){o[++s]=i(a,u,d)}),o}return Yw=r,Yw}var qw,FT;function wJ(){if(FT)return qw;FT=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return qw=e,qw}var jw,xT;function yJ(){if(xT)return jw;xT=1;var e=Nc();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=e(r),u=n!==void 0,d=n===null,p=n===n,f=e(n);if(!d&&!f&&!a&&r>n||a&&u&&p&&!d&&!f||s&&u&&p||!i&&p||!o)return 1;if(!s&&!a&&!f&&r<n||f&&i&&o&&!s&&!a||d&&i&&o||!u&&o||!p)return-1}return 0}return jw=t,jw}var Kw,MT;function SJ(){if(MT)return Kw;MT=1;var e=yJ();function t(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,u=o.length,d=i.length;++s<u;){var p=e(o[s],a[s]);if(p){if(s>=d)return p;var f=i[s];return p*(f=="desc"?-1:1)}}return r.index-n.index}return Kw=t,Kw}var Qw,TT;function RJ(){if(TT)return Qw;TT=1;var e=Mb(),t=bf(),r=Ef(),n=CJ(),i=wJ(),s=yf(),o=SJ(),a=Df(),u=bn();function d(p,f,g){f.length?f=e(f,function(y){return u(y)?function(S){return t(S,y.length===1?y[0]:y)}:y}):f=[a];var v=-1;f=e(f,s(r));var w=n(p,function(y,S,b){var E=e(f,function(P){return P(y)});return{criteria:E,index:++v,value:y}});return i(w,function(y,S){return o(y,S,g)})}return Qw=d,Qw}var Xw,kT;function bJ(){if(kT)return Xw;kT=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Xw=e,Xw}var Jw,AT;function JL(){if(AT)return Jw;AT=1;var e=bJ(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,u=t(o.length-i,0),d=Array(u);++a<u;)d[a]=o[i+a];a=-1;for(var p=Array(i+1);++a<i;)p[a]=o[a];return p[i]=s(d),e(n,this,p)}}return Jw=r,Jw}var Zw,OT;function DJ(){if(OT)return Zw;OT=1;function e(t){return function(){return t}}return Zw=e,Zw}var ey,IT;function ZL(){if(IT)return ey;IT=1;var e=ia(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return ey=t,ey}var ty,LT;function EJ(){if(LT)return ty;LT=1;var e=DJ(),t=ZL(),r=Df(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return ty=n,ty}var ry,_T;function PJ(){if(_T)return ry;_T=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),u=t-(a-o);if(o=a,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return ry=n,ry}var ny,NT;function e_(){if(NT)return ny;NT=1;var e=EJ(),t=PJ(),r=t(e);return ny=r,ny}var iy,GT;function t_(){if(GT)return iy;GT=1;var e=Df(),t=JL(),r=e_();function n(i,s){return r(t(i,s,e),i+"")}return iy=n,iy}var sy,HT;function FJ(){if(HT)return sy;HT=1;var e=XL(),t=RJ(),r=t_(),n=pf(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return sy=i,sy}var xJ=FJ();const MJ=Tr(xJ);function r_(e){return aL(e)||SL(e)||eb(e)||lL()}var oy,WT;function TJ(){if(WT)return oy;WT=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return oy=e,oy}var ay,BT;function kJ(){if(BT)return ay;BT=1;var e=as(),t=Pb(),r=TJ(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var a=t(o),u=[];for(var d in o)d=="constructor"&&(a||!i.call(o,d))||u.push(d);return u}return ay=s,ay}var ly,VT;function Pf(){if(VT)return ly;VT=1;var e=UL(),t=kJ(),r=_c();function n(i){return r(i)?e(i,!0):t(i)}return ly=n,ly}var uy,zT;function AJ(){if(zT)return uy;zT=1;var e=t_(),t=Lc(),r=pf(),n=Pf(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,u){a=Object(a);var d=-1,p=u.length,f=p>2?u[2]:void 0;for(f&&r(u[0],u[1],f)&&(p=1);++d<p;)for(var g=u[d],v=n(g),w=-1,y=v.length;++w<y;){var S=v[w],b=a[S];(b===void 0||t(b,i[S])&&!s.call(a,S))&&(a[S]=g[S])}return a});return uy=o,uy}var OJ=AJ();const IJ=Tr(OJ);var cy,UT;function kb(){if(UT)return cy;UT=1;var e=ZL();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return cy=t,cy}var dy,$T;function LJ(){if($T)return dy;$T=1;var e=kb(),t=Tb(),r=Ef();function n(i,s){var o={};return s=r(s,3),t(i,function(a,u,d){e(o,u,s(a,u,d))}),o}return dy=n,dy}var _J=LJ();const NJ=Tr(_J);var hy,YT;function n_(){if(YT)return hy;YT=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return hy=e,hy}var py,qT;function i_(){if(qT)return py;qT=1;var e=kb(),t=Lc(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a){var u=s[o];(!(n.call(s,o)&&t(u,a))||a===void 0&&!(o in s))&&e(s,o,a)}return py=i,py}var fy,jT;function zc(){if(jT)return fy;jT=1;var e=i_(),t=kb();function r(n,i,s,o){var a=!s;s||(s={});for(var u=-1,d=i.length;++u<d;){var p=i[u],f=o?o(s[p],n[p],p,s,n):void 0;f===void 0&&(f=n[p]),a?t(s,p,f):e(s,p,f)}return s}return fy=r,fy}var gy,KT;function GJ(){if(KT)return gy;KT=1;var e=zc(),t=Bc();function r(n,i){return n&&e(i,t(i),n)}return gy=r,gy}var my,QT;function HJ(){if(QT)return my;QT=1;var e=zc(),t=Pf();function r(n,i){return n&&e(i,t(i),n)}return my=r,my}var Iu={exports:{}};Iu.exports;var XT;function WJ(){return XT||(XT=1,function(e,t){var r=Di(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(d,p){if(p)return d.slice();var f=d.length,g=a?a(f):new d.constructor(f);return d.copy(g),g}e.exports=u}(Iu,Iu.exports)),Iu.exports}var vy,JT;function BJ(){if(JT)return vy;JT=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return vy=e,vy}var Cy,ZT;function VJ(){if(ZT)return Cy;ZT=1;var e=zc(),t=Rb();function r(n,i){return e(n,t(n),i)}return Cy=r,Cy}var wy,ek;function Ff(){if(ek)return wy;ek=1;var e=$L(),t=e(Object.getPrototypeOf,Object);return wy=t,wy}var yy,tk;function s_(){if(tk)return yy;tk=1;var e=Sb(),t=Ff(),r=Rb(),n=zL(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,r(o)),o=t(o);return a}:n;return yy=s,yy}var Sy,rk;function zJ(){if(rk)return Sy;rk=1;var e=zc(),t=s_();function r(n,i){return e(n,t(n),i)}return Sy=r,Sy}var Ry,nk;function o_(){if(nk)return Ry;nk=1;var e=VL(),t=s_(),r=Pf();function n(i){return e(i,r,t)}return Ry=n,Ry}var by,ik;function UJ(){if(ik)return by;ik=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,s=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return by=r,by}var Dy,sk;function Ab(){if(sk)return Dy;sk=1;var e=BL();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return Dy=t,Dy}var Ey,ok;function $J(){if(ok)return Ey;ok=1;var e=Ab();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Ey=t,Ey}var Py,ak;function YJ(){if(ak)return Py;ak=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return Py=t,Py}var Fy,lk;function qJ(){if(lk)return Fy;lk=1;var e=bl(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Fy=n,Fy}var xy,uk;function jJ(){if(uk)return xy;uk=1;var e=Ab();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return xy=t,xy}var My,ck;function KJ(){if(ck)return My;ck=1;var e=Ab(),t=$J(),r=YJ(),n=qJ(),i=jJ(),s="[object Boolean]",o="[object Date]",a="[object Map]",u="[object Number]",d="[object RegExp]",p="[object Set]",f="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",y="[object Float32Array]",S="[object Float64Array]",b="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",F="[object Uint8Array]",k="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]";function I(L,H,G){var V=L.constructor;switch(H){case v:return e(L);case s:case o:return new V(+L);case w:return t(L,G);case y:case S:case b:case E:case P:case F:case k:case A:case T:return i(L,G);case a:return new V;case u:case f:return new V(L);case d:return r(L);case p:return new V;case g:return n(L)}}return My=I,My}var Ty,dk;function a_(){if(dk)return Ty;dk=1;var e=as(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var s=new n;return n.prototype=void 0,s}}();return Ty=r,Ty}var ky,hk;function QJ(){if(hk)return ky;hk=1;var e=a_(),t=Ff(),r=Pb();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return ky=n,ky}var Ay,pk;function XJ(){if(pk)return Ay;pk=1;var e=Sf(),t=Zs(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return Ay=n,Ay}var Oy,fk;function JJ(){if(fk)return Oy;fk=1;var e=XJ(),t=yf(),r=Db(),n=r&&r.isMap,i=n?t(n):e;return Oy=i,Oy}var Iy,gk;function ZJ(){if(gk)return Iy;gk=1;var e=Sf(),t=Zs(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return Iy=n,Iy}var Ly,mk;function eZ(){if(mk)return Ly;mk=1;var e=ZJ(),t=yf(),r=Db(),n=r&&r.isSet,i=n?t(n):e;return Ly=i,Ly}var _y,vk;function tZ(){if(vk)return _y;vk=1;var e=yb(),t=n_(),r=i_(),n=GJ(),i=HJ(),s=WJ(),o=BJ(),a=VJ(),u=zJ(),d=YL(),p=o_(),f=Sf(),g=UJ(),v=KJ(),w=QJ(),y=bn(),S=wf(),b=JJ(),E=as(),P=eZ(),F=Bc(),k=Pf(),A=1,T=2,I=4,L="[object Arguments]",H="[object Array]",G="[object Boolean]",V="[object Date]",$="[object Error]",te="[object Function]",se="[object GeneratorFunction]",X="[object Map]",Z="[object Number]",z="[object Object]",ne="[object RegExp]",re="[object Set]",O="[object String]",N="[object Symbol]",J="[object WeakMap]",K="[object ArrayBuffer]",ie="[object DataView]",de="[object Float32Array]",Re="[object Float64Array]",ye="[object Int8Array]",be="[object Int16Array]",Le="[object Int32Array]",et="[object Uint8Array]",Ge="[object Uint8ClampedArray]",je="[object Uint16Array]",ct="[object Uint32Array]",Me={};Me[L]=Me[H]=Me[K]=Me[ie]=Me[G]=Me[V]=Me[de]=Me[Re]=Me[ye]=Me[be]=Me[Le]=Me[X]=Me[Z]=Me[z]=Me[ne]=Me[re]=Me[O]=Me[N]=Me[et]=Me[Ge]=Me[je]=Me[ct]=!0,Me[$]=Me[te]=Me[J]=!1;function Ut(Ne,zr,Xt,dt,_t,$t){var ht,Ur=zr&A,$r=zr&T,rt=zr&I;if(Xt&&(ht=_t?Xt(Ne,dt,_t,$t):Xt(Ne)),ht!==void 0)return ht;if(!E(Ne))return Ne;var bt=y(Ne);if(bt){if(ht=g(Ne),!Ur)return o(Ne,ht)}else{var ar=f(Ne),Ml=ar==te||ar==se;if(S(Ne))return s(Ne,Ur);if(ar==z||ar==L||Ml&&!_t){if(ht=$r||Ml?{}:w(Ne),!Ur)return $r?u(Ne,i(ht,Ne)):a(Ne,n(ht,Ne))}else{if(!Me[ar])return _t?Ne:{};ht=v(Ne,ar,Ur)}}$t||($t=new e);var cs=$t.get(Ne);if(cs)return cs;$t.set(Ne,ht),P(Ne)?Ne.forEach(function(Pn){ht.add(Ut(Pn,zr,Xt,Pn,Ne,$t))}):b(Ne)&&Ne.forEach(function(Pn,$n){ht.set($n,Ut(Pn,zr,Xt,$n,Ne,$t))});var to=rt?$r?p:d:$r?k:F,Kc=bt?void 0:to(Ne);return t(Kc||Ne,function(Pn,$n){Kc&&($n=Pn,Pn=Ne[$n]),r(ht,$n,Ut(Pn,zr,Xt,$n,Ne,$t))}),ht}return _y=Ut,_y}var Ny,Ck;function rZ(){if(Ck)return Ny;Ck=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Ny=e,Ny}var Gy,wk;function nZ(){if(wk)return Gy;wk=1;var e=bf(),t=RL();function r(n,i){return i.length<2?n:e(n,t(i,0,-1))}return Gy=r,Gy}var Hy,yk;function iZ(){if(yk)return Hy;yk=1;var e=Rf(),t=rZ(),r=nZ(),n=Vc();function i(s,o){return o=e(o,s),s=r(s,o),s==null||delete s[n(t(o))]}return Hy=i,Hy}var Wy,Sk;function sZ(){if(Sk)return Wy;Sk=1;var e=Dl(),t=Ff(),r=Zs(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,u=o.call(Object);function d(p){if(!r(p)||e(p)!=n)return!1;var f=t(p);if(f===null)return!0;var g=a.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return Wy=d,Wy}var By,Rk;function oZ(){if(Rk)return By;Rk=1;var e=sZ();function t(r){return e(r)?void 0:r}return By=t,By}var Vy,bk;function aZ(){if(bk)return Vy;bk=1;var e=XL();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return Vy=t,Vy}var zy,Dk;function lZ(){if(Dk)return zy;Dk=1;var e=aZ(),t=JL(),r=e_();function n(i){return r(t(i,void 0,e),i+"")}return zy=n,zy}var Uy,Ek;function uZ(){if(Ek)return Uy;Ek=1;var e=Mb(),t=tZ(),r=iZ(),n=Rf(),i=zc(),s=oZ(),o=lZ(),a=o_(),u=1,d=2,p=4,f=o(function(g,v){var w={};if(g==null)return w;var y=!1;v=e(v,function(b){return b=n(b,g),y||(y=b.length>1),b}),i(g,a(g),w),y&&(w=t(w,u|d|p,s));for(var S=v.length;S--;)r(w,v[S]);return w});return Uy=f,Uy}var cZ=uZ();const dZ=Tr(cZ);var $y,Pk;function hZ(){if(Pk)return $y;Pk=1;var e=n_(),t=a_(),r=Tb(),n=Ef(),i=Ff(),s=bn(),o=wf(),a=nb(),u=as(),d=Eb();function p(f,g,v){var w=s(f),y=w||o(f)||d(f);if(g=n(g,4),v==null){var S=f&&f.constructor;y?v=w?new S:[]:u(f)?v=a(S)?t(i(f)):{}:v={}}return(y?e:r)(f,function(b,E,P){return g(v,b,E,P)}),v}return $y=p,$y}var pZ=hZ();const fZ=Tr(pZ);var $h={exports:{}},gZ=$h.exports,Fk;function mZ(){return Fk||(Fk=1,function(e,t){(function(r,n){e.exports=n()})(gZ,function(){return function(r,n,i){n.prototype.isBetween=function(s,o,a,u){var d=i(s),p=i(o),f=(u=u||"()")[0]==="(",g=u[1]===")";return(f?this.isAfter(d,a):!this.isBefore(d,a))&&(g?this.isBefore(p,a):!this.isAfter(p,a))||(f?this.isBefore(d,a):!this.isAfter(d,a))&&(g?this.isAfter(p,a):!this.isBefore(p,a))}}})}($h)),$h.exports}mZ();var Yh={exports:{}},vZ=Yh.exports,xk;function CZ(){return xk||(xk=1,function(e,t){(function(r,n){e.exports=n()})(vZ,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})}(Yh)),Yh.exports}CZ();var qh={exports:{}},wZ=qh.exports,Mk;function yZ(){return Mk||(Mk=1,function(e,t){(function(r,n){e.exports=n()})(wZ,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})}(qh)),qh.exports}yZ();var jh={exports:{}},SZ=jh.exports,Tk;function RZ(){return Tk||(Tk=1,function(e,t){(function(r,n){e.exports=n()})(SZ,function(){return function(r,n,i){var s=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,g,v,w,y){var S=f.name?f:f.$locale(),b=o(S[g]),E=o(S[v]),P=b||E.map(function(k){return k.slice(0,w)});if(!y)return P;var F=S.weekStart;return P.map(function(k,A){return P[(A+(F||0))%7]})},u=function(){return i.Ls[i.locale()]},d=function(f,g){return f.formats[g]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,y,S){return y||S.slice(1)})}(f.formats[g.toUpperCase()])},p=function(){var f=this;return{months:function(g){return g?g.format("MMMM"):a(f,"months")},monthsShort:function(g){return g?g.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):a(f,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return d(f.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return p.bind(this)()},i.localeData=function(){var f=u();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(g){return d(f,g)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return a(u(),"months")},i.monthsShort=function(){return a(u(),"monthsShort","months",3)},i.weekdays=function(f){return a(u(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return a(u(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return a(u(),"weekdaysMin","weekdays",2,f)}}})}(jh)),jh.exports}RZ();var Kh={exports:{}},bZ=Kh.exports,kk;function DZ(){return kk||(kk=1,function(e,t){(function(r,n){e.exports=n()})(bZ,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var o=i.prototype,a=o.format;s.en.formats=r,o.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,p=function(f,g){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,w,y){var S=y&&y.toUpperCase();return w||g[y]||r[y]||g[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,E,P){return E||P.slice(1)})})}(u,d===void 0?{}:d);return a.call(this,p)}}})}(Kh)),Kh.exports}DZ();var Qh={exports:{}},EZ=Qh.exports,Ak;function PZ(){return Ak||(Ak=1,function(e,t){(function(r,n){e.exports=n()})(EZ,function(){return function(r,n,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var u;a.length===1&&a[0].length>0&&(a=a[0]),u=(a=a.filter(function(p){return p}))[0];for(var d=1;d<a.length;d+=1)a[d].isValid()&&!a[d][o](u)||(u=a[d]);return u};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})}(Qh)),Qh.exports}PZ();var Xh={exports:{}},FZ=Xh.exports,Ok;function xZ(){return Ok||(Ok=1,function(e,t){(function(r,n){e.exports=n()})(FZ,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var u=o.prototype;a.utc=function(y){var S={date:y,utc:!0,args:arguments};return new o(S)},u.utc=function(y){var S=a(this.toDate(),{locale:this.$L,utc:!0});return y?S.add(this.utcOffset(),r):S},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var d=u.parse;u.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var p=u.init;u.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else p.call(this)};var f=u.utcOffset;u.utcOffset=function(y,S){var b=this.$utils().u;if(b(y))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof y=="string"&&(y=function(k){k===void 0&&(k="");var A=k.match(n);if(!A)return null;var T=(""+A[0]).match(i)||["-",0,0],I=T[0],L=60*+T[1]+ +T[2];return L===0?0:I==="+"?L:-L}(y),y===null))return this;var E=Math.abs(y)<=16?60*y:y,P=this;if(S)return P.$offset=E,P.$u=y===0,P;if(y!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(E+F,r)).$offset=E,P.$x.$localOffset=F}else P=this.utc();return P};var g=u.format;u.format=function(y){var S=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,S)},u.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var v=u.toDate;u.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var w=u.diff;u.diff=function(y,S,b){if(y&&this.$u===y.$u)return w.call(this,y,S,b);var E=this.local(),P=a(y).local();return w.call(E,P,S,b)}}})}(Xh)),Xh.exports}xZ();function _i(e){return e.children}var Vr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Dr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Ik=Object.keys(Dr).map(function(e){return Dr[e]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(Ik)),ce.objectOf(function(e,t){var r=Ik.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return ce.elementType.apply(ce,[e,t].concat(i))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var Lk={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function l_(e,t){var r=or(e,"month");return or(r,"week",t.startOfWeek())}function u_(e,t){var r=Lp(e,"month");return Lp(r,"week",t.startOfWeek())}function MZ(e,t){for(var r=l_(e,t),n=u_(e,t),i=[];Sl(r,n,"day");)i.push(r),r=Bn(r,1,"day");return i}function TZ(e,t){var r=or(e,t);return Oc(r,e)?r:Bn(r,1,t)}function kZ(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,i=[];Sl(n,t,r);)i.push(n),n=Bn(n,1,r);return i}function AZ(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=or(e,"day"),e=cc(e,cc(t)),e=ol(e,ol(t)),e=uc(e,uc(t)),lc(e,lc(t)))}function _k(e){return cc(e)===0&&ol(e)===0&&uc(e)===0&&lc(e)===0}function OZ(e,t,r,n){return r==="day"&&(r="date"),Math.abs(TF[r](e,void 0,n)-TF[r](t,void 0,n))}function Ob(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+or(e,r)/Lk[r]-+or(t,r)/Lk[r]))}var IZ=ce.oneOfType([ce.string,ce.func]);function LZ(e,t,r,n,i){var s=typeof n=="function"?n(r,i,e):t.call(e,r,n,i);return rc(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function _Z(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Ib(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function NZ(e,t){return Ob(e,t,"minutes")+Ib(e,t)}function GZ(e){var t=or(e,"day");return Ob(t,e,"minutes")+Ib(t,e)}function HZ(e,t){return rb(e,t,"day")}function WZ(e,t,r){var n=Oc(e,t,"minutes");return n?Ic(t,r,"minutes"):hf(t,r,"minutes")}function HS(e,t){return OZ(e,t,"day")}function BZ(e){var t=e.evtA,r=t.start,n=t.end,i=t.allDay,s=e.evtB,o=s.start,a=s.end,u=s.allDay,d=+or(r,"day")-+or(o,"day"),p=HS(r,n),f=HS(o,a);return d||f-p||!!u-!!i||+r-+o||+n-+a}function VZ(e){var t=e.event,r=t.start,n=t.end,i=e.range,s=i.start,o=i.end,a=or(r,"day"),u=Sl(a,o,"day"),d=tb(a,n,"minutes"),p=d?hf(n,s,"minutes"):Ic(n,s,"minutes");return u&&p}function zZ(e,t){return Oc(e,t,"day")}function UZ(e,t){return _k(e)&&_k(t)}var $Z=Qt(function e(t){var r=this;Kt(this,e),rc(typeof t.format=="function","date localizer `format(..)` must be a function"),rc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||IZ,this.formats=t.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return LZ.apply(void 0,[r,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||AZ,this.inRange=t.inRange||vL,this.lt=t.lt||rb,this.lte=t.lte||Sl,this.gt=t.gt||hf,this.gte=t.gte||Ic,this.eq=t.eq||Oc,this.neq=t.neq||tb,this.startOf=t.startOf||or,this.endOf=t.endOf||Lp,this.add=t.add||Bn,this.range=t.range||kZ,this.diff=t.diff||Ob,this.ceil=t.ceil||TZ,this.min=t.min||gL,this.max=t.max||mL,this.minutes=t.minutes||ol,this.daySpan=t.daySpan||HS,this.firstVisibleDay=t.firstVisibleDay||l_,this.lastVisibleDay=t.lastVisibleDay||u_,this.visibleDays=t.visibleDays||MZ,this.getSlotDate=t.getSlotDate||_Z,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ib,this.getTotalMin=t.getTotalMin||NZ,this.getMinutesFromMidnight=t.getMinutesFromMidnight||GZ,this.continuesPrior=t.continuesPrior||HZ,this.continuesAfter=t.continuesAfter||WZ,this.sortEvents=t.sortEvents||BZ,this.inEventRange=t.inEventRange||VZ,this.isSameDate=t.isSameDate||zZ,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||UZ,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function YZ(e,t,r,n){var i=lt(lt({},e.formats),r);return lt(lt({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,a){return e.format(o,i[a]||a,t)}})}var qZ=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,s=n.label;return x.createElement("div",{className:"rbc-toolbar"},x.createElement("span",{className:"rbc-btn-group"},x.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vr.TODAY)},i.today),x.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vr.PREVIOUS)},i.previous),x.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vr.NEXT)},i.next)),x.createElement("span",{className:"rbc-toolbar-label"},s),x.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return x.createElement("button",{type:"button",key:a,className:It({"rbc-active":o===a}),onClick:i.view.bind(null,a)},n[a])})}}])}(x.Component);function mt(e,t){e&&e.apply(null,[].concat(t))}var jZ={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function KZ(e){return lt(lt({},jZ),e)}function QZ(e){var t=e.ref,r=e.callback;D.useEffect(function(){var n=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var XZ=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],c_=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.style,s=n.className,o=n.event,a=n.selected,u=n.isAllDay,d=n.onSelect,p=n.onDoubleClick,f=n.onKeyPress,g=n.localizer,v=n.continuesPrior,w=n.continuesAfter,y=n.accessors,S=n.getters,b=n.children,E=n.components,P=E.event,F=E.eventWrapper,k=n.slotStart,A=n.slotEnd,T=vi(n,XZ);delete T.resizable;var I=y.title(o),L=y.tooltip(o),H=y.end(o),G=y.start(o),V=y.allDay(o),$=u||V||g.diff(G,g.ceil(H,"day"),"day")>1,te=S.eventProp(o,G,H,a),se=x.createElement("div",{className:"rbc-event-content",title:L||void 0},P?x.createElement(P,{event:o,continuesPrior:v,continuesAfter:w,title:I,isAllDay:V,localizer:g,slotStart:k,slotEnd:A}):I);return x.createElement(F,Object.assign({},this.props,{type:"date"}),x.createElement("div",Object.assign({},T,{style:lt(lt({},te.style),i),className:It("rbc-event",s,te.className,{"rbc-selected":a,"rbc-event-allday":$,"rbc-event-continues-prior":v,"rbc-event-continues-after":w}),onClick:function(Z){return d&&d(o,Z)},onDoubleClick:function(Z){return p&&p(o,Z)},onKeyDown:function(Z){return f&&f(o,Z)}}),typeof b=="function"?b(se):se))}}])}(x.Component);function xf(e,t){return!e||t==null?!1:HX(e,t)}function d_(e,t){var r=e.right-e.left,n=r/t;return n}function h_(e,t,r,n){var i=d_(e,n);return r?n-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function JZ(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function ZZ(e,t,r,n,i){var s=-1,o=-1,a=n-1,u=d_(t,n),d=h_(t,r.x,i,n),p=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,g=e.y>t.bottom,v=t.top>e.y,w=r.top<t.top&&r.bottom>t.bottom;return w&&(s=0,o=a),p&&(v?(s=0,o=d):g&&(s=d,o=a)),f&&(s=o=i?a-Math.floor((e.x-t.left)/u):Math.floor((e.x-t.left)/u),p?d<s?s=d:o=d:e.y<r.y?o=a:s=0),{startIdx:s,endIdx:o}}function eee(e){var t=e.target,r=e.offset,n=e.container,i=e.box,s=_o(t),o=s.top,a=s.left,u=s.width,d=s.height,p=_o(n),f=p.top,g=p.left,v=p.width,w=p.height,y=_o(i),S=y.width,b=y.height,E=f+w,P=g+v,F=o+b,k=a+S,A=r.x,T=r.y,I=F>E?o-b-T:o+T+d,L=k>P?a+A-S+u:a+A;return{topOffset:I,leftOffset:L}}function tee(e){var t=e.containerRef,r=e.accessors,n=e.getters,i=e.selected,s=e.components,o=e.localizer,a=e.position,u=e.show,d=e.events,p=e.slotStart,f=e.slotEnd,g=e.onSelect,v=e.onDoubleClick,w=e.onKeyPress,y=e.handleDragStart,S=e.popperRef,b=e.target,E=e.offset;QZ({ref:S,callback:u}),D.useLayoutEffect(function(){var k=eee({target:b,offset:E,container:t.current,box:S.current}),A=k.topOffset,T=k.leftOffset;S.current.style.top="".concat(A,"px"),S.current.style.left="".concat(T,"px")},[E.x,E.y,b]);var P=a.width,F={minWidth:P+P/2};return x.createElement("div",{style:F,className:"rbc-overlay",ref:S},x.createElement("div",{className:"rbc-overlay-header"},o.format(p,"dayHeaderFormat")),d.map(function(k,A){return x.createElement(c_,{key:A,type:"popup",localizer:o,event:k,getters:n,onSelect:g,accessors:r,components:s,onDoubleClick:v,onKeyPress:w,continuesPrior:o.lt(r.end(k),p,"day"),continuesAfter:o.gte(r.start(k),f,"day"),slotStart:p,slotEnd:f,selected:xf(k,i),draggable:!0,onDragStart:function(){return y(k)},onDragEnd:function(){return u()}})}))}var p_=x.forwardRef(function(e,t){return x.createElement(tee,Object.assign({},e,{popperRef:t}))});p_.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function ree(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,i=e.overlay,s=e.accessors,o=e.localizer,a=e.components,u=e.getters,d=e.selected,p=e.handleSelectEvent,f=e.handleDoubleClickEvent,g=e.handleKeyPressEvent,v=e.handleDragStart,w=e.onHide,y=e.overlayDisplay,S=D.useRef(null);if(!i.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var E=i.position,P=i.events,F=i.date,k=i.end;return x.createElement(vb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(A){var T=A.props;return x.createElement(p_,Object.assign({},T,{containerRef:t,ref:S,target:i.target,offset:b,accessors:s,getters:u,selected:d,components:a,localizer:o,position:E,show:y,events:P,slotStart:F,slotEnd:k,onSelect:p,onDoubleClick:f,onKeyPress:g,handleDragStart:v}))})}var Lb=x.forwardRef(function(e,t){return x.createElement(ree,Object.assign({},e,{containerRef:t}))});Lb.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function hr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return ku(r,e,t,{passive:!1})}function nee(e,t,r){return!e||dc(e,document.elementFromPoint(t,r))}function iee(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return qL(i,".rbc-event",e)}function see(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return qL(i,".rbc-show-more",e)}function Gp(e,t){return!!iee(e,t)}function oee(e,t){return!!see(e,t)}function Du(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Nk=5,aee=250,f_=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,s=r.longPressThreshold,o=s===void 0?250:s,a=r.validContainers,u=a===void 0?[]:a;Kt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=o,this.validContainers=u,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=hr("touchmove",function(){},window),this._removeKeyDownListener=hr("keydown",this._keyListener),this._removeKeyUpListener=hr("keyup",this._keyListener),this._removeDropFromOutsideListener=hr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=hr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Qt(e,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var o,a=this._listeners[r]||[];return a.forEach(function(u){o===void 0&&(o=u.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Gk(n,Xo(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,s=null,o=null,a=null,u=function(g){s=setTimeout(function(){p(),r(g)},i.longPressThreshold),o=hr("touchmove",function(){return p()}),a=hr("touchend",function(){return p()})},d=hr("touchstart",u),p=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return n&&u(n),function(){p(),d()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=hr("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=hr("mousedown",r._handleInitialEvent)}),i=hr("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Du(r),i=n.pageX,s=n.pageY,o=n.clientX,a=n.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Du(r),i=n.pageX,s=n.pageY,o=n.clientX,a=n.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Du(r),i=n.clientX,s=n.clientY,o=n.pageX,a=n.pageY,u=this.container(),d,p;if(!(r.which===3||r.button===2||!nee(u,i,s))){if(!this.globalMouse&&u&&!dc(u,r.target)){var f=lee(0),g=f.top,v=f.left,w=f.bottom,y=f.right;if(p=Xo(u),d=Gk({top:p.top-g,left:p.left-v,bottom:p.bottom+w,right:p.right+y},{top:a,left:o}),!d)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:a,clientX:i,clientY:s});if(S!==!1)switch(r.type){case"mousedown":this._removeEndListener=hr("mouseup",this._handleTerminatingEvent),this._onEscListener=hr("keydown",this._handleTerminatingEvent),this._removeMoveListener=hr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=hr("touchend",this._handleTerminatingEvent),this._removeMoveListener=hr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(s){return!!n.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||dc(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&s?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Du(r),i=n.pageX,s=n.pageY,o=n.clientX,a=n.clientY,u=new Date().getTime();return this._lastClickData&&u-this._lastClickData.timestamp<aee?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:u},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,s=n.y,o=Du(r),a=o.pageX,u=o.pageY,d=Math.abs(i-a),p=Math.abs(s-u),f=Math.min(a,i),g=Math.min(u,s),v=this.selecting,w=this.isClick(a,u);w&&!v&&!(d||p)||(!v&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:g,left:f,x:a,y:u,right:f+d,bottom:g+p},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(r-s)<=Nk&&Math.abs(n-o)<=Nk}}])}();function lee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return rs(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Gk(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Xo(e),i=n.top,s=n.left,o=n.right,a=o===void 0?s:o,u=n.bottom,d=u===void 0?i:u,p=Xo(t),f=p.top,g=p.left,v=p.right,w=v===void 0?g:v,y=p.bottom,S=y===void 0?f:y;return!(d-r<f||i+r>S||a-r<g||s+r>w)}function Xo(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Hk("left"),n=t.top+Hk("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Hk(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var uee=function(e){function t(r,n){var i;return Kt(this,t),i=mr(this,t,[r,n]),i.state={selecting:!1},i.containerRef=D.createRef(),i}return vr(t,e),Qt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,s=n.getNow,o=n.getters,a=n.date,u=n.components.dateCellWrapper,d=n.localizer,p=this.state,f=p.selecting,g=p.startIdx,v=p.endIdx,w=s();return x.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(y,S){var b=f&&S>=g&&S<=v,E=o.dayProp(y),P=E.className,F=E.style;return x.createElement(u,{key:S,value:y,range:i},x.createElement("div",{style:F,className:It("rbc-day-bg",P,b&&"rbc-selected-cell",d.isSameDate(y,w)&&"rbc-today",a&&d.neq(a,y,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,s=this._selector=new f_(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(u,d){if(!Gp(i,u)&&!oee(i,u)){var p=Xo(i),f=n.props,g=f.range,v=f.rtl;if(JZ(p,u)){var w=h_(p,u.x,v,g.length);n._selectSlot({startIdx:w,endIdx:w,action:d,box:u})}}n._initial={},n.setState({selecting:!1})};s.on("selecting",function(a){var u=n.props,d=u.range,p=u.rtl,f=-1,g=-1;if(n.state.selecting||(mt(n.props.onSelectStart,[a]),n._initial={x:a.x,y:a.y}),s.isSelected(i)){var v=Xo(i),w=ZZ(n._initial,v,a,d.length,p);f=w.startIdx,g=w.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:g})}),s.on("beforeSelect",function(a){if(n.props.selectable==="ignoreEvents")return!Gp(n.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){n._selectSlot(lt(lt({},n.state),{},{action:"select",bounds:a})),n._initial={},n.setState({selecting:!1}),mt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,s=n.startIdx,o=n.action,a=n.bounds,u=n.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:u,resourceId:this.props.resourceId})}}])}(x.Component),ii={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,o=t.onSelect,a=t.onDoubleClick,u=t.onKeyPress,d=t.localizer,p=t.slotMetrics,f=t.components,g=t.resizable,v=p.continuesPrior(r),w=p.continuesAfter(r);return x.createElement(c_,{event:r,getters:s,localizer:d,accessors:i,components:f,onSelect:o,onDoubleClick:a,onKeyPress:u,continuesPrior:v,continuesAfter:w,slotStart:p.first,slotEnd:p.last,selected:xf(r,n),resizable:g})},renderSpan:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return x.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},g_=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,u=1;return x.createElement("div",{className:It(a,"rbc-row")},s.reduce(function(d,p,f){var g=p.event,v=p.left,w=p.right,y=p.span,S="_lvl_"+f,b=v-u,E=ii.renderEvent(n.props,g);return b&&d.push(ii.renderSpan(o,b,"".concat(S,"_gap"))),d.push(ii.renderSpan(o,y,S,E)),u=w+1,d},[]))}}])}(x.Component);g_.defaultProps=lt({},ii.defaultProps);function m_(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,n)}}function cee(e,t,r,n){var i=m_({dateRange:t,localizer:n}),s=i.first,o=i.last,a=n.diff(s,o,"day"),u=n.max(n.startOf(r.start(e),"day"),s),d=n.min(n.ceil(r.end(e),"day"),o),p=sJ(t,function(g){return n.isSameDate(g,u)}),f=n.diff(u,d,"day");return f=Math.min(f,a),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:p+1,right:Math.max(p+f,1)}}function v_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,s=[],o=[];for(r=0;r<e.length;r++){for(i=e[r],n=0;n<s.length&&dee(i,s[n]);n++);n>=t?o.push(i):(s[n]||(s[n]=[])).push(i)}for(r=0;r<s.length;r++)s[r].sort(function(a,u){return a.left-u.left});return{levels:s,extra:o}}function fc(e,t,r,n,i){var s={start:n.start(e),end:n.end(e)},o={start:t,end:r};return i.inEventRange({event:s,range:o})}function dee(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function hee(e,t,r){var n=zh(e),i=[],s=[];n.forEach(function(u){var d=t.start(u),p=t.end(u);r.daySpan(d,p)>1?i.push(u):s.push(u)});var o=i.sort(function(u,d){return WS(u,d,t,r)}),a=s.sort(function(u,d){return WS(u,d,t,r)});return[].concat(zh(o),zh(a))}function WS(e,t,r,n){var i={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:i,evtB:s})}var C_=function(t,r){return t.left<=r&&t.right>=r},Wk=function(t,r){return t.filter(function(n){return C_(n,r)}).map(function(n){return n.event})},w_=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){for(var n=this.props,i=n.segments,s=n.slotMetrics.slots,o=v_(i).levels[0],a=1,u=1,d=[];a<=s;){var p="_lvl_"+a,f=o.filter(function(E){return C_(E,a)})[0]||{},g=f.event,v=f.left,w=f.right,y=f.span;if(!g){a++;continue}var S=Math.max(0,v-u);if(this.canRenderSlotEvent(v,y)){var b=ii.renderEvent(this.props,g);S&&d.push(ii.renderSpan(s,S,p+"_gap")),d.push(ii.renderSpan(s,y,p,b)),u=a=w+1}else S&&d.push(ii.renderSpan(s,S,p+"_gap")),d.push(ii.renderSpan(s,1,p,this.renderShowMore(i,a))),u=a=a+1}return x.createElement("div",{className:"rbc-row"},d)}},{key:"canRenderSlotEvent",value:function(n,i){var s=this.props.segments;return cJ(n,n+i).every(function(o){var a=Wk(s,o).length;return a===1})}},{key:"renderShowMore",value:function(n,i){var s=this,o=this.props,a=o.localizer,u=o.slotMetrics,d=o.components,p=u.getEventsForSlot(i),f=Wk(n,i),g=f.length;if(d!=null&&d.showMore){var v=d.showMore,w=u.getDateForSlot(i-1);return g?x.createElement(v,{localizer:a,slotDate:w,slot:i,count:g,events:p,remainingEvents:f}):!1}return g?x.createElement("button",{type:"button",key:"sm_"+i,className:It("rbc-button-link","rbc-show-more"),onClick:function(S){return s.showMore(i,S)}},a.messages.showMore(g,f,p)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}(x.Component);w_.defaultProps=lt({},ii.defaultProps);var pee=function(t){var r=t.children;return x.createElement("div",{className:"rbc-row-content-scroll-container"},r)},fee=function(t,r){return t.left<=r&&t.right>=r},gee=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function y_(){return QL(function(e){for(var t=e.range,r=e.events,n=e.maxRows,i=e.minRows,s=e.accessors,o=e.localizer,a=m_({dateRange:t,localizer:o}),u=a.first,d=a.last,p=r.map(function(y){return cee(y,t,s,o)}),f=v_(p,Math.max(n-1,1)),g=f.levels,v=f.extra,w=v.length>0?i-1:i;g.length<w;)g.push([]);return{first:u,last:d,levels:g,extra:v,range:t,slots:t.length,clone:function(S){var b=y_();return b(lt(lt({},e),S))},getDateForSlot:function(S){return t[S]},getSlotForDate:function(S){return t.find(function(b){return o.isSameDate(b,S)})},getEventsForSlot:function(S){return p.filter(function(b){return fee(b,S)}).map(function(b){return b.event})},continuesPrior:function(S){return o.continuesPrior(s.start(S),u)},continuesAfter:function(S){var b=s.start(S),E=s.end(S);return o.continuesAfter(b,E,d)}}},gee)}var gc=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.handleSelectSlot=function(o){var a=r.props,u=a.range,d=a.onSelectSlot;d(u.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,a){var u=r.props,d=u.range,p=u.onShowMore,f=r.slotMetrics(r.props),g=g9(r.containerRef.current,".rbc-row-bg")[0],v;g&&(v=g.children[o-1]);var w=f.getEventsForSlot(o);p(w,d[o-1],v,o,a)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,a){var u=r.props,d=u.renderHeader,p=u.getNow,f=u.localizer;return d({date:o,key:"header_".concat(a),className:It("rbc-date-cell",f.isSameDate(o,p())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,a=o.className,u=o.range,d=o.renderHeader,p=o.showAllEvents;return x.createElement("div",{className:a,ref:r.containerRef},x.createElement("div",{className:It("rbc-row-content",p&&"rbc-row-content-scrollable")},d&&x.createElement("div",{className:"rbc-row",ref:r.headingRowRef},u.map(r.renderHeadingCell)),x.createElement("div",{className:"rbc-row",ref:r.eventRowRef},x.createElement("div",{className:"rbc-row-segment"},x.createElement("div",{className:"rbc-event"},x.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=D.createRef(),r.headingRowRef=D.createRef(),r.eventRowRef=D.createRef(),r.slotMetrics=y_(),r}return vr(t,e),Qt(t,[{key:"getRowLimit",value:function(){var n,i=lw(this.eventRowRef.current),s=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?lw(this.headingRowRef.current):0,o=lw(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,s=n.rtl,o=n.range,a=n.className,u=n.selected,d=n.selectable,p=n.renderForMeasure,f=n.accessors,g=n.getters,v=n.components,w=n.getNow,y=n.renderHeader,S=n.onSelect,b=n.localizer,E=n.onSelectStart,P=n.onSelectEnd,F=n.onDoubleClick,k=n.onKeyPress,A=n.resourceId,T=n.longPressThreshold,I=n.isAllDay,L=n.resizable,H=n.showAllEvents;if(p)return this.renderDummy();var G=this.slotMetrics(this.props),V=G.levels,$=G.extra,te=H?pee:_i,se=v.weekWrapper,X={selected:u,accessors:f,getters:g,localizer:b,components:v,onSelect:S,onDoubleClick:F,onKeyPress:k,resourceId:A,slotMetrics:G,resizable:L};return x.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},x.createElement(uee,{localizer:b,date:i,getNow:w,rtl:s,range:o,selectable:d,container:this.getContainer,getters:g,onSelectStart:E,onSelectEnd:P,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:T,resourceId:A}),x.createElement("div",{className:It("rbc-row-content",H&&"rbc-row-content-scrollable"),role:"row"},y&&x.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),x.createElement(te,null,x.createElement(se,Object.assign({isAllDay:I},X,{rtl:this.props.rtl}),V.map(function(Z,z){return x.createElement(g_,Object.assign({key:z,segments:Z},X))}),!!$.length&&x.createElement(w_,Object.assign({segments:$,onShowMore:this.handleShowMore},X))))))}}])}(x.Component);gc.defaultProps={minRows:0,maxRows:1/0};var _b=function(t){var r=t.label;return x.createElement("span",{role:"columnheader","aria-sort":"none"},r)},mee=function(t){var r=t.label,n=t.drilldownView,i=t.onDrillDown;return n?x.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):x.createElement("span",null,r)},vee=["date","className"],Cee=function(t,r,n,i,s){return t.filter(function(o){return fc(o,r,n,i,s)})},Mf=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,a){var u=r.props,d=u.events,p=u.components,f=u.selectable,g=u.getNow,v=u.selected,w=u.date,y=u.localizer,S=u.longPressThreshold,b=u.accessors,E=u.getters,P=u.showAllEvents,F=r.state,k=F.needLimitMeasure,A=F.rowLimit,T=Cee(zh(d),o[0],o[o.length-1],b,y),I=hee(T,b,y);return x.createElement(gc,{key:a,ref:a===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:g,date:w,range:o,events:I,maxRows:P?1/0:A,selected:v,selectable:f,components:p,accessors:b,getters:E,localizer:y,renderHeader:r.readerDateHeading,renderForMeasure:k,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:S,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:P})},r.readerDateHeading=function(o){var a=o.date,u=o.className,d=vi(o,vee),p=r.props,f=p.date,g=p.getDrilldownView,v=p.localizer,w=v.neq(a,f,"month"),y=v.isSameDate(a,f),S=g(a),b=v.format(a,"dateFormat"),E=r.props.components.dateHeader||mee;return x.createElement("div",Object.assign({},d,{className:It(u,w&&"rbc-off-range",y&&"rbc-current"),role:"cell"}),x.createElement(E,{label:b,date:a,drilldownView:S,isOffRange:w,onDrillDown:function(F){return r.handleHeadingClick(a,S,F)}}))},r.handleSelectSlot=function(o,a){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(a)})},r.handleHeadingClick=function(o,a,u){u.preventDefault(),r.clearSelection(),mt(r.props.onDrillDown,[o,a])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onDoubleClickEvent,a)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onKeyPressEvent,a)},r.handleShowMore=function(o,a,u,d,p){var f=r.props,g=f.popup,v=f.onDrillDown,w=f.onShowMore,y=f.getDrilldownView,S=f.doShowMoreDrillDown;if(r.clearSelection(),g){var b=ML(u,r.containerRef.current);r.setState({overlay:{date:a,events:o,position:b,target:p}})}else S&&mt(v,[a,y(a)||Dr.DAY]);mt(w,[o,a,d])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=D.createRef(),r.slotRowRef=D.createRef(),r._bgRows=[],r._pendingSelection=[],r}return vr(t,e),Qt(t,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||TL(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,s=n.localizer,o=n.className,a=s.visibleDays(i,s),u=Z8(a,7);return this._weekCount=u.length,x.createElement("div",{className:It("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},x.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(u[0])),u.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,s=i.localizer,o=i.components,a=n[0],u=n[n.length-1],d=o.header||_b;return s.range(a,u,"day").map(function(p,f){return x.createElement("div",{key:"header_"+f,className:"rbc-header"},x.createElement(d,{date:p,localizer:s,label:s.format(p,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,s=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},a=this.props,u=a.accessors,d=a.localizer,p=a.components,f=a.getters,g=a.selected,v=a.popupOffset,w=a.handleDragStart,y=function(){return s.setState({overlay:null})};return x.createElement(Lb,{overlay:o,accessors:u,localizer:d,components:p,getters:f,selected:g,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,u){return+a-+u});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),mt(this.props.onSelectSlot,{slots:i,start:s,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var s=n.date,o=n.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(x.Component);Mf.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),i=r.lastVisibleDay(e,r);return{start:n,end:i}};Mf.navigate=function(e,t,r){var n=r.localizer;switch(t){case Vr.PREVIOUS:return n.add(e,-1,"month");case Vr.NEXT:return n.add(e,1,"month");default:return e}};Mf.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Bk=function(t){var r=t.min,n=t.max,i=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(s)};function Nb(e){for(var t=e.min,r=e.max,n=e.step,i=e.timeslots,s=e.localizer,o=Bk({start:t,end:r,step:n,timeslots:i,localizer:s}),a=1+s.getTotalMin(t,r),u=s.getMinutesFromMidnight(t),d=Math.ceil((a-1)/(n*i)),p=d*i,f=new Array(d),g=new Array(p),v=0;v<d;v++){f[v]=new Array(i);for(var w=0;w<i;w++){var y=v*i+w,S=y*n;g[y]=f[v][w]=s.getSlotDate(t,u,S)}}var b=g.length*n;g.push(s.getSlotDate(t,u,b));function E(P){var F=s.diff(t,P,"minutes")+s.getDstOffset(t,P);return Math.min(F,a)}return{groups:f,update:function(F){return Bk(F)!==o?Nb(F):this},dateIsInGroup:function(F,k){var A=f[k+1];return s.inRange(F,f[k][0],A?A[0]:r,"minutes")},nextSlot:function(F){var k=g[Math.min(g.findIndex(function(A){return A===F||s.eq(A,F)})+1,g.length-1)];return s.eq(k,F)&&(k=s.add(F,n,"minutes")),k},closestSlotToPosition:function(F){var k=Math.min(g.length-1,Math.max(0,Math.floor(F*p)));return g[k]},closestSlotFromPoint:function(F,k){var A=Math.abs(k.top-k.bottom);return this.closestSlotToPosition((F.y-k.top)/A)},closestSlotFromDate:function(F){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(F,t,"minutes"))return g[0];if(s.gt(F,r,"minutes"))return g[g.length-1];var A=s.diff(t,F,"minutes");return g[(A-A%n)/n+k]},startsBeforeDay:function(F){return s.lt(F,t,"day")},startsAfterDay:function(F){return s.gt(F,r,"day")},startsBefore:function(F){return s.lt(s.merge(t,F),t,"minutes")},startsAfter:function(F){return s.gt(s.merge(r,F),r,"minutes")},getRange:function(F,k,A,T){A||(F=s.min(r,s.max(t,F))),T||(k=s.min(r,s.max(t,k)));var I=E(F),L=E(k),H=L>n*p&&!s.eq(r,k)?(I-n)/(n*p)*100:I/(n*p)*100;return{top:H,height:L/(n*p)*100-H,start:E(F),startDate:F,end:E(k),endDate:k}},getCurrentTimePosition:function(F){var k=E(F),A=k/(n*p)*100;return A}}}var wee=function(){function e(t,r){var n=r.accessors,i=r.slotMetrics;Kt(this,e);var s=i.getRange(n.start(t),n.end(t)),o=s.start,a=s.startDate,u=s.end,d=s.endDate,p=s.top,f=s.height;this.start=o,this.end=u,this.startMs=+a,this.endMs=+d,this.top=p,this.height=f,this.data=t}return Qt(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,s=r._width,o=n.indexOf(this)+1;return i+o*s}}])}();function yee(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function See(e){for(var t=MJ(e,["startMs",function(a){return-a.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var i=0;i<t.length;i++){var s=t[i];if(!(n.endMs>s.startMs)){if(i>0){var o=t.splice(i,1)[0];r.push(o)}break}}}return r}function S_(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,s=t.map(function(p){return new wee(p,{slotMetrics:n,accessors:i})}),o=See(s),a=[],u=function(){var f=o[d],g=a.find(function(y){return y.end>f.start||Math.abs(f.start-y.start)<r});if(!g)return f.rows=[],a.push(f),1;f.container=g;for(var v=null,w=g.rows.length-1;!v&&w>=0;w--)yee(g.rows[w],f,r)&&(v=g.rows[w]);v?(v.leaves.push(f),f.row=v):(f.leaves=[],g.rows.push(f))},d=0;d<o.length;d++)u();return o.map(function(p){return{event:p.data,style:{top:p.top,height:p.height,width:p.width,xOffset:Math.max(0,p.xOffset)}}})}function R_(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var i=R_(e.friends[n],t,r);t=t>i?t:i}return t}function Ree(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,s=S_({events:t,minimumStartDifference:r,slotMetrics:n,accessors:i});s.sort(function(se,X){return se=se.style,X=X.style,se.top!==X.top?se.top>X.top?1:-1:se.height!==X.height?se.top+se.height<X.top+X.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var u=s[a],d=u.style.top,p=u.style.top+u.style.height,f=a+1;f<s.length;++f){var g=s[f],v=g.style.top,w=g.style.top+g.style.height;(v>=d&&w<=p||w>d&&w<=p||v>=d&&v<p)&&(u.friends.push(g),g.friends.push(u))}for(var y=0;y<s.length;++y){for(var S=s[y],b=[],E=0;E<100;++E)b.push(1);for(var P=0;P<S.friends.length;++P)S.friends[P].idx!==void 0&&(b[S.friends[P].idx]=0);S.idx=b.indexOf(1)}for(var F=0;F<s.length;++F){var k=0;if(!s[F].size){var A=[],T=R_(s[F],0,A);k=100/(T+1),s[F].size=k;for(var I=0;I<A.length;++I)A[I].size=k}}for(var L=0;L<s.length;++L){var H=s[L];H.style.left=H.idx*H.size;for(var G=0,V=0;V<H.friends.length;++V){var $=H.friends[V].idx;G=G>$?G:$}G<=H.idx&&(H.size=100-H.idx*H.size);var te=H.idx===0?0:3;H.style.width="calc(".concat(H.size,"% - ").concat(te,"px)"),H.style.height="calc(".concat(H.style.height,"% - 2px)"),H.style.xOffset="calc(".concat(H.style.left,"% + ").concat(te,"px)")}return s}var Vk={overlap:S_,"no-overlap":Ree};function bee(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Dee(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in Vk&&(r=Vk[t]),bee(r)?r.apply(this,arguments):[]}var b_=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,s=n.resource,o=n.group,a=n.getters,u=n.components,d=u===void 0?{}:u,p=d.timeSlotWrapper,f=p===void 0?_i:p,g=a?a.slotGroupProp(o):{};return x.createElement("div",Object.assign({className:"rbc-timeslot-group"},g),o.map(function(v,w){var y=a?a.slotProp(v,s):{};return x.createElement(f,{key:w,value:v,resource:s},x.createElement("div",Object.assign({},y,{className:It("rbc-time-slot",y.className)}),i&&i(v,w)))}))}}])}(D.Component);function Dh(e){return typeof e=="string"?e:e+"%"}function Eee(e){var t=e.style,r=e.className,n=e.event,i=e.accessors,s=e.rtl,o=e.selected,a=e.label,u=e.continuesPrior,d=e.continuesAfter,p=e.getters,f=e.onClick,g=e.onDoubleClick,v=e.isBackgroundEvent,w=e.onKeyPress,y=e.components,S=y.event,b=y.eventWrapper,E=i.title(n),P=i.tooltip(n),F=i.end(n),k=i.start(n),A=p.eventProp(n,k,F,o),T=[x.createElement("div",{key:"1",className:"rbc-event-label"},a),x.createElement("div",{key:"2",className:"rbc-event-content"},S?x.createElement(S,{event:n,title:E}):E)],I=t.height,L=t.top,H=t.width,G=t.xOffset,V=lt(lt({},A.style),{},Do({top:Dh(L),height:Dh(I),width:Dh(H)},s?"right":"left",Dh(G)));return x.createElement(b,Object.assign({type:"time"},e),x.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:g,style:V,onKeyDown:w,title:P?(typeof a=="string"?a+": ":"")+P:void 0,className:It(v?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":o,"rbc-event-continues-earlier":u,"rbc-event-continues-later":d})},T))}var Pee=function(t){var r=t.children,n=t.className,i=t.style,s=t.innerRef;return x.createElement("div",{className:n,style:i,ref:s},r)},Fee=x.forwardRef(function(e,t){return x.createElement(Pee,Object.assign({},e,{innerRef:t}))}),xee=["dayProp"],Mee=["eventContainerWrapper"],D_=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var a=o.events,u=o.isBackgroundEvent,d=r.props,p=d.rtl,f=d.selected,g=d.accessors,v=d.localizer,w=d.getters,y=d.components,S=d.step,b=d.timeslots,E=d.dayLayoutAlgorithm,P=d.resizable,F=r,k=F.slotMetrics,A=v.messages,T=Dee({events:a,accessors:g,slotMetrics:k,minimumStartDifference:Math.ceil(S*b/2),dayLayoutAlgorithm:E});return T.map(function(I,L){var H=I.event,G=I.style,V=g.end(H),$=g.start(H),te="eventTimeRangeFormat",se,X=k.startsBeforeDay($),Z=k.startsAfterDay(V);X?te="eventTimeRangeEndFormat":Z&&(te="eventTimeRangeStartFormat"),X&&Z?se=A.allDay:se=v.format({start:$,end:V},te);var z=X||k.startsBefore($),ne=Z||k.startsAfter(V);return x.createElement(Eee,{style:G,event:H,label:se,key:"evt_"+L,getters:w,rtl:p,components:y,continuesPrior:z,continuesAfter:ne,accessors:g,resource:r.props.resource,selected:xf(H,f),onClick:function(O){return r._select(lt(lt(lt({},H),r.props.resource&&{sourceResource:r.props.resource}),u&&{isBackgroundEvent:!0}),O)},onDoubleClick:function(O){return r._doubleClick(H,O)},isBackgroundEvent:u,onKeyPress:function(O){return r._keyPress(H,O)},resizable:P})})},r._selectable=function(){var o=r.containerRef.current,a=r.props,u=a.longPressThreshold,d=a.localizer,p=r._selector=new f_(function(){return o},{longPressThreshold:u}),f=function(y){var S=r.props.onSelecting,b=r.state||{},E=g(y),P=E.startDate,F=E.endDate;S&&(d.eq(b.startDate,P,"minutes")&&d.eq(b.endDate,F,"minutes")||S({start:P,end:F,resourceId:r.props.resource})===!1)||(r.state.start!==E.start||r.state.end!==E.end||r.state.selecting!==E.selecting)&&r.setState(E)},g=function(y){var S=r.slotMetrics.closestSlotFromPoint(y,Xo(o));r.state.selecting||(r._initialSlot=S);var b=r._initialSlot;d.lte(b,S)?S=r.slotMetrics.nextSlot(S):d.gt(b,S)&&(b=r.slotMetrics.nextSlot(b));var E=r.slotMetrics.getRange(d.min(b,S),d.max(b,S));return lt(lt({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},v=function(y,S){if(!Gp(r.containerRef.current,y)){var b=g(y),E=b.startDate,P=b.endDate;r._selectSlot({startDate:E,endDate:P,action:S,box:y})}r.setState({selecting:!1})};p.on("selecting",f),p.on("selectStart",f),p.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!Gp(r.containerRef.current,w)}),p.on("click",function(w){return v(w,"click")}),p.on("doubleClick",function(w){return v(w,"doubleClick")}),p.on("select",function(w){r.state.selecting&&(r._selectSlot(lt(lt({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),p.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var a=o.startDate,u=o.endDate,d=o.action,p=o.bounds,f=o.box,g=a,v=[];r.props.localizer.lte(g,u);)v.push(g),g=new Date(+g+r.props.step*60*1e3);mt(r.props.onSelectSlot,{slots:v,start:a,end:u,resourceId:r.props.resource,action:d,bounds:p,box:f})},r._select=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onSelectEvent,a)},r._doubleClick=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onDoubleClickEvent,a)},r._keyPress=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onKeyPressEvent,a)},r.slotMetrics=Nb(r.props),r.containerRef=D.createRef(),r}return vr(t,e),Qt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,u=s.localizer,d=s.date,p=s.min,f=s.max,g=u.neq(n.getNow(),o(),"minutes");if(n.isNow!==a||g){if(this.clearTimeIndicatorInterval(),a){var v=!g&&u.eq(n.date,d,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else a&&(u.neq(n.min,p,"minutes")||u.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,s=n.max,o=n.getNow,a=o();if(a>=i&&a<=s){var u=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:u})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,s=n.max,o=n.rtl,a=n.isNow,u=n.resource,d=n.accessors,p=n.localizer,f=n.getters,g=f.dayProp,v=vi(f,xee),w=n.components,y=w.eventContainerWrapper,S=vi(w,Mee);this.slotMetrics=this.slotMetrics.update(this.props);var b=this.slotMetrics,E=this.state,P=E.selecting,F=E.top,k=E.height,A=E.startDate,T=E.endDate,I={start:A,end:T},L=g(s,u),H=L.className,G=L.style,V=S.dayColumnWrapper||Fee;return x.createElement(V,{ref:this.containerRef,date:i,style:G,className:It(H,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",P&&"rbc-slot-selecting"),slotMetrics:b,resource:u},b.groups.map(function($,te){return x.createElement(b_,{key:te,group:$,resource:u,getters:v,components:S})}),x.createElement(y,{localizer:p,resource:u,accessors:d,getters:v,components:S,slotMetrics:b},x.createElement("div",{className:It("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),P&&x.createElement("div",{className:"rbc-slot-selection",style:{top:F,height:k}},x.createElement("span",null,p.format(I,"selectRangeFormat"))),a&&this.intervalTriggered&&x.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(x.Component);D_.defaultProps={dragThroughEvents:!0,timeslots:2};var E_=function(t){var r=t.label;return x.createElement(x.Fragment,null,r)},Tee=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.handleHeaderClick=function(o,a,u){u.preventDefault(),mt(r.props.onDrillDown,[o,a])},r.renderRow=function(o){var a=r.props,u=a.events,d=a.rtl,p=a.selectable,f=a.getNow,g=a.range,v=a.getters,w=a.localizer,y=a.accessors,S=a.components,b=a.resizable,E=y.resourceId(o),P=o?u.filter(function(F){return y.resource(F)===E}):u;return x.createElement(gc,{isAllDay:!0,rtl:d,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:g,events:P,resourceId:E,className:"rbc-allday-cell",selectable:p,selected:r.props.selected,components:S,accessors:y,getters:v,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return vr(t,e),Qt(t,[{key:"renderHeaderCells",value:function(n){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,u=s.getNow,d=s.getters.dayProp,p=s.components.header,f=p===void 0?_b:p,g=u();return n.map(function(v,w){var y=a(v),S=o.format(v,"dayFormat"),b=d(v),E=b.className,P=b.style,F=x.createElement(f,{date:v,label:S,localizer:o});return x.createElement("div",{key:w,style:P,className:It("rbc-header",E,o.isSameDate(v,g)&&"rbc-today")},y?x.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return i.handleHeaderClick(v,y,A)}},F):x.createElement("span",null,F))})}},{key:"render",value:function(){var n=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,u=i.range,d=i.events,p=i.getNow,f=i.accessors,g=i.selectable,v=i.components,w=i.getters,y=i.scrollRef,S=i.localizer,b=i.isOverflowing,E=i.components,P=E.timeGutterHeader,F=E.resourceHeader,k=F===void 0?E_:F,A=i.resizable,T={};b&&(T[o?"marginLeft":"marginRight"]="".concat(mb()-1,"px"));var I=a.groupEvents(d);return x.createElement("div",{style:T,ref:y,className:It("rbc-time-header",b&&"rbc-overflowing")},x.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},P&&x.createElement(P,null)),a.map(function(L,H){var G=gn(L,2),V=G[0],$=G[1];return x.createElement("div",{className:"rbc-time-header-content",key:V||H},$&&x.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(H)},x.createElement("div",{className:"rbc-header"},x.createElement(k,{index:H,label:f.resourceTitle($),resource:$}))),x.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(u.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(u)),x.createElement(gc,{isAllDay:!0,rtl:o,getNow:p,minRows:2,maxRows:n.props.allDayMaxRows+1,range:u,events:I.get(V)||[],resourceId:$&&V,className:"rbc-allday-cell",selectable:g,selected:n.props.selected,components:v,accessors:f,getters:w,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(x.Component),kee=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.handleHeaderClick=function(o,a,u){u.preventDefault(),mt(r.props.onDrillDown,[o,a])},r}return vr(t,e),Qt(t,[{key:"renderHeaderCells",value:function(n){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,u=s.getNow,d=s.getters.dayProp,p=s.components,f=p.header,g=f===void 0?_b:f,v=p.resourceHeader,w=v===void 0?E_:v,y=s.resources,S=s.accessors,b=s.events,E=s.rtl,P=s.selectable,F=s.components,k=s.getters,A=s.resizable,T=u(),I=y.groupEvents(b);return n.map(function(L,H){var G=a(L),V=o.format(L,"dayFormat"),$=d(L),te=$.className,se=$.style,X=x.createElement(g,{date:L,label:V,localizer:o});return x.createElement("div",{key:H,className:"rbc-time-header-content rbc-resource-grouping"},x.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},x.createElement("div",{style:se,className:It("rbc-header",te,o.isSameDate(L,T)&&"rbc-today")},G?x.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(L,G,z)}},X):x.createElement("span",null,X))),x.createElement("div",{className:"rbc-row"},y.map(function(Z,z){var ne=gn(Z,2),re=ne[0],O=ne[1];return x.createElement("div",{key:"resource_".concat(re,"_").concat(z),className:It("rbc-header",te,o.isSameDate(L,T)&&"rbc-today")},x.createElement(w,{index:z,label:S.resourceTitle(O),resource:O}))})),x.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},y.map(function(Z,z){var ne=gn(Z,2),re=ne[0],O=ne[1],N=(I.get(re)||[]).filter(function(J){return o.isSameDate(J.start,L)||o.isSameDate(J.end,L)});return x.createElement(gc,{key:"resource_".concat(re,"_").concat(z),isAllDay:!0,rtl:E,getNow:u,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[L],events:N,resourceId:O&&re,className:"rbc-allday-cell",selectable:P,selected:i.props.selected,components:F,accessors:S,getters:k,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,s=n.rtl,o=n.range,a=n.scrollRef,u=n.isOverflowing,d=n.components.timeGutterHeader,p={};return u&&(p[s?"marginLeft":"marginRight"]="".concat(mb()-1,"px")),x.createElement("div",{style:p,ref:a,className:It("rbc-time-header",u&&"rbc-overflowing")},x.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},d&&x.createElement(d,null)),this.renderHeaderCells(o))}}])}(x.Component);function Aee(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Oee=function(t){var r=t.min,n=t.max,i=t.timeslots,s=t.step,o=t.localizer,a=t.getNow,u=t.resource,d=t.components,p=t.getters,f=t.gutterRef,g=d.timeGutterWrapper,v=D.useMemo(function(){return Aee({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),w=v.start,y=v.end,S=D.useState(Nb({min:w,max:y,timeslots:i,step:s,localizer:o})),b=gn(S,2),E=b[0],P=b[1];D.useEffect(function(){E&&P(E.update({min:w,max:y,timeslots:i,step:s,localizer:o}))},[w==null?void 0:w.toISOString(),y==null?void 0:y.toISOString(),i,s]);var F=D.useCallback(function(k,A){if(A)return null;var T=E.dateIsInGroup(a(),A);return x.createElement("span",{className:It("rbc-label",T&&"rbc-now")},o.format(k,"timeGutterFormat"))},[E,o,a]);return x.createElement(g,{slotMetrics:E},x.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},E.groups.map(function(k,A){return x.createElement(b_,{key:A,group:k,resource:u,components:d,renderSlot:F,getters:p})})))},Iee=x.forwardRef(function(e,t){return x.createElement(Oee,Object.assign({gutterRef:t},e))}),Yy={};function Lee(e,t){return{map:function(n){return e?e.map(function(i,s){return n([t.resourceId(i),i],s)}):[n([Yy,null],0)]},groupEvents:function(n){var i=new Map;return e?(n.forEach(function(s){var o=t.resource(s)||Yy;if(Array.isArray(o))o.forEach(function(u){var d=i.get(u)||[];d.push(s),i.set(u,d)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(Yy,n),i)}}}var El=function(e){function t(r){var n;return Kt(this,t),n=mr(this,t,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){tx(n.rafHandle),n.rafHandle=TL(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];mt(n.props.onKeyPressEvent,s)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];mt(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];mt(n.props.onDoubleClickEvent,s)},n.handleShowMore=function(i,s,o,a,u){var d=n.props,p=d.popup,f=d.onDrillDown,g=d.onShowMore,v=d.getDrilldownView,w=d.doShowMoreDrillDown;if(n.clearSelection(),p){var y=ML(o,n.containerRef.current);n.setState({overlay:{date:s,events:i,position:lt(lt({},y),{},{width:"200px"}),target:u}})}else w&&mt(f,[s,v(s)||Dr.DAY]);mt(g,[i,s,a])},n.handleSelectAllDaySlot=function(i,s){var o=n.props.onSelectSlot,a=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),mt(o,{slots:i,start:a,end:u,action:s.action,resourceId:s.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==s&&(n._updatingOverflow=!0,n.setState({isOverflowing:s},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=QL(function(i,s){return Lee(i,s)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=x.createRef(),n.contentRef=x.createRef(),n.containerRef=x.createRef(),n._scrollRatio=null,n.gutterRef=D.createRef(),n}return vr(t,e),Qt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),tx(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,s,o,a,u,d,p,f,g){var v=this.props,w=v.min,y=v.max,S=(o.get(i)||[]).filter(function(E){return u.inRange(n,d.start(E),d.end(E),"day")}),b=(a.get(i)||[]).filter(function(E){return u.inRange(n,d.start(E),d.end(E),"day")});return x.createElement(D_,Object.assign({},this.props,{localizer:u,min:u.merge(n,w),max:u.merge(n,y),resource:s&&i,components:p,isNow:u.isSameDate(n,g),key:"".concat(i,"-").concat(n),date:n,events:S,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,s,o,a,u,d,p,f){var g=this;return i.map(function(v){var w=gn(v,2),y=w[0],S=w[1];return n.map(function(b){return g.renderDayColumn(b,y,S,s,o,a,u,p,f,d)})})}},{key:"renderRangeFirst",value:function(n,i,s,o,a,u,d,p,f){var g=this;return n.map(function(v){return x.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:v},i.map(function(w){var y=gn(w,2),S=y[0],b=y[1];return x.createElement("div",{style:{flex:1},key:u.resourceId(b)},g.renderDayColumn(v,S,b,s,o,a,u,p,f,d))}))})}},{key:"renderEvents",value:function(n,i,s,o){var a=this.props,u=a.accessors,d=a.localizer,p=a.resourceGroupingLayout,f=a.components,g=a.dayLayoutAlgorithm,v=this.memoizedResources(this.props.resources,u),w=v.groupEvents(i),y=v.groupEvents(s);return p?this.renderRangeFirst(n,v,w,y,d,u,o,f,g):this.renderResourcesFirst(n,v,w,y,d,u,o,f,g)}},{key:"render",value:function(){var n,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,u=i.width,d=i.rtl,p=i.selected,f=i.getNow,g=i.resources,v=i.components,w=i.accessors,y=i.getters,S=i.localizer,b=i.min,E=i.max,P=i.showMultiDayTimes,F=i.longPressThreshold,k=i.resizable,A=i.resourceGroupingLayout;u=u||this.state.gutterWidth;var T=a[0],I=a[a.length-1];this.slots=a.length;var L=[],H=[],G=[];s.forEach(function($){if(fc($,T,I,w,S)){var te=w.start($),se=w.end($);w.allDay($)||S.startAndEndAreDateOnly(te,se)||!P&&!S.isSameDate(te,se)?L.push($):H.push($)}}),o.forEach(function($){fc($,T,I,w,S)&&G.push($)}),L.sort(function($,te){return WS($,te,w,S)});var V={range:a,events:L,width:u,rtl:d,getNow:f,localizer:S,selected:p,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(g,w),selectable:this.props.selectable,accessors:w,getters:y,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:k};return x.createElement("div",{className:It("rbc-time-view",g&&"rbc-time-view-resources"),ref:this.containerRef},g&&g.length>1&&A?x.createElement(kee,V):x.createElement(Tee,V),this.props.popup&&this.renderOverlay(),x.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},x.createElement(Iee,{date:T,ref:this.gutterRef,localizer:S,min:S.merge(T,b),max:S.merge(T,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:y}),this.renderEvents(a,H,G,f())))}},{key:"renderOverlay",value:function(){var n,i,s=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},a=this.props,u=a.accessors,d=a.localizer,p=a.components,f=a.getters,g=a.selected,v=a.popupOffset,w=a.handleDragStart,y=function(){return s.setState({overlay:null})};return x.createElement(Lb,{overlay:o,accessors:u,localizer:d,components:p,getters:f,selected:g,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=n.gutterRef)!==null&&i!==void 0&&i.current?GS(n.gutterRef.current):void 0;s&&n.state.gutterWidth!==s&&n.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,s=n.max,o=n.scrollToTime,a=n.localizer,u=a.diff(a.merge(o,i),o,"milliseconds"),d=a.diff(i,s,"milliseconds");this._scrollRatio=u/d}}])}(D.Component);El.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var _ee=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Tf=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.date,s=n.localizer,o=n.min,a=o===void 0?s.startOf(new Date,"day"):o,u=n.max,d=u===void 0?s.endOf(new Date,"day"):u,p=n.scrollToTime,f=p===void 0?s.startOf(new Date,"day"):p,g=n.enableAutoScroll,v=g===void 0?!0:g,w=vi(n,_ee),y=t.range(i,{localizer:s});return x.createElement(El,Object.assign({},w,{range:y,eventOffset:10,localizer:s,min:a,max:d,scrollToTime:f,enableAutoScroll:v}))}}])}(x.Component);Tf.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Tf.navigate=function(e,t,r){var n=r.localizer;switch(t){case Vr.PREVIOUS:return n.add(e,-1,"day");case Vr.NEXT:return n.add(e,1,"day");default:return e}};Tf.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Nee=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ks=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.date,s=n.localizer,o=n.min,a=o===void 0?s.startOf(new Date,"day"):o,u=n.max,d=u===void 0?s.endOf(new Date,"day"):u,p=n.scrollToTime,f=p===void 0?s.startOf(new Date,"day"):p,g=n.enableAutoScroll,v=g===void 0?!0:g,w=vi(n,Nee),y=t.range(i,this.props);return x.createElement(El,Object.assign({},w,{range:y,eventOffset:15,localizer:s,min:a,max:d,scrollToTime:f,enableAutoScroll:v}))}}])}(x.Component);Ks.defaultProps=El.defaultProps;Ks.navigate=function(e,t,r){var n=r.localizer;switch(t){case Vr.PREVIOUS:return n.add(e,-1,"week");case Vr.NEXT:return n.add(e,1,"week");default:return e}};Ks.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),i=r.startOf(e,"week",n),s=r.endOf(e,"week",n);return r.range(i,s)};Ks.title=function(e,t){var r=t.localizer,n=Ks.range(e,{localizer:r}),i=r_(n),s=i[0],o=i.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Gee=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Gb(e,t){return Ks.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Uc=function(e){function t(){return Kt(this,t),mr(this,t,arguments)}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.date,s=n.localizer,o=n.min,a=o===void 0?s.startOf(new Date,"day"):o,u=n.max,d=u===void 0?s.endOf(new Date,"day"):u,p=n.scrollToTime,f=p===void 0?s.startOf(new Date,"day"):p,g=n.enableAutoScroll,v=g===void 0?!0:g,w=vi(n,Gee),y=Gb(i,this.props);return x.createElement(El,Object.assign({},w,{range:y,eventOffset:15,localizer:s,min:a,max:d,scrollToTime:f,enableAutoScroll:v}))}}])}(x.Component);Uc.defaultProps=El.defaultProps;Uc.range=Gb;Uc.navigate=Ks.navigate;Uc.title=function(e,t){var r=t.localizer,n=Gb(e,{localizer:r}),i=r_(n),s=i[0],o=i.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var kf=30;function Af(e){var t=e.accessors,r=e.components,n=e.date,i=e.events,s=e.getters,o=e.length,a=o===void 0?kf:o,u=e.localizer,d=e.onDoubleClickEvent,p=e.onSelectEvent,f=e.selected,g=D.useRef(null),v=D.useRef(null),w=D.useRef(null),y=D.useRef(null),S=D.useRef(null);D.useEffect(function(){P()});var b=function(I,L,H){var G=r.event,V=r.date;return L=L.filter(function($){return fc($,u.startOf(I,"day"),u.endOf(I,"day"),t,u)}),L.map(function($,te){var se=t.title($),X=t.end($),Z=t.start($),z=s.eventProp($,Z,X,xf($,f)),ne=te===0&&u.format(I,"agendaDateFormat"),re=te===0?x.createElement("td",{rowSpan:L.length,className:"rbc-agenda-date-cell"},V?x.createElement(V,{day:I,label:ne}):ne):!1;return x.createElement("tr",{key:H+"_"+te,className:z.className,style:z.style},re,x.createElement("td",{className:"rbc-agenda-time-cell"},E(I,$)),x.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(N){return p&&p($,N)},onDoubleClick:function(N){return d&&d($,N)}},G?x.createElement(G,{event:$,title:se}):se))},[])},E=function(I,L){var H="",G=r.time,V=u.messages.allDay,$=t.end(L),te=t.start(L);return t.allDay(L)||(u.eq(te,$)?V=u.format(te,"agendaTimeFormat"):u.isSameDate(te,$)?V=u.format({start:te,end:$},"agendaTimeRangeFormat"):u.isSameDate(I,te)?V=u.format(te,"agendaTimeFormat"):u.isSameDate(I,$)&&(V=u.format($,"agendaTimeFormat"))),u.gt(I,te,"day")&&(H="rbc-continues-prior"),u.lt(I,$,"day")&&(H+=" rbc-continues-after"),x.createElement("span",{className:H.trim()},G?x.createElement(G,{event:L,day:I,label:V}):V)},P=function(){if(S.current){var I=g.current,L=S.current.firstChild;if(L){var H=y.current.scrollHeight>y.current.clientHeight,G=[],V=G;G=[GS(L.children[0]),GS(L.children[1])],(V[0]!==G[0]||V[1]!==G[1])&&(v.current.style.width=G[0]+"px",w.current.style.width=G[1]+"px"),H?(W7(I,"rbc-header-overflowing"),I.style.marginRight=mb()+"px"):B7(I,"rbc-header-overflowing")}}},F=u.messages,k=u.add(n,a,"day"),A=u.range(n,k,"day");return i=i.filter(function(T){return fc(T,u.startOf(n,"day"),u.endOf(k,"day"),t,u)}),i.sort(function(T,I){return+t.start(T)-+t.start(I)}),x.createElement("div",{className:"rbc-agenda-view"},i.length!==0?x.createElement(x.Fragment,null,x.createElement("table",{ref:g,className:"rbc-agenda-table"},x.createElement("thead",null,x.createElement("tr",null,x.createElement("th",{className:"rbc-header",ref:v},F.date),x.createElement("th",{className:"rbc-header",ref:w},F.time),x.createElement("th",{className:"rbc-header"},F.event)))),x.createElement("div",{className:"rbc-agenda-content",ref:y},x.createElement("table",{className:"rbc-agenda-table"},x.createElement("tbody",{ref:S},A.map(function(T,I){return b(T,i,I)}))))):x.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}Af.range=function(e,t){var r=t.length,n=r===void 0?kf:r,i=t.localizer,s=i.add(e,n,"day");return{start:e,end:s}};Af.navigate=function(e,t,r){var n=r.length,i=n===void 0?kf:n,s=r.localizer;switch(t){case Vr.PREVIOUS:return s.add(e,-i,"day");case Vr.NEXT:return s.add(e,i,"day");default:return e}};Af.title=function(e,t){var r=t.length,n=r===void 0?kf:r,i=t.localizer,s=i.add(e,n,"day");return i.format({start:e,end:s},"agendaHeaderFormat")};var Jh=Do(Do(Do(Do(Do({},Dr.MONTH,Mf),Dr.WEEK,Ks),Dr.WORK_WEEK,Uc),Dr.DAY,Tf),Dr.AGENDA,Af),Hee=["action","date","today"];function Wee(e,t){var r=t.action,n=t.date,i=t.today,s=vi(t,Hee);switch(e=typeof e=="string"?Jh[e]:e,r){case Vr.TODAY:n=i||new Date;break;case Vr.DATE:break;default:rc(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,s)}return n}function Bee(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&rs(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Os=function(t){return function(r){return Bee(r,t)}},Vee=["view","date","getNow","onNavigate"],zee=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function P_(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var i=gn(n[r],2),s=i[0],o=i[1];o&&t.push(s)}return t}function Uee(e,t){var r=t.views,n=P_(r);return n.indexOf(e)!==-1}var F_=function(e){function t(){var r;Kt(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mr(this,t,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?fZ(o,function(a,u){return a[u]=Jh[u]},{}):rs(o)==="object"?NJ(o,function(a,u){return a===!0?Jh[u]:a}):Jh},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var a=r.props,u=a.view,d=a.drilldownView,p=a.getDrilldownView;return p?p(o,u,Object.keys(r.getViews())):d},r.handleRangeChange=function(o,a,u){var d=r.props,p=d.onRangeChange,f=d.localizer;p&&a.range&&p(a.range(o,{localizer:f}),u)},r.handleNavigate=function(o,a){var u=r.props,d=u.view,p=u.date,f=u.getNow,g=u.onNavigate,v=vi(u,Vee),w=r.getView(),y=f();p=Wee(w,lt(lt({},v),{},{action:o,date:a||p||y,today:y})),g(p,d,o),r.handleRangeChange(p,w)},r.handleViewChange=function(o){o!==r.props.view&&Uee(o,r.props)&&r.props.onView(o);var a=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),a[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onDoubleClickEvent,a)},r.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];mt(r.props.onKeyPressEvent,a)},r.handleSelectSlot=function(o){mt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,a){var u=r.props.onDrillDown;if(u){u(o,a,r.drilldownView);return}a&&r.handleViewChange(a),r.handleNavigate(Vr.DATE,o)},r.state={context:t.getContext(r.props)},r}return vr(t,e),Qt(t,[{key:"render",value:function(){var n=this.props,i=n.view,s=n.toolbar,o=n.events,a=n.backgroundEvents,u=n.resourceGroupingLayout,d=n.style,p=n.className,f=n.elementProps,g=n.date,v=n.getNow,w=n.length,y=n.showMultiDayTimes,S=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var E=vi(n,zee);g=g||v();var P=this.getView(),F=this.state.context,k=F.accessors,A=F.components,T=F.getters,I=F.localizer,L=F.viewNames,H=A.toolbar||qZ,G=P.title(g,{localizer:I,length:w});return x.createElement("div",Object.assign({},f,{className:It(p,"rbc-calendar",E.rtl&&"rbc-rtl"),style:d}),s&&x.createElement(H,{date:g,view:i,views:L,label:G,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:I}),x.createElement(P,Object.assign({},E,{events:o,backgroundEvents:a,date:g,getNow:v,length:w,localizer:I,getters:T,components:A,accessors:k,showMultiDayTimes:y,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:b,resourceGroupingLayout:u})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,s=n.endAccessor,o=n.allDayAccessor,a=n.tooltipAccessor,u=n.titleAccessor,d=n.resourceAccessor,p=n.resourceIdAccessor,f=n.resourceTitleAccessor,g=n.eventPropGetter,v=n.backgroundEventPropGetter,w=n.slotPropGetter,y=n.slotGroupPropGetter,S=n.dayPropGetter,b=n.view,E=n.views,P=n.localizer,F=n.culture,k=n.messages,A=k===void 0?{}:k,T=n.components,I=T===void 0?{}:T,L=n.formats,H=L===void 0?{}:L,G=P_(E),V=KZ(A);return{viewNames:G,localizer:YZ(P,F,H,V),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return w&&w.apply(void 0,arguments)||{}},slotGroupProp:function(){return y&&y.apply(void 0,arguments)||{}},dayProp:function(){return S&&S.apply(void 0,arguments)||{}}},components:IJ(I[b]||{},dZ(I,G),{eventWrapper:_i,backgroundEventWrapper:_i,eventContainerWrapper:_i,dateCellWrapper:_i,weekWrapper:_i,timeSlotWrapper:_i,timeGutterWrapper:_i}),accessors:{start:Os(i),end:Os(s),allDay:Os(o),tooltip:Os(a),title:Os(u),resource:Os(d),resourceId:Os(p),resourceTitle:Os(f)}}}}])}(x.Component);F_.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Dr.MONTH,views:[Dr.MONTH,Dr.WEEK,Dr.DAY,Dr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Dr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var $ee=pL(F_,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Yee=function(t,r,n){var i=t.start,s=t.end;return n.format(i,"MMMM DD",r)+"  "+n.format(s,n.eq(i,s,"month")?"DD":"MMMM DD",r)},qee=function(t,r,n){var i=t.start,s=t.end;return n.format(i,"L",r)+"  "+n.format(s,"L",r)},qy=function(t,r,n){var i=t.start,s=t.end;return n.format(i,"LT",r)+"  "+n.format(s,"LT",r)},jee=function(t,r,n){var i=t.start;return n.format(i,"LT",r)+"  "},Kee=function(t,r,n){var i=t.end;return"  "+n.format(i,"LT",r)},Qee={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:qy,eventTimeRangeFormat:qy,eventTimeRangeStartFormat:jee,eventTimeRangeEndFormat:Kee,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Yee,agendaHeaderFormat:qee,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:qy};function Is(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Xee(e){var t=function(N,J){return J?N.locale(J):N};function r(O){return e(O).toDate().getTimezoneOffset()}function n(O,N){var J,K,ie=e(O).local(),de=e(N).local();if(!e.tz)return ie.toDate().getTimezoneOffset()-de.toDate().getTimezoneOffset();var Re=(J=ie==null||(K=ie._z)===null||K===void 0?void 0:K.name)!==null&&J!==void 0?J:e.tz.guess(),ye=e.tz.zone(Re).utcOffset(+ie),be=e.tz.zone(Re).utcOffset(+de);return ye-be}function i(O){var N=e(O).startOf("day");return n(N,O)}function s(O,N,J){var K=Is(J),ie=K?e(O).startOf(K):e(O),de=K?e(N).startOf(K):e(N);return[ie,de,K]}function o(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,J=Is(N);return J?e(O).startOf(J).toDate():e(O).toDate()}function a(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,J=Is(N);return J?e(O).endOf(J).toDate():e(O).toDate()}function u(O,N,J){var K=s(O,N,J),ie=gn(K,3),de=ie[0],Re=ie[1],ye=ie[2];return de.isSame(Re,ye)}function d(O,N,J){return!u(O,N,J)}function p(O,N,J){var K=s(O,N,J),ie=gn(K,3),de=ie[0],Re=ie[1],ye=ie[2];return de.isAfter(Re,ye)}function f(O,N,J){var K=s(O,N,J),ie=gn(K,3),de=ie[0],Re=ie[1],ye=ie[2];return de.isBefore(Re,ye)}function g(O,N,J){var K=s(O,N,J),ie=gn(K,3),de=ie[0],Re=ie[1],ye=ie[2];return de.isSameOrBefore(Re,ye)}function v(O,N,J){var K=s(O,N,J),ie=gn(K,3),de=ie[0],Re=ie[1],ye=ie[2];return de.isSameOrBefore(Re,ye)}function w(O,N,J){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ie=Is(K),de=e(O),Re=e(N),ye=e(J);return de.isBetween(Re,ye,ie,"[]")}function y(O,N){var J=e(O),K=e(N),ie=e.min(J,K);return ie.toDate()}function S(O,N){var J=e(O),K=e(N),ie=e.max(J,K);return ie.toDate()}function b(O,N){if(!O&&!N)return null;var J=e(N).format("HH:mm:ss"),K=e(O).startOf("day").format("MM/DD/YYYY");return e("".concat(K," ").concat(J),"MM/DD/YYYY HH:mm:ss").toDate()}function E(O,N,J){var K=Is(J);return e(O).add(N,K).toDate()}function P(O,N){for(var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",K=Is(J),ie=e(O).toDate(),de=[];v(ie,N);)de.push(ie),ie=E(ie,1,K);return de}function F(O,N){var J=Is(N),K=o(O,J);return u(K,O)?K:E(K,1,J)}function k(O,N){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",K=Is(J),ie=e(O),de=e(N);return de.diff(ie,K)}function A(O){var N=e(O);return N.minutes()}function T(O){var N=O?e.localeData(O):e.localeData();return N?N.firstDayOfWeek():0}function I(O){return e(O).startOf("month").startOf("week").toDate()}function L(O){return e(O).endOf("month").endOf("week").toDate()}function H(O){for(var N=I(O),J=L(O),K=[];v(N,J);)K.push(N),N=E(N,1,"d");return K}function G(O,N,J){return e(O).startOf("day").minute(N+J).toDate()}function V(O,N){return k(O,N,"minutes")}function $(O){var N=e(O).startOf("day"),J=e(O);return J.diff(N,"minutes")+i(O)}function te(O,N){var J=e(O),K=e(N);return J.isBefore(K,"day")}function se(O,N,J){var K=e(N),ie=e(J);return K.isSameOrAfter(ie,"minutes")}function X(O,N){var J=e(O),K=e(N),ie=e.duration(K.diff(J));return ie.days()}function Z(O){var N=O.evtA,J=N.start,K=N.end,ie=N.allDay,de=O.evtB,Re=de.start,ye=de.end,be=de.allDay,Le=+o(J,"day")-+o(Re,"day"),et=X(J,K),Ge=X(Re,ye);return Le||Ge-et||!!be-!!ie||+J-+Re||+K-+ye}function z(O){var N=O.event,J=N.start,K=N.end,ie=O.range,de=ie.start,Re=ie.end,ye=e(J).startOf("day"),be=e(K),Le=e(de),et=e(Re),Ge=ye.isSameOrBefore(et,"day"),je=!ye.isSame(be,"minutes"),ct=je?be.isAfter(Le,"minutes"):be.isSameOrAfter(Le,"minutes");return Ge&&ct}function ne(O,N){var J=e(O),K=e(N);return J.isSame(K,"day")}function re(){var O=new Date,N=/-/.test(O.toString())?"-":"",J=O.getTimezoneOffset(),K=Number("".concat(N).concat(Math.abs(J))),ie=e().utcOffset();return ie>K?1:0}return new $Z({formats:Qee,firstOfWeek:T,firstVisibleDay:I,lastVisibleDay:L,visibleDays:H,format:function(N,J,K){return t(e(N),K).format(J)},lt:f,lte:v,gt:p,gte:g,eq:u,neq:d,merge:b,inRange:w,startOf:o,endOf:a,range:P,add:E,diff:k,ceil:F,min:y,max:S,minutes:A,getSlotDate:G,getTimezoneOffset:r,getDstOffset:n,getTotalMin:V,getMinutesFromMidnight:$,continuesPrior:te,continuesAfter:se,sortEvents:Z,inEventRange:z,isSameDate:ne,daySpan:X,browserTZOffset:re})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var x_;function me(){return x_.apply(null,arguments)}function Jee(e){x_=e}function Vn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Go(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hb(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Je(e,t))return!1;return!0}function Gr(e){return e===void 0}function is(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function $c(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function M_(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function Gs(e,t){for(var r in t)Je(t,r)&&(e[r]=t[r]);return Je(t,"toString")&&(e.toString=t.toString),Je(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ei(e,t,r,n){return J_(e,t,r,n,!0).utc()}function Zee(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _e(e){return e._pf==null&&(e._pf=Zee()),e._pf}var BS;Array.prototype.some?BS=Array.prototype.some:BS=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Wb(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=_e(e),r=BS.call(t.parsedDateParts,function(i){return i!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Of(e){var t=Ei(NaN);return e!=null?Gs(_e(t),e):_e(t).userInvalidated=!0,t}var zk=me.momentProperties=[],jy=!1;function Bb(e,t){var r,n,i,s=zk.length;if(Gr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Gr(t._i)||(e._i=t._i),Gr(t._f)||(e._f=t._f),Gr(t._l)||(e._l=t._l),Gr(t._strict)||(e._strict=t._strict),Gr(t._tzm)||(e._tzm=t._tzm),Gr(t._isUTC)||(e._isUTC=t._isUTC),Gr(t._offset)||(e._offset=t._offset),Gr(t._pf)||(e._pf=_e(t)),Gr(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=zk[r],i=t[n],Gr(i)||(e[n]=i);return e}function Yc(e){Bb(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jy===!1&&(jy=!0,me.updateOffset(this),jy=!1)}function zn(e){return e instanceof Yc||e!=null&&e._isAMomentObject!=null}function T_(e){me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Dn(e,t){var r=!0;return Gs(function(){if(me.deprecationHandler!=null&&me.deprecationHandler(null,e),r){var n=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Je(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];n.push(i)}T_(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Uk={};function k_(e,t){me.deprecationHandler!=null&&me.deprecationHandler(e,t),Uk[e]||(T_(t),Uk[e]=!0)}me.suppressDeprecationWarnings=!1;me.deprecationHandler=null;function Pi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function ete(e){var t,r;for(r in e)Je(e,r)&&(t=e[r],Pi(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function VS(e,t){var r=Gs({},e),n;for(n in t)Je(t,n)&&(Go(e[n])&&Go(t[n])?(r[n]={},Gs(r[n],e[n]),Gs(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Je(e,n)&&!Je(t,n)&&Go(e[n])&&(r[n]=Gs({},r[n]));return r}function Vb(e){e!=null&&this.set(e)}var zS;Object.keys?zS=Object.keys:zS=function(e){var t,r=[];for(t in e)Je(e,t)&&r.push(t);return r};var tte={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function rte(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Pi(n)?n.call(t,r):n}function Ci(e,t,r){var n=""+Math.abs(e),i=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var zb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Eh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ky={},$a={};function Te(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&($a[e]=i),t&&($a[t[0]]=function(){return Ci(i.apply(this,arguments),t[1],t[2])}),r&&($a[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function nte(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ite(e){var t=e.match(zb),r,n;for(r=0,n=t.length;r<n;r++)$a[t[r]]?t[r]=$a[t[r]]:t[r]=nte(t[r]);return function(i){var s="",o;for(o=0;o<n;o++)s+=Pi(t[o])?t[o].call(i,e):t[o];return s}}function Zh(e,t){return e.isValid()?(t=A_(t,e.localeData()),Ky[t]=Ky[t]||ite(t),Ky[t](e)):e.localeData().invalidDate()}function A_(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(Eh.lastIndex=0;r>=0&&Eh.test(e);)e=e.replace(Eh,n),Eh.lastIndex=0,r-=1;return e}var ste={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ote(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(zb).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var ate="Invalid date";function lte(){return this._invalidDate}var ute="%d",cte=/\d{1,2}/;function dte(e){return this._ordinal.replace("%d",e)}var hte={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pte(e,t,r,n){var i=this._relativeTime[r];return Pi(i)?i(e,t,r,n):i.replace(/%d/i,e)}function fte(e,t){var r=this._relativeTime[e>0?"future":"past"];return Pi(r)?r(t):r.replace(/%s/i,t)}var $k={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function En(e){return typeof e=="string"?$k[e]||$k[e.toLowerCase()]:void 0}function Ub(e){var t={},r,n;for(n in e)Je(e,n)&&(r=En(n),r&&(t[r]=e[n]));return t}var gte={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function mte(e){var t=[],r;for(r in e)Je(e,r)&&t.push({unit:r,priority:gte[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}var O_=/\d/,nn=/\d\d/,I_=/\d{3}/,$b=/\d{4}/,If=/[+-]?\d{6}/,yt=/\d\d?/,L_=/\d\d\d\d?/,__=/\d\d\d\d\d\d?/,Lf=/\d{1,3}/,Yb=/\d{1,4}/,_f=/[+-]?\d{1,6}/,Pl=/\d+/,Nf=/[+-]?\d+/,vte=/Z|[+-]\d\d:?\d\d/gi,Gf=/Z|[+-]\d\d(?::?\d\d)?/gi,Cte=/[+-]?\d+(\.\d{1,3})?/,qc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fl=/^[1-9]\d?/,qb=/^([1-9]\d|\d)/,Hp;Hp={};function we(e,t,r){Hp[e]=Pi(t)?t:function(n,i){return n&&r?r:t}}function wte(e,t){return Je(Hp,e)?Hp[e](t._strict,t._locale):new RegExp(yte(e))}function yte(e){return Qi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,s){return r||n||i||s}))}function Qi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ze(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=fn(t)),r}var US={};function at(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),is(t)&&(n=function(s,o){o[t]=ze(s)}),i=e.length,r=0;r<i;r++)US[e[r]]=n}function jc(e,t){at(e,function(r,n,i,s){i._w=i._w||{},t(r,i._w,i,s)})}function Ste(e,t,r){t!=null&&Je(US,e)&&US[e](t,r._a,r,e)}function Hf(e){return e%4===0&&e%100!==0||e%400===0}var fr=0,Wi=1,si=2,jt=3,Nn=4,Bi=5,Fo=6,Rte=7,bte=8;Te("Y",0,0,function(){var e=this.year();return e<=9999?Ci(e,4):"+"+e});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");we("Y",Nf);we("YY",yt,nn);we("YYYY",Yb,$b);we("YYYYY",_f,If);we("YYYYYY",_f,If);at(["YYYYY","YYYYYY"],fr);at("YYYY",function(e,t){t[fr]=e.length===2?me.parseTwoDigitYear(e):ze(e)});at("YY",function(e,t){t[fr]=me.parseTwoDigitYear(e)});at("Y",function(e,t){t[fr]=parseInt(e,10)});function zu(e){return Hf(e)?366:365}me.parseTwoDigitYear=function(e){return ze(e)+(ze(e)>68?1900:2e3)};var N_=xl("FullYear",!0);function Dte(){return Hf(this.year())}function xl(e,t){return function(r){return r!=null?(G_(this,e,r),me.updateOffset(this,t),this):mc(this,e)}}function mc(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function G_(e,t,r){var n,i,s,o,a;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,o=e.month(),a=e.date(),a=a===29&&o===1&&!Hf(s)?28:a,i?n.setUTCFullYear(s,o,a):n.setFullYear(s,o,a)}}function Ete(e){return e=En(e),Pi(this[e])?this[e]():this}function Pte(e,t){if(typeof e=="object"){e=Ub(e);var r=mte(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=En(e),Pi(this[e]))return this[e](t);return this}function Fte(e,t){return(e%t+t)%t}var Ht;Array.prototype.indexOf?Ht=Array.prototype.indexOf:Ht=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function jb(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Fte(t,12);return e+=(t-r)/12,r===1?Hf(e)?29:28:31-r%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Te("MMMM",0,0,function(e){return this.localeData().months(this,e)});we("M",yt,Fl);we("MM",yt,nn);we("MMM",function(e,t){return t.monthsShortRegex(e)});we("MMMM",function(e,t){return t.monthsRegex(e)});at(["M","MM"],function(e,t){t[Wi]=ze(e)-1});at(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[Wi]=i:_e(r).invalidMonth=e});var xte="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),H_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),W_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mte=qc,Tte=qc;function kte(e,t){return e?Vn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||W_).test(t)?"format":"standalone"][e.month()]:Vn(this._months)?this._months:this._months.standalone}function Ate(e,t){return e?Vn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[W_.test(t)?"format":"standalone"][e.month()]:Vn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ote(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Ei([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(i=Ht.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Ht.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Ht.call(this._shortMonthsParse,o),i!==-1?i:(i=Ht.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Ht.call(this._longMonthsParse,o),i!==-1?i:(i=Ht.call(this._shortMonthsParse,o),i!==-1?i:null))}function Ite(e,t,r){var n,i,s;if(this._monthsParseExact)return Ote.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=Ei([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function B_(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ze(t);else if(t=e.localeData().monthsParse(t),!is(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,jb(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function V_(e){return e!=null?(B_(this,e),me.updateOffset(this,!0),this):mc(this,"Month")}function Lte(){return jb(this.year(),this.month())}function _te(e){return this._monthsParseExact?(Je(this,"_monthsRegex")||z_.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Je(this,"_monthsShortRegex")||(this._monthsShortRegex=Mte),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Nte(e){return this._monthsParseExact?(Je(this,"_monthsRegex")||z_.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Je(this,"_monthsRegex")||(this._monthsRegex=Tte),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function z_(){function e(u,d){return d.length-u.length}var t=[],r=[],n=[],i,s,o,a;for(i=0;i<12;i++)s=Ei([2e3,i]),o=Qi(this.monthsShort(s,"")),a=Qi(this.months(s,"")),t.push(o),r.push(a),n.push(a),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Gte(e,t,r,n,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,s,o),a}function vc(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Wp(e,t,r){var n=7+t-r,i=(7+vc(e,0,n).getUTCDay()-t)%7;return-i+n-1}function U_(e,t,r,n,i){var s=(7+r-n)%7,o=Wp(e,n,i),a=1+7*(t-1)+s+o,u,d;return a<=0?(u=e-1,d=zu(u)+a):a>zu(e)?(u=e+1,d=a-zu(e)):(u=e,d=a),{year:u,dayOfYear:d}}function Cc(e,t,r){var n=Wp(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,s,o;return i<1?(o=e.year()-1,s=i+Xi(o,t,r)):i>Xi(e.year(),t,r)?(s=i-Xi(e.year(),t,r),o=e.year()+1):(o=e.year(),s=i),{week:s,year:o}}function Xi(e,t,r){var n=Wp(e,t,r),i=Wp(e+1,t,r);return(zu(e)-n+i)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");we("w",yt,Fl);we("ww",yt,nn);we("W",yt,Fl);we("WW",yt,nn);jc(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=ze(e)});function Hte(e){return Cc(e,this._week.dow,this._week.doy).week}var Wte={dow:0,doy:6};function Bte(){return this._week.dow}function Vte(){return this._week.doy}function zte(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Ute(e){var t=Cc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Te("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Te("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");we("d",yt);we("e",yt);we("E",yt);we("dd",function(e,t){return t.weekdaysMinRegex(e)});we("ddd",function(e,t){return t.weekdaysShortRegex(e)});we("dddd",function(e,t){return t.weekdaysRegex(e)});jc(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:_e(r).invalidWeekday=e});jc(["d","e","E"],function(e,t,r,n){t[n]=ze(e)});function $te(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Yte(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Kb(e,t){return e.slice(t,7).concat(e.slice(0,t))}var qte="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jte="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kte=qc,Qte=qc,Xte=qc;function Jte(e,t){var r=Vn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Kb(r,this._week.dow):e?r[e.day()]:r}function Zte(e){return e===!0?Kb(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ere(e){return e===!0?Kb(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function tre(e,t,r){var n,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Ei([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(i=Ht.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Ht.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Ht.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Ht.call(this._weekdaysParse,o),i!==-1||(i=Ht.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Ht.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Ht.call(this._shortWeekdaysParse,o),i!==-1||(i=Ht.call(this._weekdaysParse,o),i!==-1)?i:(i=Ht.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Ht.call(this._minWeekdaysParse,o),i!==-1||(i=Ht.call(this._weekdaysParse,o),i!==-1)?i:(i=Ht.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function rre(e,t,r){var n,i,s;if(this._weekdaysParseExact)return tre.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=Ei([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function nre(e){if(!this.isValid())return e!=null?this:NaN;var t=mc(this,"Day");return e!=null?(e=$te(e,this.localeData()),this.add(e-t,"d")):t}function ire(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function sre(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Yte(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function ore(e){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||Qb.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Je(this,"_weekdaysRegex")||(this._weekdaysRegex=Kte),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function are(e){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||Qb.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Je(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qte),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function lre(e){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||Qb.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Je(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xte),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qb(){function e(p,f){return f.length-p.length}var t=[],r=[],n=[],i=[],s,o,a,u,d;for(s=0;s<7;s++)o=Ei([2e3,1]).day(s),a=Qi(this.weekdaysMin(o,"")),u=Qi(this.weekdaysShort(o,"")),d=Qi(this.weekdays(o,"")),t.push(a),r.push(u),n.push(d),i.push(a),i.push(u),i.push(d);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Xb(){return this.hours()%12||12}function ure(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,Xb);Te("k",["kk",2],0,ure);Te("hmm",0,0,function(){return""+Xb.apply(this)+Ci(this.minutes(),2)});Te("hmmss",0,0,function(){return""+Xb.apply(this)+Ci(this.minutes(),2)+Ci(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+Ci(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+Ci(this.minutes(),2)+Ci(this.seconds(),2)});function Y_(e,t){Te(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Y_("a",!0);Y_("A",!1);function q_(e,t){return t._meridiemParse}we("a",q_);we("A",q_);we("H",yt,qb);we("h",yt,Fl);we("k",yt,Fl);we("HH",yt,nn);we("hh",yt,nn);we("kk",yt,nn);we("hmm",L_);we("hmmss",__);we("Hmm",L_);we("Hmmss",__);at(["H","HH"],jt);at(["k","kk"],function(e,t,r){var n=ze(e);t[jt]=n===24?0:n});at(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});at(["h","hh"],function(e,t,r){t[jt]=ze(e),_e(r).bigHour=!0});at("hmm",function(e,t,r){var n=e.length-2;t[jt]=ze(e.substr(0,n)),t[Nn]=ze(e.substr(n)),_e(r).bigHour=!0});at("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[jt]=ze(e.substr(0,n)),t[Nn]=ze(e.substr(n,2)),t[Bi]=ze(e.substr(i)),_e(r).bigHour=!0});at("Hmm",function(e,t,r){var n=e.length-2;t[jt]=ze(e.substr(0,n)),t[Nn]=ze(e.substr(n))});at("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[jt]=ze(e.substr(0,n)),t[Nn]=ze(e.substr(n,2)),t[Bi]=ze(e.substr(i))});function cre(e){return(e+"").toLowerCase().charAt(0)==="p"}var dre=/[ap]\.?m?\.?/i,hre=xl("Hours",!0);function pre(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var j_={calendar:tte,longDateFormat:ste,invalidDate:ate,ordinal:ute,dayOfMonthOrdinalParse:cte,relativeTime:hte,months:xte,monthsShort:H_,week:Wte,weekdays:qte,weekdaysMin:jte,weekdaysShort:$_,meridiemParse:dre},Rt={},Eu={},wc;function fre(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function Yk(e){return e&&e.toLowerCase().replace("_","-")}function gre(e){for(var t=0,r,n,i,s;t<e.length;){for(s=Yk(e[t]).split("-"),r=s.length,n=Yk(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=Wf(s.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&fre(s,n)>=r-1)break;r--}t++}return wc}function mre(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Wf(e){var t=null,r;if(Rt[e]===void 0&&typeof rp<"u"&&rp&&rp.exports&&mre(e))try{t=wc._abbr,r=require,r("./locale/"+e),Vs(t)}catch{Rt[e]=null}return Rt[e]}function Vs(e,t){var r;return e&&(Gr(t)?r=ls(e):r=Jb(e,t),r?wc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),wc._abbr}function Jb(e,t){if(t!==null){var r,n=j_;if(t.abbr=e,Rt[e]!=null)k_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Rt[e]._config;else if(t.parentLocale!=null)if(Rt[t.parentLocale]!=null)n=Rt[t.parentLocale]._config;else if(r=Wf(t.parentLocale),r!=null)n=r._config;else return Eu[t.parentLocale]||(Eu[t.parentLocale]=[]),Eu[t.parentLocale].push({name:e,config:t}),null;return Rt[e]=new Vb(VS(n,t)),Eu[e]&&Eu[e].forEach(function(i){Jb(i.name,i.config)}),Vs(e),Rt[e]}else return delete Rt[e],null}function vre(e,t){if(t!=null){var r,n,i=j_;Rt[e]!=null&&Rt[e].parentLocale!=null?Rt[e].set(VS(Rt[e]._config,t)):(n=Wf(e),n!=null&&(i=n._config),t=VS(i,t),n==null&&(t.abbr=e),r=new Vb(t),r.parentLocale=Rt[e],Rt[e]=r),Vs(e)}else Rt[e]!=null&&(Rt[e].parentLocale!=null?(Rt[e]=Rt[e].parentLocale,e===Vs()&&Vs(e)):Rt[e]!=null&&delete Rt[e]);return Rt[e]}function ls(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wc;if(!Vn(e)){if(t=Wf(e),t)return t;e=[e]}return gre(e)}function Cre(){return zS(Rt)}function Zb(e){var t,r=e._a;return r&&_e(e).overflow===-2&&(t=r[Wi]<0||r[Wi]>11?Wi:r[si]<1||r[si]>jb(r[fr],r[Wi])?si:r[jt]<0||r[jt]>24||r[jt]===24&&(r[Nn]!==0||r[Bi]!==0||r[Fo]!==0)?jt:r[Nn]<0||r[Nn]>59?Nn:r[Bi]<0||r[Bi]>59?Bi:r[Fo]<0||r[Fo]>999?Fo:-1,_e(e)._overflowDayOfYear&&(t<fr||t>si)&&(t=si),_e(e)._overflowWeeks&&t===-1&&(t=Rte),_e(e)._overflowWeekday&&t===-1&&(t=bte),_e(e).overflow=t),e}var wre=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yre=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sre=/Z|[+-]\d\d(?::?\d\d)?/,Ph=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qy=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rre=/^\/?Date\((-?\d+)/i,bre=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dre={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K_(e){var t,r,n=e._i,i=wre.exec(n)||yre.exec(n),s,o,a,u,d=Ph.length,p=Qy.length;if(i){for(_e(e).iso=!0,t=0,r=d;t<r;t++)if(Ph[t][1].exec(i[1])){o=Ph[t][0],s=Ph[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,r=p;t<r;t++)if(Qy[t][1].exec(i[3])){a=(i[2]||" ")+Qy[t][0];break}if(a==null){e._isValid=!1;return}}if(!s&&a!=null){e._isValid=!1;return}if(i[4])if(Sre.exec(i[4]))u="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(u||""),tD(e)}else e._isValid=!1}function Ere(e,t,r,n,i,s){var o=[Pre(e),H_.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Pre(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Fre(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xre(e,t,r){if(e){var n=$_.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return _e(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Mre(e,t,r){if(e)return Dre[e];if(t)return 0;var n=parseInt(r,10),i=n%100,s=(n-i)/100;return s*60+i}function Q_(e){var t=bre.exec(Fre(e._i)),r;if(t){if(r=Ere(t[4],t[3],t[2],t[5],t[6],t[7]),!xre(t[1],r,e))return;e._a=r,e._tzm=Mre(t[8],t[9],t[10]),e._d=vc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_e(e).rfc2822=!0}else e._isValid=!1}function Tre(e){var t=Rre.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(K_(e),e._isValid===!1)delete e._isValid;else return;if(Q_(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:me.createFromInputFallback(e)}me.createFromInputFallback=Dn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Na(e,t,r){return e??t??r}function kre(e){var t=new Date(me.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function eD(e){var t,r,n=[],i,s,o;if(!e._d){for(i=kre(e),e._w&&e._a[si]==null&&e._a[Wi]==null&&Are(e),e._dayOfYear!=null&&(o=Na(e._a[fr],i[fr]),(e._dayOfYear>zu(o)||e._dayOfYear===0)&&(_e(e)._overflowDayOfYear=!0),r=vc(o,0,e._dayOfYear),e._a[Wi]=r.getUTCMonth(),e._a[si]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[jt]===24&&e._a[Nn]===0&&e._a[Bi]===0&&e._a[Fo]===0&&(e._nextDay=!0,e._a[jt]=0),e._d=(e._useUTC?vc:Gte).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[jt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(_e(e).weekdayMismatch=!0)}}function Are(e){var t,r,n,i,s,o,a,u,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,r=Na(t.GG,e._a[fr],Cc(wt(),1,4).year),n=Na(t.W,1),i=Na(t.E,1),(i<1||i>7)&&(u=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,d=Cc(wt(),s,o),r=Na(t.gg,e._a[fr],d.year),n=Na(t.w,d.week),t.d!=null?(i=t.d,(i<0||i>6)&&(u=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(u=!0)):i=s),n<1||n>Xi(r,s,o)?_e(e)._overflowWeeks=!0:u!=null?_e(e)._overflowWeekday=!0:(a=U_(r,n,i,s,o),e._a[fr]=a.year,e._dayOfYear=a.dayOfYear)}me.ISO_8601=function(){};me.RFC_2822=function(){};function tD(e){if(e._f===me.ISO_8601){K_(e);return}if(e._f===me.RFC_2822){Q_(e);return}e._a=[],_e(e).empty=!0;var t=""+e._i,r,n,i,s,o,a=t.length,u=0,d,p;for(i=A_(e._f,e._locale).match(zb)||[],p=i.length,r=0;r<p;r++)s=i[r],n=(t.match(wte(s,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&_e(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),u+=n.length),$a[s]?(n?_e(e).empty=!1:_e(e).unusedTokens.push(s),Ste(s,n,e)):e._strict&&!n&&_e(e).unusedTokens.push(s);_e(e).charsLeftOver=a-u,t.length>0&&_e(e).unusedInput.push(t),e._a[jt]<=12&&_e(e).bigHour===!0&&e._a[jt]>0&&(_e(e).bigHour=void 0),_e(e).parsedDateParts=e._a.slice(0),_e(e).meridiem=e._meridiem,e._a[jt]=Ore(e._locale,e._a[jt],e._meridiem),d=_e(e).era,d!==null&&(e._a[fr]=e._locale.erasConvertYear(d,e._a[fr])),eD(e),Zb(e)}function Ore(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Ire(e){var t,r,n,i,s,o,a=!1,u=e._f.length;if(u===0){_e(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<u;i++)s=0,o=!1,t=Bb({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],tD(t),Wb(t)&&(o=!0),s+=_e(t).charsLeftOver,s+=_e(t).unusedTokens.length*10,_e(t).score=s,a?s<n&&(n=s,r=t):(n==null||s<n||o)&&(n=s,r=t,o&&(a=!0));Gs(e,r||t)}function Lre(e){if(!e._d){var t=Ub(e._i),r=t.day===void 0?t.date:t.day;e._a=M_([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),eD(e)}}function _re(e){var t=new Yc(Zb(X_(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function X_(e){var t=e._i,r=e._f;return e._locale=e._locale||ls(e._l),t===null||r===void 0&&t===""?Of({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),zn(t)?new Yc(Zb(t)):($c(t)?e._d=t:Vn(r)?Ire(e):r?tD(e):Nre(e),Wb(e)||(e._d=null),e))}function Nre(e){var t=e._i;Gr(t)?e._d=new Date(me.now()):$c(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Tre(e):Vn(t)?(e._a=M_(t.slice(0),function(r){return parseInt(r,10)}),eD(e)):Go(t)?Lre(e):is(t)?e._d=new Date(t):me.createFromInputFallback(e)}function J_(e,t,r,n,i){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Go(e)&&Hb(e)||Vn(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=e,s._f=t,s._strict=n,_re(s)}function wt(e,t,r,n){return J_(e,t,r,n,!1)}var Gre=Dn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Of()}),Hre=Dn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Of()});function Z_(e,t){var r,n;if(t.length===1&&Vn(t[0])&&(t=t[0]),!t.length)return wt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Wre(){var e=[].slice.call(arguments,0);return Z_("isBefore",e)}function Bre(){var e=[].slice.call(arguments,0);return Z_("isAfter",e)}var Vre=function(){return Date.now?Date.now():+new Date},Pu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zre(e){var t,r=!1,n,i=Pu.length;for(t in e)if(Je(e,t)&&!(Ht.call(Pu,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Pu[n]]){if(r)return!1;parseFloat(e[Pu[n]])!==ze(e[Pu[n]])&&(r=!0)}return!0}function Ure(){return this._isValid}function $re(){return Un(NaN)}function Bf(e){var t=Ub(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,u=t.minute||0,d=t.second||0,p=t.millisecond||0;this._isValid=zre(t),this._milliseconds=+p+d*1e3+u*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+n*3+r*12,this._data={},this._locale=ls(),this._bubble()}function ep(e){return e instanceof Bf}function $S(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Yre(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<n;o++)ze(e[o])!==ze(t[o])&&s++;return s+i}function e1(e,t){Te(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Ci(~~(r/60),2)+t+Ci(~~r%60,2)})}e1("Z",":");e1("ZZ","");we("Z",Gf);we("ZZ",Gf);at(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=rD(Gf,e)});var qre=/([\+\-]|\d\d)/gi;function rD(e,t){var r=(t||"").match(e),n,i,s;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(qre)||["-",0,0],s=+(i[1]*60)+ze(i[2]),s===0?0:i[0]==="+"?s:-s)}function nD(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(zn(e)||$c(e)?e.valueOf():wt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),me.updateOffset(r,!1),r):wt(e).local()}function YS(e){return-Math.round(e._d.getTimezoneOffset())}me.updateOffset=function(){};function jre(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=rD(Gf,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=YS(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?n1(this,Un(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:YS(this)}function Kre(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qre(e){return this.utcOffset(0,e)}function Xre(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(YS(this),"m")),this}function Jre(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=rD(vte,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Zre(e){return this.isValid()?(e=e?wt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ene(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tne(){if(!Gr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Bb(e,this),e=X_(e),e._a?(t=e._isUTC?Ei(e._a):wt(e._a),this._isDSTShifted=this.isValid()&&Yre(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rne(){return this.isValid()?!this._isUTC:!1}function nne(){return this.isValid()?this._isUTC:!1}function t1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ine=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sne=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Un(e,t){var r=e,n=null,i,s,o;return ep(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:is(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=ine.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:ze(n[si])*i,h:ze(n[jt])*i,m:ze(n[Nn])*i,s:ze(n[Bi])*i,ms:ze($S(n[Fo]*1e3))*i}):(n=sne.exec(e))?(i=n[1]==="-"?-1:1,r={y:mo(n[2],i),M:mo(n[3],i),w:mo(n[4],i),d:mo(n[5],i),h:mo(n[6],i),m:mo(n[7],i),s:mo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=one(wt(r.from),wt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),s=new Bf(r),ep(e)&&Je(e,"_locale")&&(s._locale=e._locale),ep(e)&&Je(e,"_isValid")&&(s._isValid=e._isValid),s}Un.fn=Bf.prototype;Un.invalid=$re;function mo(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function qk(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function one(e,t){var r;return e.isValid()&&t.isValid()?(t=nD(t,e),e.isBefore(t)?r=qk(e,t):(r=qk(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function r1(e,t){return function(r,n){var i,s;return n!==null&&!isNaN(+n)&&(k_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),i=Un(r,n),n1(this,i,e),this}}function n1(e,t,r,n){var i=t._milliseconds,s=$S(t._days),o=$S(t._months);e.isValid()&&(n=n??!0,o&&B_(e,mc(e,"Month")+o*r),s&&G_(e,"Date",mc(e,"Date")+s*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&me.updateOffset(e,s||o))}var ane=r1(1,"add"),lne=r1(-1,"subtract");function i1(e){return typeof e=="string"||e instanceof String}function une(e){return zn(e)||$c(e)||i1(e)||is(e)||dne(e)||cne(e)||e===null||e===void 0}function cne(e){var t=Go(e)&&!Hb(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=n.length;for(i=0;i<o;i+=1)s=n[i],r=r||Je(e,s);return t&&r}function dne(e){var t=Vn(e),r=!1;return t&&(r=e.filter(function(n){return!is(n)&&i1(e)}).length===0),t&&r}function hne(e){var t=Go(e)&&!Hb(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<n.length;i+=1)s=n[i],r=r||Je(e,s);return t&&r}function pne(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function fne(e,t){arguments.length===1&&(arguments[0]?une(arguments[0])?(e=arguments[0],t=void 0):hne(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||wt(),n=nD(r,this).startOf("day"),i=me.calendarFormat(this,n)||"sameElse",s=t&&(Pi(t[i])?t[i].call(this,r):t[i]);return this.format(s||this.localeData().calendar(i,this,wt(r)))}function gne(){return new Yc(this)}function mne(e,t){var r=zn(e)?e:wt(e);return this.isValid()&&r.isValid()?(t=En(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function vne(e,t){var r=zn(e)?e:wt(e);return this.isValid()&&r.isValid()?(t=En(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Cne(e,t,r,n){var i=zn(e)?e:wt(e),s=zn(t)?t:wt(t);return this.isValid()&&i.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function wne(e,t){var r=zn(e)?e:wt(e),n;return this.isValid()&&r.isValid()?(t=En(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function yne(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Sne(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Rne(e,t,r){var n,i,s;if(!this.isValid())return NaN;if(n=nD(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=En(t),t){case"year":s=tp(this,n)/12;break;case"month":s=tp(this,n);break;case"quarter":s=tp(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:fn(s)}function tp(e,t){if(e.date()<t.date())return-tp(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,s;return t-n<0?(i=e.clone().add(r-1,"months"),s=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),s=(t-n)/(i-n)),-(r+s)||0}me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bne(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Dne(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Zh(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Pi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zh(r,"Z")):Zh(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ene(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+i+s)}function Pne(e){e||(e=this.isUtc()?me.defaultFormatUtc:me.defaultFormat);var t=Zh(this,e);return this.localeData().postformat(t)}function Fne(e,t){return this.isValid()&&(zn(e)&&e.isValid()||wt(e).isValid())?Un({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xne(e){return this.from(wt(),e)}function Mne(e,t){return this.isValid()&&(zn(e)&&e.isValid()||wt(e).isValid())?Un({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tne(e){return this.to(wt(),e)}function s1(e){var t;return e===void 0?this._locale._abbr:(t=ls(e),t!=null&&(this._locale=t),this)}var o1=Dn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function a1(){return this._locale}var Bp=1e3,Ya=60*Bp,Vp=60*Ya,l1=(365*400+97)*24*Vp;function qa(e,t){return(e%t+t)%t}function u1(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-l1:new Date(e,t,r).valueOf()}function c1(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-l1:Date.UTC(e,t,r)}function kne(e){var t,r;if(e=En(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?c1:u1,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=qa(t+(this._isUTC?0:this.utcOffset()*Ya),Vp);break;case"minute":t=this._d.valueOf(),t-=qa(t,Ya);break;case"second":t=this._d.valueOf(),t-=qa(t,Bp);break}return this._d.setTime(t),me.updateOffset(this,!0),this}function Ane(e){var t,r;if(e=En(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?c1:u1,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Vp-qa(t+(this._isUTC?0:this.utcOffset()*Ya),Vp)-1;break;case"minute":t=this._d.valueOf(),t+=Ya-qa(t,Ya)-1;break;case"second":t=this._d.valueOf(),t+=Bp-qa(t,Bp)-1;break}return this._d.setTime(t),me.updateOffset(this,!0),this}function One(){return this._d.valueOf()-(this._offset||0)*6e4}function Ine(){return Math.floor(this.valueOf()/1e3)}function Lne(){return new Date(this.valueOf())}function _ne(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Nne(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Gne(){return this.isValid()?this.toISOString():null}function Hne(){return Wb(this)}function Wne(){return Gs({},_e(this))}function Bne(){return _e(this).overflow}function Vne(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");we("N",iD);we("NN",iD);we("NNN",iD);we("NNNN",Zne);we("NNNNN",eie);at(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?_e(r).era=i:_e(r).invalidEra=e});we("y",Pl);we("yy",Pl);we("yyy",Pl);we("yyyy",Pl);we("yo",tie);at(["y","yy","yyy","yyyy"],fr);at(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[fr]=r._locale.eraYearOrdinalParse(e,i):t[fr]=parseInt(e,10)});function zne(e,t){var r,n,i,s=this._eras||ls("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":i=me(s[r].since).startOf("day"),s[r].since=i.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":i=me(s[r].until).startOf("day").valueOf(),s[r].until=i.valueOf();break}}return s}function Une(e,t,r){var n,i,s=this.eras(),o,a,u;for(e=e.toUpperCase(),n=0,i=s.length;n<i;++n)if(o=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),u=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(o===e)return s[n];break;case"NNNNN":if(u===e)return s[n];break}else if([o,a,u].indexOf(e)>=0)return s[n]}function $ne(e,t){var r=e.since<=e.until?1:-1;return t===void 0?me(e.since).year():me(e.since).year()+(t-e.offset)*r}function Yne(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function qne(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function jne(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function Kne(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-me(i[e].since).year())*r+i[e].offset;return this.year()}function Qne(e){return Je(this,"_erasNameRegex")||sD.call(this),e?this._erasNameRegex:this._erasRegex}function Xne(e){return Je(this,"_erasAbbrRegex")||sD.call(this),e?this._erasAbbrRegex:this._erasRegex}function Jne(e){return Je(this,"_erasNarrowRegex")||sD.call(this),e?this._erasNarrowRegex:this._erasRegex}function iD(e,t){return t.erasAbbrRegex(e)}function Zne(e,t){return t.erasNameRegex(e)}function eie(e,t){return t.erasNarrowRegex(e)}function tie(e,t){return t._eraYearOrdinalRegex||Pl}function sD(){var e=[],t=[],r=[],n=[],i,s,o,a,u,d=this.eras();for(i=0,s=d.length;i<s;++i)o=Qi(d[i].name),a=Qi(d[i].abbr),u=Qi(d[i].narrow),t.push(o),e.push(a),r.push(u),n.push(o),n.push(a),n.push(u);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vf(e,t){Te(0,[e,e.length],0,t)}Vf("gggg","weekYear");Vf("ggggg","weekYear");Vf("GGGG","isoWeekYear");Vf("GGGGG","isoWeekYear");we("G",Nf);we("g",Nf);we("GG",yt,nn);we("gg",yt,nn);we("GGGG",Yb,$b);we("gggg",Yb,$b);we("GGGGG",_f,If);we("ggggg",_f,If);jc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=ze(e)});jc(["gg","GG"],function(e,t,r,n){t[n]=me.parseTwoDigitYear(e)});function rie(e){return d1.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function nie(e){return d1.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function iie(){return Xi(this.year(),1,4)}function sie(){return Xi(this.isoWeekYear(),1,4)}function oie(){var e=this.localeData()._week;return Xi(this.year(),e.dow,e.doy)}function aie(){var e=this.localeData()._week;return Xi(this.weekYear(),e.dow,e.doy)}function d1(e,t,r,n,i){var s;return e==null?Cc(this,n,i).year:(s=Xi(e,n,i),t>s&&(t=s),lie.call(this,e,t,r,n,i))}function lie(e,t,r,n,i){var s=U_(e,t,r,n,i),o=vc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Te("Q",0,"Qo","quarter");we("Q",O_);at("Q",function(e,t){t[Wi]=(ze(e)-1)*3});function uie(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");we("D",yt,Fl);we("DD",yt,nn);we("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});at(["D","DD"],si);at("Do",function(e,t){t[si]=ze(e.match(yt)[0])});var h1=xl("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");we("DDD",Lf);we("DDDD",I_);at(["DDD","DDDD"],function(e,t,r){r._dayOfYear=ze(e)});function cie(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Te("m",["mm",2],0,"minute");we("m",yt,qb);we("mm",yt,nn);at(["m","mm"],Nn);var die=xl("Minutes",!1);Te("s",["ss",2],0,"second");we("s",yt,qb);we("ss",yt,nn);at(["s","ss"],Bi);var hie=xl("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});we("S",Lf,O_);we("SS",Lf,nn);we("SSS",Lf,I_);var Hs,p1;for(Hs="SSSS";Hs.length<=9;Hs+="S")we(Hs,Pl);function pie(e,t){t[Fo]=ze(("0."+e)*1e3)}for(Hs="S";Hs.length<=9;Hs+="S")at(Hs,pie);p1=xl("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function fie(){return this._isUTC?"UTC":""}function gie(){return this._isUTC?"Coordinated Universal Time":""}var he=Yc.prototype;he.add=ane;he.calendar=fne;he.clone=gne;he.diff=Rne;he.endOf=Ane;he.format=Pne;he.from=Fne;he.fromNow=xne;he.to=Mne;he.toNow=Tne;he.get=Ete;he.invalidAt=Bne;he.isAfter=mne;he.isBefore=vne;he.isBetween=Cne;he.isSame=wne;he.isSameOrAfter=yne;he.isSameOrBefore=Sne;he.isValid=Hne;he.lang=o1;he.locale=s1;he.localeData=a1;he.max=Hre;he.min=Gre;he.parsingFlags=Wne;he.set=Pte;he.startOf=kne;he.subtract=lne;he.toArray=_ne;he.toObject=Nne;he.toDate=Lne;he.toISOString=Dne;he.inspect=Ene;typeof Symbol<"u"&&Symbol.for!=null&&(he[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});he.toJSON=Gne;he.toString=bne;he.unix=Ine;he.valueOf=One;he.creationData=Vne;he.eraName=Yne;he.eraNarrow=qne;he.eraAbbr=jne;he.eraYear=Kne;he.year=N_;he.isLeapYear=Dte;he.weekYear=rie;he.isoWeekYear=nie;he.quarter=he.quarters=uie;he.month=V_;he.daysInMonth=Lte;he.week=he.weeks=zte;he.isoWeek=he.isoWeeks=Ute;he.weeksInYear=oie;he.weeksInWeekYear=aie;he.isoWeeksInYear=iie;he.isoWeeksInISOWeekYear=sie;he.date=h1;he.day=he.days=nre;he.weekday=ire;he.isoWeekday=sre;he.dayOfYear=cie;he.hour=he.hours=hre;he.minute=he.minutes=die;he.second=he.seconds=hie;he.millisecond=he.milliseconds=p1;he.utcOffset=jre;he.utc=Qre;he.local=Xre;he.parseZone=Jre;he.hasAlignedHourOffset=Zre;he.isDST=ene;he.isLocal=rne;he.isUtcOffset=nne;he.isUtc=t1;he.isUTC=t1;he.zoneAbbr=fie;he.zoneName=gie;he.dates=Dn("dates accessor is deprecated. Use date instead.",h1);he.months=Dn("months accessor is deprecated. Use month instead",V_);he.years=Dn("years accessor is deprecated. Use year instead",N_);he.zone=Dn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Kre);he.isDSTShifted=Dn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tne);function mie(e){return wt(e*1e3)}function vie(){return wt.apply(null,arguments).parseZone()}function f1(e){return e}var Ze=Vb.prototype;Ze.calendar=rte;Ze.longDateFormat=ote;Ze.invalidDate=lte;Ze.ordinal=dte;Ze.preparse=f1;Ze.postformat=f1;Ze.relativeTime=pte;Ze.pastFuture=fte;Ze.set=ete;Ze.eras=zne;Ze.erasParse=Une;Ze.erasConvertYear=$ne;Ze.erasAbbrRegex=Xne;Ze.erasNameRegex=Qne;Ze.erasNarrowRegex=Jne;Ze.months=kte;Ze.monthsShort=Ate;Ze.monthsParse=Ite;Ze.monthsRegex=Nte;Ze.monthsShortRegex=_te;Ze.week=Hte;Ze.firstDayOfYear=Vte;Ze.firstDayOfWeek=Bte;Ze.weekdays=Jte;Ze.weekdaysMin=ere;Ze.weekdaysShort=Zte;Ze.weekdaysParse=rre;Ze.weekdaysRegex=ore;Ze.weekdaysShortRegex=are;Ze.weekdaysMinRegex=lre;Ze.isPM=cre;Ze.meridiem=pre;function zp(e,t,r,n){var i=ls(),s=Ei().set(n,t);return i[r](s,e)}function g1(e,t,r){if(is(e)&&(t=e,e=void 0),e=e||"",t!=null)return zp(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=zp(e,n,r,"month");return i}function oD(e,t,r,n){typeof e=="boolean"?(is(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,is(t)&&(r=t,t=void 0),t=t||"");var i=ls(),s=e?i._week.dow:0,o,a=[];if(r!=null)return zp(t,(r+s)%7,n,"day");for(o=0;o<7;o++)a[o]=zp(t,(o+s)%7,n,"day");return a}function Cie(e,t){return g1(e,t,"months")}function wie(e,t){return g1(e,t,"monthsShort")}function yie(e,t,r){return oD(e,t,r,"weekdays")}function Sie(e,t,r){return oD(e,t,r,"weekdaysShort")}function Rie(e,t,r){return oD(e,t,r,"weekdaysMin")}Vs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=ze(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});me.lang=Dn("moment.lang is deprecated. Use moment.locale instead.",Vs);me.langData=Dn("moment.langData is deprecated. Use moment.localeData instead.",ls);var Li=Math.abs;function bie(){var e=this._data;return this._milliseconds=Li(this._milliseconds),this._days=Li(this._days),this._months=Li(this._months),e.milliseconds=Li(e.milliseconds),e.seconds=Li(e.seconds),e.minutes=Li(e.minutes),e.hours=Li(e.hours),e.months=Li(e.months),e.years=Li(e.years),this}function m1(e,t,r,n){var i=Un(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Die(e,t){return m1(this,e,t,1)}function Eie(e,t){return m1(this,e,t,-1)}function jk(e){return e<0?Math.floor(e):Math.ceil(e)}function Pie(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,s,o,a,u;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=jk(qS(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=fn(e/1e3),n.seconds=i%60,s=fn(i/60),n.minutes=s%60,o=fn(s/60),n.hours=o%24,t+=fn(o/24),u=fn(v1(t)),r+=u,t-=jk(qS(u)),a=fn(r/12),r%=12,n.days=t,n.months=r,n.years=a,this}function v1(e){return e*4800/146097}function qS(e){return e*146097/4800}function Fie(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=En(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+v1(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(qS(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function us(e){return function(){return this.as(e)}}var C1=us("ms"),xie=us("s"),Mie=us("m"),Tie=us("h"),kie=us("d"),Aie=us("w"),Oie=us("M"),Iie=us("Q"),Lie=us("y"),_ie=C1;function Nie(){return Un(this)}function Gie(e){return e=En(e),this.isValid()?this[e+"s"]():NaN}function sa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hie=sa("milliseconds"),Wie=sa("seconds"),Bie=sa("minutes"),Vie=sa("hours"),zie=sa("days"),Uie=sa("months"),$ie=sa("years");function Yie(){return fn(this.days()/7)}var Ni=Math.round,Ha={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qie(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function jie(e,t,r,n){var i=Un(e).abs(),s=Ni(i.as("s")),o=Ni(i.as("m")),a=Ni(i.as("h")),u=Ni(i.as("d")),d=Ni(i.as("M")),p=Ni(i.as("w")),f=Ni(i.as("y")),g=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||o<=1&&["m"]||o<r.m&&["mm",o]||a<=1&&["h"]||a<r.h&&["hh",a]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(g=g||p<=1&&["w"]||p<r.w&&["ww",p]),g=g||d<=1&&["M"]||d<r.M&&["MM",d]||f<=1&&["y"]||["yy",f],g[2]=t,g[3]=+e>0,g[4]=n,qie.apply(null,g)}function Kie(e){return e===void 0?Ni:typeof e=="function"?(Ni=e,!0):!1}function Qie(e,t){return Ha[e]===void 0?!1:t===void 0?Ha[e]:(Ha[e]=t,e==="s"&&(Ha.ss=t-1),!0)}function Xie(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Ha,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Ha,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),s=jie(this,!r,n,i),r&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Xy=Math.abs;function Aa(e){return(e>0)-(e<0)||+e}function zf(){if(!this.isValid())return this.localeData().invalidDate();var e=Xy(this._milliseconds)/1e3,t=Xy(this._days),r=Xy(this._months),n,i,s,o,a=this.asSeconds(),u,d,p,f;return a?(n=fn(e/60),i=fn(n/60),e%=60,n%=60,s=fn(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=a<0?"-":"",d=Aa(this._months)!==Aa(a)?"-":"",p=Aa(this._days)!==Aa(a)?"-":"",f=Aa(this._milliseconds)!==Aa(a)?"-":"",u+"P"+(s?d+s+"Y":"")+(r?d+r+"M":"")+(t?p+t+"D":"")+(i||n||e?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(e?f+o+"S":"")):"P0D"}var $e=Bf.prototype;$e.isValid=Ure;$e.abs=bie;$e.add=Die;$e.subtract=Eie;$e.as=Fie;$e.asMilliseconds=C1;$e.asSeconds=xie;$e.asMinutes=Mie;$e.asHours=Tie;$e.asDays=kie;$e.asWeeks=Aie;$e.asMonths=Oie;$e.asQuarters=Iie;$e.asYears=Lie;$e.valueOf=_ie;$e._bubble=Pie;$e.clone=Nie;$e.get=Gie;$e.milliseconds=Hie;$e.seconds=Wie;$e.minutes=Bie;$e.hours=Vie;$e.days=zie;$e.weeks=Yie;$e.months=Uie;$e.years=$ie;$e.humanize=Xie;$e.toISOString=zf;$e.toString=zf;$e.toJSON=zf;$e.locale=s1;$e.localeData=a1;$e.toIsoString=Dn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zf);$e.lang=o1;Te("X",0,0,"unix");Te("x",0,0,"valueOf");we("x",Nf);we("X",Cte);at("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});at("x",function(e,t,r){r._d=new Date(ze(e))});//! moment.js
me.version="2.30.1";Jee(wt);me.fn=he;me.min=Wre;me.max=Bre;me.now=Vre;me.utc=Ei;me.unix=mie;me.months=Cie;me.isDate=$c;me.locale=Vs;me.invalid=Of;me.duration=Un;me.isMoment=zn;me.weekdays=yie;me.parseZone=vie;me.localeData=ls;me.isDuration=ep;me.monthsShort=wie;me.weekdaysMin=Rie;me.defineLocale=Jb;me.updateLocale=vre;me.locales=Cre;me.weekdaysShort=Sie;me.normalizeUnits=En;me.relativeTimeRounding=Kie;me.relativeTimeThreshold=Qie;me.calendarFormat=pne;me.prototype=he;me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Jie=()=>{const e=Xee(me),[t,r]=D.useState([]);return D.useEffect(()=>{fetch("https://customer-rest-service-frontend-personaltrainer.2.rahtiapp.fi/api/trainings").then(n=>n.json()).then(n=>{const i=n._embedded.trainings.map(s=>({title:s.activity,start:new Date(s.date),end:new Date(new Date(s.date).getTime()+s.duration*6e4)}));r(i)}).catch(n=>console.error("Error fetching trainings:",n))},[]),xe.jsxs("div",{children:[xe.jsx("h2",{children:"Training Calendar"}),xe.jsx($ee,{localizer:e,events:t,startAccessor:"start",endAccessor:"end",style:{height:500},views:["month","week","day"]})]})};function Zie(){return xe.jsx(VH,{children:xe.jsxs("div",{children:[xe.jsxs("nav",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[xe.jsx(yo,{to:"/",style:{textDecoration:"none",color:"blue"},children:"Customer List"}),xe.jsx(yo,{to:"/add-customer",style:{textDecoration:"none",color:"blue"},children:"Add Customer"}),xe.jsx(yo,{to:"/trainings",style:{textDecoration:"none",color:"blue"},children:"Trainings"}),xe.jsx(yo,{to:"/add-training",style:{textDecoration:"none",color:"blue"},children:"Add Training"}),xe.jsx(yo,{to:"/calendar",style:{textDecoration:"none",color:"blue"},children:"Training Calendar"})]}),xe.jsxs(CH,{children:[xe.jsx(Oa,{path:"/",element:xe.jsx(t4,{})}),xe.jsx(Oa,{path:"/add-customer",element:xe.jsx(r4,{})}),xe.jsx(Oa,{path:"/trainings",element:xe.jsx(n4,{})}),xe.jsx(Oa,{path:"/add-training",element:xe.jsx(R8,{})}),xe.jsx(Oa,{path:"/calendar",element:xe.jsx(Jie,{})})]})]})})}FG.createRoot(document.getElementById("root")).render(xe.jsx(x.StrictMode,{children:xe.jsx(Zie,{})}))});export default ese();
